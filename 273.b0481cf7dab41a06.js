"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[273],{273:(Q,S,c)=>{c.r(S),c.d(S,{CreateTimePageModule:()=>Y});var _=c(6895),h=c(4006),l=c(8058),d=c(5861),u=c(3212),v=c(6806),r=c(7432),I=c(866),C=c(1052),x=c(2605),e=c(8274),P=c(5146),T=c(2835),y=c(6578),E=c(9265),f=c(2466),M=c(3018);function D(i,s){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"ion-button",19),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const a=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(a.delete())}),e.\u0275\u0275element(1,"ion-icon",21),e.\u0275\u0275elementEnd()}}function w(i,s){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"ion-buttons",18),e.\u0275\u0275template(1,D,2,0,"ion-button",8),e.\u0275\u0275elementStart(2,"ion-button",19),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const a=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(a.save())}),e.\u0275\u0275element(3,"ion-icon",20),e.\u0275\u0275elementEnd()()}if(2&i){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.isUpdate)}}function k(i,s){1&i&&e.\u0275\u0275element(0,"ion-spinner",22)}function b(i,s){1&i&&(e.\u0275\u0275elementStart(0,"ion-title"),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"translate"),e.\u0275\u0275elementEnd()),2&i&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(2,1,"Create effort")))}function j(i,s){1&i&&(e.\u0275\u0275elementStart(0,"ion-title"),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"translate"),e.\u0275\u0275elementEnd()),2&i&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(2,1,"Update effort")))}function V(i,s){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"ion-segment",23),e.\u0275\u0275listener("ionChange",function(a){e.\u0275\u0275restoreView(t);const o=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(o.segmentChanged(a))}),e.\u0275\u0275elementStart(1,"ion-segment-button",24)(2,"ion-label"),e.\u0275\u0275text(3),e.\u0275\u0275pipe(4,"translate"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(5,"ion-segment-button",25)(6,"ion-label"),e.\u0275\u0275text(7),e.\u0275\u0275pipe(8,"translate"),e.\u0275\u0275elementEnd()()()}if(2&i){const t=e.\u0275\u0275nextContext();e.\u0275\u0275property("value",null==t.timesheet||null==t.timesheet.tracking?null:t.timesheet.tracking.type),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(4,3,"Duration")),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(8,5,"Range"))}}function N(i,s){1&i&&(e.\u0275\u0275elementStart(0,"ion-label",11),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"translate"),e.\u0275\u0275elementEnd()),2&i&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(2,1,"Date(s)")))}function O(i,s){1&i&&(e.\u0275\u0275elementStart(0,"ion-label",11),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"translate"),e.\u0275\u0275elementEnd()),2&i&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(2,1,"Date")))}function B(i,s){if(1&i&&(e.\u0275\u0275elementStart(0,"p"),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"date"),e.\u0275\u0275elementEnd()),2&i){const t=s.$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind2(2,1,t,"EEEE dd.MM.yyyy"))}}function U(i,s){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"ion-item",19),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const a=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(a.openCalendar())}),e.\u0275\u0275template(1,N,3,3,"ion-label",26),e.\u0275\u0275template(2,O,3,3,"ion-label",26),e.\u0275\u0275template(3,B,3,4,"p",27),e.\u0275\u0275elementEnd()}if(2&i){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!t.isUpdate),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.isUpdate),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngForOf",t.selectedDates)}}function A(i,s){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"ion-row")(1,"ion-col")(2,"ion-item")(3,"ion-label",11),e.\u0275\u0275text(4),e.\u0275\u0275pipe(5,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(6,"ion-datetime",28),e.\u0275\u0275listener("ngModelChange",function(a){e.\u0275\u0275restoreView(t);const o=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(o.timesheet.tracking.start=a)})("ionChange",function(){e.\u0275\u0275restoreView(t);const a=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(a.onTimeChanged())}),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(7,"ion-col")(8,"ion-item")(9,"ion-label",11),e.\u0275\u0275text(10),e.\u0275\u0275pipe(11,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(12,"ion-datetime",29),e.\u0275\u0275listener("ngModelChange",function(a){e.\u0275\u0275restoreView(t);const o=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(o.timesheet.tracking.start=a)})("ionChange",function(){e.\u0275\u0275restoreView(t);const a=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(a.onTimeChanged())}),e.\u0275\u0275elementEnd()()()()}if(2&i){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(5,4,"Start")),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngModel",t.timesheet.tracking.start),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(11,6,"Time")),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngModel",t.timesheet.tracking.start)}}function L(i,s){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"ion-row")(1,"ion-col")(2,"ion-item",30)(3,"ion-label",11),e.\u0275\u0275text(4),e.\u0275\u0275pipe(5,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(6,"ion-datetime",28),e.\u0275\u0275listener("ngModelChange",function(a){e.\u0275\u0275restoreView(t);const o=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(o.timesheet.tracking.end=a)})("ionChange",function(){e.\u0275\u0275restoreView(t);const a=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(a.onTimeChanged())}),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(7,"ion-col")(8,"ion-item",30)(9,"ion-label",11),e.\u0275\u0275text(10),e.\u0275\u0275pipe(11,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(12,"ion-datetime",29),e.\u0275\u0275listener("ngModelChange",function(a){e.\u0275\u0275restoreView(t);const o=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(o.timesheet.tracking.end=a)})("ionChange",function(){e.\u0275\u0275restoreView(t);const a=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(a.onTimeChanged())}),e.\u0275\u0275elementEnd()()()()}if(2&i){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(5,4,"End")),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngModel",t.timesheet.tracking.end),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(11,6,"Time")),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngModel",t.timesheet.tracking.end)}}function F(i,s){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"ion-item",30)(1,"ion-label",11),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"span",31),e.\u0275\u0275text(5),e.\u0275\u0275pipe(6,"toDuration"),e.\u0275\u0275pipe(7,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(8,"ion-range",32),e.\u0275\u0275listener("ngModelChange",function(a){e.\u0275\u0275restoreView(t);const o=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(o.selectedDuration=a)}),e.\u0275\u0275elementEnd()()}if(2&i){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(3,6,"Duration")),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate2("",e.\u0275\u0275pipeBind1(6,8,t.selectedDuration)," ",e.\u0275\u0275pipeBind1(7,10,"hour(s)"),""),e.\u0275\u0275advance(3),e.\u0275\u0275property("min",t.steps)("step",t.steps)("ngModel",t.selectedDuration)}}function R(i,s){if(1&i&&(e.\u0275\u0275elementStart(0,"ion-item",30)(1,"ion-label",11),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"span",33),e.\u0275\u0275text(5),e.\u0275\u0275pipe(6,"translate"),e.\u0275\u0275elementEnd()()),2&i){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(3,3,"Duration")),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate2("",null==t.timesheet||null==t.timesheet.tracking?null:t.timesheet.tracking.duration," ",e.\u0275\u0275pipeBind1(6,5,"hour(s)"),"")}}function G(i,s){if(1&i&&(e.\u0275\u0275elementStart(0,"ion-select-option",34),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&i){const t=s.$implicit;e.\u0275\u0275property("value",t.id),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",t.name," ")}}function Z(i,s){if(1&i&&(e.\u0275\u0275elementStart(0,"ion-select-option",34),e.\u0275\u0275text(1),e.\u0275\u0275elementStart(2,"span",35),e.\u0275\u0275text(3,"\u2605"),e.\u0275\u0275elementEnd()()),2&i){const t=s.$implicit;e.\u0275\u0275propertyInterpolate("value",t.id),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1("",t.name," ")}}function J(i,s){if(1&i&&(e.\u0275\u0275elementStart(0,"ion-select-option",34),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&i){const t=s.$implicit;e.\u0275\u0275propertyInterpolate("value",t.id),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1("",t.name," ")}}function K(i,s){if(1&i&&(e.\u0275\u0275elementStart(0,"ion-select-option",34),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&i){const t=s.$implicit;e.\u0275\u0275property("value",t.id),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1("",t.name," ")}}let H=(()=>{class i{constructor(t,n,a,o,p,m,g,W){this.apiService=t,this.router=n,this.route=a,this.storage=o,this.utils=p,this.translateService=m,this.modalContoller=g,this.stopwatchesService=W,this.today=new Date,this.datePipe=new _.DatePipe("en-US"),this.isUpdate=!1,this.isSaving=!1,this.selectedDates=[new Date],this.selectedProjectText=null,this.selectedPackageText=null,this.selectedDuration=1,this.availablePackages=[],this.timesheet=new v.T,this.projects=[],this.clientServices=[],this.timesheetStatus=[],this.steps=1,this.contact=null,this.contactSearch=null,this.init()}init(){var t=this;return(0,d.Z)(function*(){let n=yield t.apiService.getUser();t.timesheet.user_id=n.id,t.timesheet.allowable_bill=!1,t.projects=yield t.apiService.getProjects(),t.clientServices=yield t.apiService.getClientService(),t.timesheetStatus=yield t.apiService.getTimesheetStatus(),t.timesheet.tracking=t.utils.prepareTracking(t.timesheet.tracking);let a=yield t.storage.getNumber(r.P_.SETTINGS_DURATION,r.Of.DURATION);t.selectedDuration=a;let o=new Date(t.timesheet.tracking.start);o.setMinutes(o.getMinutes()+60*a),t.timesheet.tracking.end=o.toISOString(),t.timesheet.tracking.duration=(new u.N).transform(a),t.steps=(yield t.storage.getNumber(r.P_.SETTINGS_STEPS,r.Of.STEPS))/60,(yield t.storage.getString(r.P_.SETTINGS_LAST_SERVICE,r.Of.SERVICE_ID))!=r.vK.NONE&&(t.timesheet.client_service_id=yield t.storage.getNumber(r.P_.SETTINGS_LAST_SERVICE_ID)),(yield t.storage.getString(r.P_.SETTINGS_LAST_STATUS,r.Of.STATUS_ID))!=r.vK.NONE&&(t.timesheet.status_id=yield t.storage.getNumber(r.P_.SETTINGS_LAST_STATUS_ID)),(yield t.storage.getString(r.P_.SETTINGS_LAST_PROJECT,r.Of.PROJECT_ID))!=r.vK.NONE&&(t.timesheet.pr_project_id=yield t.storage.getNumber(r.P_.SETTINGS_LAST_PROJECT_ID),t.availablePackages=yield t.apiService.getPackagesForProject(t.timesheet.pr_project_id)),t.route.params.subscribe(function(){var p=(0,d.Z)(function*(m){if(m.stopwatch_id){let g=yield t.stopwatchesService.get(m.stopwatch_id);g=Object.assign(new C.u,g),t.timesheet=g.toTimesheet((yield t.apiService.getUser()).id),t.selectedDuration=t.utils.parseDuration(t.timesheet.tracking.duration)}if(m.project_id&&(t.timesheet.pr_project_id=parseInt(m.project_id),t.availablePackages=yield t.apiService.getPackagesForProject(t.timesheet.pr_project_id)),m.package_id&&(t.timesheet.pr_package_id=parseInt(m.package_id)),m.time_id){t.isUpdate=!0;try{t.timesheet=yield t.apiService.getTimesheet(parseInt(m.time_id),!0),t.selectedDates=[new Date(t.timesheet.date)],t.selectedDuration=t.utils.parseDuration(t.timesheet.duration),t.availablePackages=yield t.apiService.getPackagesForProject(t.timesheet.pr_project_id)}catch(g){console.error("error",g)}}t.updateSelectTexts()});return function(m){return p.apply(this,arguments)}}())})()}updateSelectTexts(){var t=this;return(0,d.Z)(function*(){const n=t.projects.filter(a=>a.id==t.timesheet.pr_project_id);n.length>0&&(t.selectedProjectText=n[0].name,t.timesheet.contact_id=n[0].contact_id,t.timesheet.pr_package_id&&(t.selectedPackageText=(yield t.apiService.getPackageForProjectWithId(t.timesheet.pr_project_id,t.timesheet.pr_package_id)).name))})()}onProjectSelected(){var t=this;return(0,d.Z)(function*(){t.availablePackages=yield t.apiService.getPackagesForProject(t.timesheet.pr_project_id),t.updateSelectTexts()})()}save(){var t=this;return(0,d.Z)(function*(){console.log("timesheet",t.timesheet),t.isSaving=!0,null!=t.contact&&(t.timesheet.contact_id=t.contact.id),t.isUpdate?yield t.update():yield t.create();const n=x.Q.deserialize(yield t.storage.getString(r.P_.SETTINGS_LAST_THREE_PROJECTS,null));n.enqueue({id:t.timesheet.pr_project_id,name:t.selectedProjectText}),t.storage.setItem(r.P_.SETTINGS_LAST_THREE_PROJECTS,n.serialize()),t.isSaving=!1})()}contactChange(t){console.log("port:",t.value)}searchContact(t){var n=this;return(0,d.Z)(function*(){let a=t.text.trim().toLowerCase();t.component.startSearch(),t.component.items=yield n.apiService.searchContact(a),t.component.endSearch()})()}validateTime(){return!this.timesheet.client_service_id||!this.timesheet.status_id||!this.timesheet.text||this.timesheet.text.length<1?(this.utils.showToast("Missing information"),!1):(this.timesheet.tracking.duration=(new u.N).transform(this.selectedDuration),!0)}onTimeChanged(){if("range"===this.timesheet.tracking.type){let t=(Date.parse(this.timesheet.tracking.end)-Date.parse(this.timesheet.tracking.start))/36e5;this.timesheet.tracking.duration=(new u.N).transform(t),this.selectedDuration=(new u.N).transform(t)}}segmentChanged(t){var n=this;return(0,d.Z)(function*(){n.timesheet.tracking.type="duration"===t.detail.value?"duration":"range",console.log("changed type to "+t.detail.value),console.log("timesheet",n.timesheet)})()}storeLastUsed(t){var n=this;return(0,d.Z)(function*(){(yield n.storage.getString(r.P_.SETTINGS_LAST_PROJECT,r.Of.PROJECT_ID))===r.vK.LAST_USED&&n.storage.setItem(r.P_.SETTINGS_LAST_PROJECT_ID,t.pr_project_id),(yield n.storage.getString(r.P_.SETTINGS_LAST_STATUS,r.Of.STATUS_ID))===r.vK.LAST_USED&&n.storage.setItem(r.P_.SETTINGS_LAST_STATUS_ID,t.status_id),(yield n.storage.getString(r.P_.SETTINGS_LAST_SERVICE,r.Of.SERVICE_ID))===r.vK.LAST_USED&&n.storage.setItem(r.P_.SETTINGS_LAST_SERVICE_ID,t.client_service_id)})()}update(){var t=this;return(0,d.Z)(function*(){return new Promise(n=>{t.validateTime()?(t.timesheet.tracking.date=t.datePipe.transform(t.selectedDates[0],"yyyy-MM-dd"),t.apiService.putTimesheet(t.timesheet).then(function(){var a=(0,d.Z)(function*(o){t.storeLastUsed(o),t.utils.showToast("Updated"),t.router.navigateByUrl("tabs",{skipLocationChange:!0}),n()});return function(o){return a.apply(this,arguments)}}()).catch(function(){var a=(0,d.Z)(function*(o){t.utils.showToast("Failed: "+o.message),n()});return function(o){return a.apply(this,arguments)}}())):n()})})()}openCalendar(){var t=this;return(0,d.Z)(function*(){const n={from:new Date("2018-01-01"),defaultScrollTo:new Date,pickMode:"multi",title:yield t.translateService.get("Select date(s)").toPromise(),color:"primary",weekStart:1,defaultDates:t.selectedDates,defaultDate:t.selectedDates[0]};t.isUpdate&&(n.pickMode="single",n.defaultDate=t.selectedDates[0],n.title=yield t.translateService.get("Date").toPromise());const a=yield t.modalContoller.create({component:I.CalendarModal,componentProps:{options:n}});a.present();const o=yield a.onDidDismiss();if(t.isUpdate)t.selectedDates=[o.data?.dateObj];else{let m=[];for(var p=0;p<o.data.length;p++)o.data[p]&&m.push(o.data[p].dateObj);t.selectedDates=m}})()}create(){var t=this;return(0,d.Z)(function*(){return new Promise(function(){var n=(0,d.Z)(function*(a){if(t.validateTime()){for(var o=0;o<t.selectedDates.length;o++){let p=JSON.parse(JSON.stringify(t.timesheet));p.tracking.date=t.datePipe.transform(t.selectedDates[o],"yyyy-MM-dd"),yield t.apiService.postTimesheet(p)}t.storeLastUsed(t.timesheet),t.utils.showToast("Created"),t.router.navigateByUrl("tabs",{skipLocationChange:!0})}a()});return function(a){return n.apply(this,arguments)}}())})()}delete(){var t=this;return(0,d.Z)(function*(){(yield t.utils.confirm("Delete time entry","Are you sure?"))&&(yield t.apiService.deleteTimesheet(t.timesheet.id),t.utils.showToast("Deleted"),t.router.navigateByUrl("/tabs/times"))})()}}return i.\u0275fac=function(t){return new(t||i)(e.\u0275\u0275directiveInject(P.s),e.\u0275\u0275directiveInject(T.F0),e.\u0275\u0275directiveInject(T.gz),e.\u0275\u0275directiveInject(y.V),e.\u0275\u0275directiveInject(E.F),e.\u0275\u0275directiveInject(f.sK),e.\u0275\u0275directiveInject(l.ModalController),e.\u0275\u0275directiveInject(M.W))},i.\u0275cmp=e.\u0275\u0275defineComponent({type:i,selectors:[["app-time"]],decls:51,vars:40,consts:[["color","primary"],["slot","start"],["mode","md","defaultHref","/tabs/projects"],["slot","end",4,"ngIf"],["slot","end","color","light",4,"ngIf"],[4,"ngIf"],[1,"type"],["mode","ios",3,"value","ionChange",4,"ngIf"],[3,"click",4,"ngIf"],["lines","none",4,"ngIf"],[3,"ngModel","ngModelChange"],["position","stacked"],["placeholder","Select","interface","popover",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["position","floating"],["placeholder","Project",3,"ngModel","selectedText","ionChange","ngModelChange"],["placeholder","Package",3,"ngModel","selectedText","ngModelChange"],["autoGrow","true","placeholder","Text",3,"ngModel","ngModelChange"],["slot","end"],[3,"click"],["slot","icon-only","name","save"],["slot","icon-only","name","trash-outline"],["slot","end","color","light"],["mode","ios",3,"value","ionChange"],["value","duration"],["value","range"],["position","stacked",4,"ngIf"],[4,"ngFor","ngForOf"],["displayFormat","DDDD MMM D, YYYY",3,"ngModel","ngModelChange","ionChange"],["displayFormat","HH:mm",3,"ngModel","ngModelChange","ionChange"],["lines","none"],[2,"width","100%","text-align","center","padding","16px"],["max","12","snaps","true","ticks","false",3,"min","step","ngModel","ngModelChange"],[2,"width","100%","text-align","center"],[3,"value"],[2,"text-align","right"]],template:function(t,n){1&t&&(e.\u0275\u0275elementStart(0,"ion-header")(1,"ion-toolbar",0)(2,"ion-buttons",1),e.\u0275\u0275element(3,"ion-back-button",2),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(4,w,4,1,"ion-buttons",3),e.\u0275\u0275template(5,k,1,0,"ion-spinner",4),e.\u0275\u0275template(6,b,3,3,"ion-title",5),e.\u0275\u0275template(7,j,3,3,"ion-title",5),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(8,"ion-content")(9,"ion-list")(10,"div",6),e.\u0275\u0275template(11,V,9,7,"ion-segment",7),e.\u0275\u0275template(12,U,4,3,"ion-item",8),e.\u0275\u0275template(13,A,13,8,"ion-row",5),e.\u0275\u0275template(14,L,13,8,"ion-row",5),e.\u0275\u0275template(15,F,9,12,"ion-item",9),e.\u0275\u0275template(16,R,7,7,"ion-item",9),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(17,"ion-item")(18,"ion-label"),e.\u0275\u0275text(19),e.\u0275\u0275pipe(20,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(21,"ion-toggle",10),e.\u0275\u0275listener("ngModelChange",function(o){return n.timesheet.allowable_bill=o}),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(22,"ion-item")(23,"ion-label",11),e.\u0275\u0275text(24),e.\u0275\u0275pipe(25,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(26,"ion-select",12),e.\u0275\u0275listener("ngModelChange",function(o){return n.timesheet.client_service_id=o}),e.\u0275\u0275template(27,G,2,2,"ion-select-option",13),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(28,"ion-item")(29,"ion-label",14),e.\u0275\u0275text(30),e.\u0275\u0275pipe(31,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(32,"ion-select",15),e.\u0275\u0275listener("ionChange",function(){return n.onProjectSelected()})("ngModelChange",function(o){return n.timesheet.pr_project_id=o}),e.\u0275\u0275template(33,Z,4,2,"ion-select-option",13),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(34,"ion-item")(35,"ion-label",14),e.\u0275\u0275text(36),e.\u0275\u0275pipe(37,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(38,"ion-select",16),e.\u0275\u0275listener("ngModelChange",function(o){return n.timesheet.pr_package_id=o}),e.\u0275\u0275template(39,J,2,2,"ion-select-option",13),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(40,"ion-item")(41,"ion-label",11),e.\u0275\u0275text(42),e.\u0275\u0275pipe(43,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(44,"ion-select",12),e.\u0275\u0275listener("ngModelChange",function(o){return n.timesheet.status_id=o}),e.\u0275\u0275template(45,K,2,2,"ion-select-option",13),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(46,"ion-item")(47,"ion-label",11),e.\u0275\u0275text(48),e.\u0275\u0275pipe(49,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(50,"ion-textarea",17),e.\u0275\u0275listener("ngModelChange",function(o){return n.timesheet.text=o}),e.\u0275\u0275elementEnd()()()()),2&t&&(e.\u0275\u0275advance(4),e.\u0275\u0275property("ngIf",!n.isSaving),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.isSaving),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!n.isUpdate),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.isUpdate),e.\u0275\u0275advance(4),e.\u0275\u0275property("ngIf",!n.isUpdate),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","duration"==(null==n.timesheet||null==n.timesheet.tracking?null:n.timesheet.tracking.type)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","range"==(null==n.timesheet||null==n.timesheet.tracking?null:n.timesheet.tracking.type)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","range"==(null==n.timesheet||null==n.timesheet.tracking?null:n.timesheet.tracking.type)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","duration"==(null==n.timesheet||null==n.timesheet.tracking?null:n.timesheet.tracking.type)),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","range"==(null==n.timesheet||null==n.timesheet.tracking?null:n.timesheet.tracking.type)),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(20,28,"Chargeable")),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngModel",n.timesheet.allowable_bill),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1("",e.\u0275\u0275pipeBind1(25,30,"Service"),"*"),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngModel",n.timesheet.client_service_id),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngForOf",n.clientServices),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(31,32,"Project")),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngModel",n.timesheet.pr_project_id)("selectedText",n.selectedProjectText),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngForOf",n.projects),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(37,34,"Package")),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngModel",n.timesheet.pr_package_id)("selectedText",n.selectedPackageText),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngForOf",n.availablePackages),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1("",e.\u0275\u0275pipeBind1(43,36,"Status"),"*"),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngModel",n.timesheet.status_id),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngForOf",n.timesheetStatus),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1("",e.\u0275\u0275pipeBind1(49,38,"Description"),"*"),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngModel",n.timesheet.text))},dependencies:[_.NgForOf,_.NgIf,h.NgControlStatus,h.NgModel,l.IonBackButton,l.IonButton,l.IonButtons,l.IonCol,l.IonContent,l.IonDatetime,l.IonHeader,l.IonIcon,l.IonItem,l.IonLabel,l.IonList,l.IonRange,l.IonRow,l.IonSegment,l.IonSegmentButton,l.IonSelect,l.IonSelectOption,l.IonSpinner,l.IonTextarea,l.IonTitle,l.IonToggle,l.IonToolbar,l.BooleanValueAccessor,l.SelectValueAccessor,l.TextValueAccessor,l.IonBackButtonDelegate,_.DatePipe,f.X$,u.N],styles:["ion-spinner[_ngcontent-%COMP%]{margin-right:12px}ion-item[_ngcontent-%COMP%]{--ion-background-color:rgba(0,0,0,0)}.type[_ngcontent-%COMP%]{margin:8px;padding:8px;border-radius:7px;background-color:#eee}"]}),i})();var $=c(5503),z=c(6386);let Y=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.\u0275\u0275defineNgModule({type:i}),i.\u0275inj=e.\u0275\u0275defineInjector({imports:[_.CommonModule,h.FormsModule,l.IonicModule,f.aw,$.D,z.UV,T.Bz.forChild([{path:"",component:H}])]}),i})()}}]);