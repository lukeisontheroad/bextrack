"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[8408],{8408:(A,S,s)=>{s.r(S),s.d(S,{SettingsPageModule:()=>U});var o=s(8058),m=s(2835),u=s(6895),g=s(4006),c=s(5861),a=s(7432),h=s(7489),e=s(8274),v=s(5146),_=s(3790),T=s(6578),f=s(9265),E=s(3098),I=s(2466),P=s(3212);function C(l,d){if(1&l&&(e.\u0275\u0275elementStart(0,"ion-select-option",17),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&l){const t=d.$implicit;e.\u0275\u0275propertyInterpolate("value",t.id),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(t.name)}}function y(l,d){if(1&l&&(e.\u0275\u0275elementStart(0,"ion-select-option",17),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&l){const t=d.$implicit;e.\u0275\u0275propertyInterpolate("value",t.id),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(t.name)}}function O(l,d){if(1&l&&(e.\u0275\u0275elementStart(0,"ion-select-option",17),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&l){const t=d.$implicit;e.\u0275\u0275propertyInterpolate("value",t.id),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(t.name)}}let x=(()=>{class l{constructor(t,n,r,p,N,B){var i=this;this.apiService=t,this.authService=n,this.storage=r,this.utils=p,this.storageBackend=N,this.navCtrl=B,this.services=[],this.status=[],this.projects=[],this.lastUsedService=a.Of.SERVICE_ID,this.lastUsedStatus=a.Of.STATUS_ID,this.lastUsedProject=a.Of.PROJECT_ID,this.stopwatchSingular=a.Of.STOPWATCH_SINGULAR,this.duration=a.Of.DURATION,this.steps=a.Of.STEPS,this.hoursPerDay=a.Of.HOURS_PER_DAY,this.notificationsChanged=h.debounce((0,c.Z)(function*(){i.storage.setItem(a.P_.SETTINGS_DURATION,i.duration),i.storage.setItem(a.P_.SETTINGS_STEPS,i.steps),i.storage.setItem(a.P_.SETTINGS_HOURS_PER_DAY,i.hoursPerDay),i.storage.setItem(a.P_.SETTINGS_LAST_SERVICE,i.lastUsedService),i.storage.setItem(a.P_.SETTINGS_LAST_STATUS,i.lastUsedStatus),i.storage.setItem(a.P_.SETTINGS_LAST_PROJECT,i.lastUsedProject),i.storage.setItem(a.P_.SETTINGS_STOPWATCH_SINGULAR,i.stopwatchSingular),parseInt(i.lastUsedService)>=0&&i.storage.setItem(a.P_.SETTINGS_LAST_SERVICE_ID,i.lastUsedService),parseInt(i.lastUsedStatus)>=0&&i.storage.setItem(a.P_.SETTINGS_LAST_STATUS_ID,i.lastUsedStatus),parseInt(i.lastUsedProject)>=0&&i.storage.setItem(a.P_.SETTINGS_LAST_PROJECT_ID,i.lastUsedProject),i.utils.showToast("Updated")}),2e3),this.init()}init(){var t=this;return(0,c.Z)(function*(){t.duration=yield t.storage.getNumber(a.P_.SETTINGS_DURATION,a.Of.DURATION),t.steps=yield t.storage.getNumber(a.P_.SETTINGS_STEPS,a.Of.STEPS),t.hoursPerDay=yield t.storage.getNumber(a.P_.SETTINGS_HOURS_PER_DAY,a.Of.HOURS_PER_DAY),t.lastUsedService=yield t.storage.getString(a.P_.SETTINGS_LAST_SERVICE,a.Of.SERVICE_ID),t.lastUsedStatus=yield t.storage.getString(a.P_.SETTINGS_LAST_STATUS,a.Of.STATUS_ID),t.lastUsedProject=yield t.storage.getString(a.P_.SETTINGS_LAST_PROJECT,a.Of.PROJECT_ID),t.stopwatchSingular=yield t.storage.getBoolean(a.P_.SETTINGS_STOPWATCH_SINGULAR,a.Of.STOPWATCH_SINGULAR),t.user=yield t.apiService.getUser(),t.services=yield t.apiService.getClientService(),t.status=yield t.apiService.getTimesheetStatus(),t.projects=yield t.apiService.getProjects()})()}logout(){var t=this;return(0,c.Z)(function*(){yield t.authService.signOut(),t.navCtrl.navigateRoot("auth/endsession"),yield t.storageBackend.clear(),window.location.href="/"})()}}return l.\u0275fac=function(t){return new(t||l)(e.\u0275\u0275directiveInject(v.s),e.\u0275\u0275directiveInject(_.AuthService),e.\u0275\u0275directiveInject(T.V),e.\u0275\u0275directiveInject(f.F),e.\u0275\u0275directiveInject(E.StorageBackend),e.\u0275\u0275directiveInject(o.NavController))},l.\u0275cmp=e.\u0275\u0275defineComponent({type:l,selectors:[["app-settings"]],decls:120,vars:102,consts:[["color","primary"],[1,"ion-align-items-center"],["size","12",1,"ion-text-center"],["name","person-circle-outline",2,"font-size","180px"],["shape","round",3,"click"],["position","stacked"],[2,"width","100%","text-align","center","padding","16px"],["min","1","max","60","step","1","snaps","true","ticks","false",3,"ngModel","ngModelChange","ionChange"],["min","0","max","12","snaps","true","ticks","false",3,"step","ngModel","ngModelChange","ionChange"],[3,"ngModel","ngModelChange","ionChange"],["value","-2"],["value","-1"],[3,"value",4,"ngFor","ngForOf"],["routerLink","/notification-settings"],["routerLink","/module-settings","lines","none"],["onclick","window.open('https://feedback.bextrack.com', '_system', 'location=yes'); return false;"],["routerLink","/about","lines","none"],[3,"value"]],template:function(t,n){1&t&&(e.\u0275\u0275elementStart(0,"ion-header")(1,"ion-toolbar",0)(2,"ion-title"),e.\u0275\u0275text(3),e.\u0275\u0275pipe(4,"translate"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(5,"ion-content")(6,"ion-grid")(7,"ion-row",1)(8,"ion-col",2),e.\u0275\u0275element(9,"ion-icon",3),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(10,"ion-row",1)(11,"ion-col",2),e.\u0275\u0275text(12),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(13,"ion-row",1)(14,"ion-col",2)(15,"ion-button",4),e.\u0275\u0275listener("click",function(){return n.logout()}),e.\u0275\u0275text(16),e.\u0275\u0275pipe(17,"translate"),e.\u0275\u0275elementEnd()()()(),e.\u0275\u0275elementStart(18,"ion-list")(19,"ion-list-header"),e.\u0275\u0275text(20),e.\u0275\u0275pipe(21,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(22,"ion-item")(23,"ion-label",5),e.\u0275\u0275text(24),e.\u0275\u0275pipe(25,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(26,"span",6),e.\u0275\u0275text(27),e.\u0275\u0275pipe(28,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(29,"ion-range",7),e.\u0275\u0275listener("ngModelChange",function(p){return n.steps=p})("ionChange",function(){return n.notificationsChanged()}),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(30,"ion-item")(31,"ion-label",5),e.\u0275\u0275text(32),e.\u0275\u0275pipe(33,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(34,"span",6),e.\u0275\u0275text(35),e.\u0275\u0275pipe(36,"toDuration"),e.\u0275\u0275pipe(37,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(38,"ion-range",8),e.\u0275\u0275listener("ngModelChange",function(p){return n.hoursPerDay=p})("ionChange",function(){return n.notificationsChanged()}),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(39,"ion-item")(40,"ion-label",5),e.\u0275\u0275text(41),e.\u0275\u0275pipe(42,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(43,"span",6),e.\u0275\u0275text(44),e.\u0275\u0275pipe(45,"toDuration"),e.\u0275\u0275pipe(46,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(47,"ion-range",8),e.\u0275\u0275listener("ngModelChange",function(p){return n.duration=p})("ionChange",function(){return n.notificationsChanged()}),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(48,"ion-item")(49,"ion-label",5),e.\u0275\u0275text(50),e.\u0275\u0275pipe(51,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(52,"ion-select",9),e.\u0275\u0275listener("ngModelChange",function(p){return n.lastUsedStatus=p})("ionChange",function(){return n.notificationsChanged()}),e.\u0275\u0275elementStart(53,"ion-select-option",10),e.\u0275\u0275text(54),e.\u0275\u0275pipe(55,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(56,"ion-select-option",11),e.\u0275\u0275text(57),e.\u0275\u0275pipe(58,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(59,C,2,2,"ion-select-option",12),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(60,"ion-item")(61,"ion-label",5),e.\u0275\u0275text(62),e.\u0275\u0275pipe(63,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(64,"ion-select",9),e.\u0275\u0275listener("ngModelChange",function(p){return n.lastUsedService=p})("ionChange",function(){return n.notificationsChanged()}),e.\u0275\u0275elementStart(65,"ion-select-option",10),e.\u0275\u0275text(66),e.\u0275\u0275pipe(67,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(68,"ion-select-option",11),e.\u0275\u0275text(69),e.\u0275\u0275pipe(70,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(71,y,2,2,"ion-select-option",12),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(72,"ion-item")(73,"ion-label",5),e.\u0275\u0275text(74),e.\u0275\u0275pipe(75,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(76,"ion-select",9),e.\u0275\u0275listener("ngModelChange",function(p){return n.lastUsedProject=p})("ionChange",function(){return n.notificationsChanged()}),e.\u0275\u0275elementStart(77,"ion-select-option",10),e.\u0275\u0275text(78),e.\u0275\u0275pipe(79,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(80,"ion-select-option",11),e.\u0275\u0275text(81),e.\u0275\u0275pipe(82,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(83,O,2,2,"ion-select-option",12),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(84,"ion-item")(85,"ion-label"),e.\u0275\u0275text(86),e.\u0275\u0275pipe(87,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(88,"ion-checkbox",9),e.\u0275\u0275listener("ngModelChange",function(p){return n.stopwatchSingular=p})("ionChange",function(){return n.notificationsChanged()}),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(89,"ion-item",13)(90,"ion-label")(91,"h2"),e.\u0275\u0275text(92),e.\u0275\u0275pipe(93,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(94,"p"),e.\u0275\u0275text(95),e.\u0275\u0275pipe(96,"translate"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(97,"ion-item",14)(98,"ion-label")(99,"h2"),e.\u0275\u0275text(100),e.\u0275\u0275pipe(101,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(102,"p"),e.\u0275\u0275text(103),e.\u0275\u0275pipe(104,"translate"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(105,"ion-list-header"),e.\u0275\u0275text(106),e.\u0275\u0275pipe(107,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(108,"ion-item",15)(109,"ion-label")(110,"h2"),e.\u0275\u0275text(111),e.\u0275\u0275pipe(112,"translate"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(113,"p"),e.\u0275\u0275text(114),e.\u0275\u0275pipe(115,"translate"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(116,"ion-item",16)(117,"ion-label"),e.\u0275\u0275text(118),e.\u0275\u0275pipe(119,"translate"),e.\u0275\u0275elementEnd()()()()),2&t&&(e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(4,44,"Settings")," "),e.\u0275\u0275advance(9),e.\u0275\u0275textInterpolate2(" ",null==n.user?null:n.user.firstname," ",null==n.user?null:n.user.lastname," "),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(17,46,"Logout")),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(21,48,"Settings")),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(25,50,"Duration steps")),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate2("",n.steps," ",e.\u0275\u0275pipeBind1(28,52,"minute(s)"),""),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngModel",n.steps),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(33,54,"Hours per day")),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate2("",e.\u0275\u0275pipeBind1(36,56,n.hoursPerDay)," ",e.\u0275\u0275pipeBind1(37,58,"hour(s)"),""),e.\u0275\u0275advance(3),e.\u0275\u0275property("step",n.steps/60)("ngModel",n.hoursPerDay),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(42,60,"Default duration")),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate2("",e.\u0275\u0275pipeBind1(45,62,n.duration)," ",e.\u0275\u0275pipeBind1(46,64,"hour(s)"),""),e.\u0275\u0275advance(3),e.\u0275\u0275property("step",n.steps/60)("ngModel",n.duration),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(51,66,"Default status")),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngModel",n.lastUsedStatus),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(55,68,"None")),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(58,70,"Last used")),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngForOf",n.status),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(63,72,"Default service")),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngModel",n.lastUsedService),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(67,74,"None")),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(70,76,"Last used")),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngForOf",n.services),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(75,78,"Default project")),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngModel",n.lastUsedProject),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(79,80,"None")),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(82,82,"Last used")),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngForOf",n.projects),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(87,84,"Only allow to run one stopwatch at the time")),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngModel",n.stopwatchSingular),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(93,86,"Notifications")),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(96,88,"Never forget to track your time by setting a reminder.")),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(101,90,"Modules")),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(104,92,"Activate or deactivate modules")),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(107,94,"Support")),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(112,96,"Provide Feedback")),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(115,98,"help-me-to-improve-the-app")),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(119,100,"About")))},dependencies:[o.IonButton,o.IonCheckbox,o.IonCol,o.IonContent,o.IonGrid,o.IonHeader,o.IonIcon,o.IonItem,o.IonLabel,o.IonList,o.IonListHeader,o.IonRange,o.IonRow,o.IonSelect,o.IonSelectOption,o.IonTitle,o.IonToolbar,o.BooleanValueAccessor,o.SelectValueAccessor,o.RouterLinkDelegate,u.NgForOf,g.NgControlStatus,g.NgModel,m.rH,I.X$,P.N],styles:["ion-content[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]{--background: translucent}ion-list-header[_ngcontent-%COMP%]{font-weight:700}"]}),l})();var M=s(5503);let U=(()=>{class l{}return l.\u0275fac=function(t){return new(t||l)},l.\u0275mod=e.\u0275\u0275defineNgModule({type:l}),l.\u0275inj=e.\u0275\u0275defineInjector({imports:[o.IonicModule,u.CommonModule,g.FormsModule,I.aw,M.D,m.Bz.forChild([{path:"",component:x}])]}),l})()}}]);