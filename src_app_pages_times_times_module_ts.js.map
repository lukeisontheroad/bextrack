{"version":3,"file":"src_app_pages_times_times_module_ts.js","mappings":"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","sources":["./src/app/pages/times/times.module.ts","./src/app/pages/times/times.page.ts","./src/app/pages/times/times.page.html","./src/app/pipes/format-duration.pipe.ts","./src/app/pipes/pipes.module.ts","./src/app/pipes/to-duration.pipe.ts"],"sourcesContent":["import { IonicModule } from '@ionic/angular';\nimport { RouterModule } from '@angular/router';\nimport { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { TimesPage } from './times.page';\nimport { PipesModule } from 'src/app/pipes/pipes.module';\nimport { TranslateModule } from '@ngx-translate/core';\nimport { CalendarModule } from 'ion2-calendar';\n\n@NgModule({\n  imports: [\n    IonicModule,\n    CommonModule,\n    FormsModule,\n    PipesModule,\n    TranslateModule,\n    CalendarModule,\n    RouterModule.forChild([{ path: '', component: TimesPage }])\n  ],\n  declarations: [\n    TimesPage, \n  ]\n})\nexport class TimesPageModule {}\n","import { Component, ViewChild } from '@angular/core';\nimport { Timesheet } from 'src/app/models/timesheet';\nimport { IonContent, IonList } from '@ionic/angular';\nimport { ApiService } from 'src/app/services/api/api.service';\nimport { UtilsService } from 'src/app/services/utils/utils.service';\nimport { CalendarComponentOptions, DayConfig } from 'ion2-calendar';\nimport { ToDurationPipe } from 'src/app/pipes/to-duration.pipe';\n\n@Component({\n  selector: 'app-times',\n  templateUrl: 'times.page.html',\n  styleUrls: ['times.page.scss']\n})\nexport class TimesPage {\n\n  @ViewChild(IonContent) content: IonContent;\n\n  public times: Timesheet[] = []\n  public groupedTimes = []\n  public skeletons = new Array(12);\n  public loading = true;\n\n  date: string;\n  type: 'string'; // 'string' | 'js-date' | 'moment' | 'time' | 'object'\n  optionsMulti: CalendarComponentOptions = {\n    color: 'secondary',\n    weekStart: 1\n  }\n\n  @ViewChild(IonList, { static: true }) list: IonList;\n\n  constructor(\n    private apiService: ApiService,\n    private utils: UtilsService\n  ) {\n    this.apiService.timesUpdated.subscribe(() => {\n      this.updateTimes(false)\n    })\n    this.doRefresh(null, true);\n    this.apiService.getPackages()\n  }\n\n  private async updateTimes(force){\n    let groupedTimes = []\n    let daysConfig: Array<DayConfig> = new Array()\n\n    this.times = await this.apiService.getMyTimesheets(force)\n\n    var groupedTimesMap = {}\n    for (let time of this.times) {\n\n      if (!groupedTimesMap[time.date]) {\n        groupedTimesMap[time.date] = []\n      }\n      groupedTimesMap[time.date].push(time)\n    }\n\n    for (let key of Object.keys(groupedTimesMap)) {\n      const total = groupedTimesMap[key].map(i => this.utils.parseDuration(i.duration)).reduce((i, j) => i + j)\n      groupedTimes.push({ date: groupedTimesMap[key][0].date, times: groupedTimesMap[key], total: total })\n      daysConfig.push({ date: new Date(groupedTimesMap[key][0].date), subTitle: new ToDurationPipe().transform(total), disable: false, cssClass: 'green' } as DayConfig)\n    }\n    this.groupedTimes = groupedTimes;\n    this.optionsMulti = {\n      from: new Date(this.times[this.times.length-1].date),\n      to: new Date(this.times[0].date),\n      pickMode: 'single',\n      daysConfig: daysConfig,\n      color: 'secondary',\n      weekStart: 1\n    }\n  }\n\n  public async doRefresh(event?: any, force = false) {\n    this.loading = true\n    this.updateTimes(true)\n\n    if (event) {\n      event.target.complete();\n    }\n    setTimeout(()=> {\n      this.loading = false\n    }, 1000)\n  }\n\n  async delete(timesheet: Timesheet) {\n    if (await this.utils.confirm('Are you sure?', 'Delete ' + timesheet.date + ' ' + timesheet.duration + ' ' + timesheet.text)) {\n      await this.apiService.deleteTimesheet(timesheet.id)\n      this.utils.showToast('Deleted')\n      this.doRefresh()\n    } else {\n      this.list.closeSlidingItems()\n    }\n  }\n\n  async copy(timesheet: Timesheet) {\n    timesheet.id = null\n    this.apiService.postTimesheet(timesheet)\n  }\n\n  passedDate(selectedDate) {\n    const date = new Date(selectedDate.time);\n    const dateString = date.getFullYear() + '-' + UtilsService.pad(date.getMonth() + 1) + '-' + UtilsService.pad(date.getDate())\n    this.scrollTo(dateString)\n  }\n\n  scrollTo(elementId: string) {\n    let y = document.getElementById(elementId).offsetTop;\n    this.content.scrollToPoint(0, y, 500)\n  }\n}\n","<ion-header class=\"ion-no-border\">\n  <ion-toolbar color=\"primary\">\n    <ion-title>\n      {{ 'Times' | translate }}\n    </ion-title>\n  </ion-toolbar>\n</ion-header>\n\n<ion-grid class=\"tablet\">\n  <ion-row class=\"ion-justify-content-start\">\n    <ion-col class=\"col-calendar\" size=\"12\" size-md=\"4\">\n      <ion-calendar [(ngModel)]=\"date\" [options]=\"optionsMulti\" sticky [type]=\"type\" [format]=\"'YYYY-MM-DD'\"\n        (select)=\"passedDate($event)\">\n      </ion-calendar>\n    </ion-col>\n    <ion-col class=\"col-content\" size=\"12\" size-md=\"8\">\n      <ion-content>\n        <ion-refresher slot=\"fixed\" (ionRefresh)=\"doRefresh($event)\">\n          <ion-refresher-content>\n          </ion-refresher-content>\n        </ion-refresher>\n\n        <ion-list *ngIf=\"loading\">\n          <div *ngFor=\"let n of skeletons\">\n            <ion-list-header>\n              <ion-label>\n                <ion-skeleton-text animated style=\"width: 30%\"></ion-skeleton-text>\n              </ion-label>\n              <p style=\"width: 50px;\">\n                <ion-skeleton-text animated></ion-skeleton-text>\n              </p>\n            </ion-list-header>\n            <ion-item lines=\"none\">\n              <ion-thumbnail slot=\"start\">\n                <ion-skeleton-text animated></ion-skeleton-text>\n              </ion-thumbnail>\n              <ion-label>\n                <h2>\n                  <ion-skeleton-text animated style=\"width: 70%\"></ion-skeleton-text>\n                </h2>\n                <p>\n                  <ion-skeleton-text animated style=\"width: 50%\"></ion-skeleton-text>\n                </p>\n              </ion-label>\n              <p slot=\"end\" style=\"width: 35px;\">\n                <ion-skeleton-text animated></ion-skeleton-text>\n              </p>\n            </ion-item>\n          </div>\n        </ion-list>\n\n        <div class=\"no-items\" *ngIf=\"times.length === 0 && !loading\">\n          <ion-grid>\n            <ion-row>\n              <ion-icon name=\"timer-outline\"></ion-icon>\n            </ion-row>\n            <ion-row>\n              <h1>{{ 'No times found' | translate }}</h1>\n            </ion-row>\n          </ion-grid>\n        </div>\n\n        <ion-list>\n          <!-- <ion-virtual-scroll [items]=\"groupedTimes\" approxItemHeight=\"100px\"> -->\n\n          <div *ngFor=\"let group of groupedTimes\">\n            <!-- <div *virtualItem=\"let group\"> -->\n\n            <ion-list-header style=\"font-weight: 500;\" [id]=\"group.date\">\n              <ion-label>{{ group.date | date :'EEEE dd.MM.yyyy' }}</ion-label>\n              <p>{{ group.total | toDuration }}</p>\n            </ion-list-header>\n\n            <ion-item-sliding *ngFor=\"let time of group.times\">\n              <ion-item routerLink=\"/display-time/{{ time.id }}\" lines=\"none\">\n                <ion-avatar *ngIf=\"time.allowable_bill\" slot=\"start\">\n                  <img src=\"/assets/paid.png\">\n                </ion-avatar>\n                <ion-avatar *ngIf=\"!time.allowable_bill\" slot=\"start\">\n                  <img src=\"/assets/free.png\">\n                </ion-avatar>\n                <ion-label>\n                  <h2>{{ time?.project?.name }} </h2>\n                  <p>{{ time?.package?.name }}</p>\n                  <p>{{ time?.text }}</p>\n                </ion-label>\n                <p slot=\"end\">{{ time?.duration | formatDuration }}</p>\n              </ion-item>\n              <ion-item-options side=\"end\">\n                <ion-item-option color=\"primary\" (click)=\"copy(time)\">{{ 'Copy' | translate }}</ion-item-option>\n                <ion-item-option color=\"danger\" (click)=\"delete(time)\">{{ 'Delete' | translate }}</ion-item-option>\n              </ion-item-options>\n            </ion-item-sliding>\n          </div>\n          <!-- </ion-virtual-scroll> -->\n\n        </ion-list>\n\n\n        <ion-fab vertical=\"bottom\" horizontal=\"end\" slot=\"fixed\">\n          <ion-fab-button routerLink=\"/create-time/\" color=\"secondary\">\n            <ion-icon name=\"add\"></ion-icon>\n          </ion-fab-button>\n        </ion-fab>\n      </ion-content>\n    </ion-col>\n  </ion-row>\n</ion-grid>","import { Pipe, PipeTransform } from '@angular/core';\nimport { UtilsService } from '../services/utils/utils.service';\n\n@Pipe({\n  name: 'formatDuration'\n})\nexport class FormatDurationPipe implements PipeTransform {\n\n  transform(value: any, ...args: any[]): any {\n    if(value === null || value === '') return '00:00'\n    const splitted = value.split(':')\n    return UtilsService.pad(splitted[0]) + ':' + UtilsService.pad(splitted[1]);\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { FormatDurationPipe } from './format-duration.pipe';\nimport { ToDurationPipe } from './to-duration.pipe';\n\n@NgModule({\ndeclarations: [ToDurationPipe, FormatDurationPipe],\nimports: [],\nexports: [ToDurationPipe, FormatDurationPipe],\n})\n\nexport class PipesModule {}","import { Pipe, PipeTransform } from '@angular/core';\nimport { UtilsService } from '../services/utils/utils.service';\n\n@Pipe({\n  name: 'toDuration'\n})\nexport class ToDurationPipe implements PipeTransform {\n\n  transform(value: any, ...args: any[]): any {\n    const splitted = (value + '').split('.')\n    const hours = parseInt(splitted[0])\n    const minutes = Math.round(parseFloat('0.' + splitted[1]) * 60)\n    return UtilsService.pad(hours) + ':' + UtilsService.pad(minutes);\n  }\n\n}\n"],"names":["IonicModule","RouterModule","CommonModule","FormsModule","TimesPage","PipesModule","TranslateModule","CalendarModule","TimesPageModule","forChild","path","component","declarations","imports","IonContent","IonList","UtilsService","ToDurationPipe","i0","constructor","apiService","utils","Array","color","weekStart","timesUpdated","subscribe","updateTimes","doRefresh","getPackages","force","groupedTimes","daysConfig","_this","times","getMyTimesheets","groupedTimesMap","time","date","push","key","Object","keys","total","map","i","parseDuration","duration","reduce","j","Date","subTitle","transform","disable","cssClass","optionsMulti","from","length","to","pickMode","event","_this2","loading","target","complete","setTimeout","delete","timesheet","_this3","confirm","text","deleteTimesheet","id","showToast","list","closeSlidingItems","copy","_this4","postTimesheet","passedDate","selectedDate","dateString","getFullYear","pad","getMonth","getDate","scrollTo","elementId","y","document","getElementById","offsetTop","content","scrollToPoint","selectors","viewQuery","ctx","FormatDurationPipe","value","args","splitted","split","pure","exports","hours","parseInt","minutes","Math","round","parseFloat"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}