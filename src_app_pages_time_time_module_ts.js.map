{"version":3,"file":"src_app_pages_time_time_module_ts.js","mappings":"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","sources":["./src/app/pages/time/time.module.ts","./src/app/pages/time/time.page.ts","./src/app/pages/time/time.page.html"],"sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { IonicModule } from '@ionic/angular';\nimport { TimePage } from './time.page';\nimport { TranslateModule } from '@ngx-translate/core';\nimport { PipesModule } from 'src/app/pipes/pipes.module';\nimport { RouterModule } from '@angular/router';\nimport { IonicSelectableModule } from 'ionic-selectable';\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    TranslateModule,\n    PipesModule,\n    IonicSelectableModule,\n    RouterModule.forChild([{ path: '', component: TimePage }])\n  ],\n  declarations: [\n    TimePage,\n  ]\n})\nexport class CreateTimePageModule {}\n","import { Component } from '@angular/core';\nimport { TimesheetStatus } from '../../models/timsheet_status';\nimport { Project } from 'src/app/models/project';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { ClientService } from 'src/app/models/client_service';\nimport { Package } from 'src/app/models/package';\nimport { ToDurationPipe } from 'src/app/pipes/to-duration.pipe';\nimport { DatePipe } from '@angular/common';\nimport { ApiService } from 'src/app/services/api/api.service';\nimport { Timesheet } from 'src/app/models/timesheet';\nimport { DEFAULTS, STORAGE, TYPES } from 'src/app/models/constants';\nimport { UtilsService } from 'src/app/services/utils/utils.service';\nimport { StorageService } from 'src/app/services/storage/storage.service';\nimport { CalendarModal } from 'ion2-calendar';\nimport { ModalController } from '@ionic/angular';\nimport { TranslateService } from '@ngx-translate/core';\nimport { IonicSelectableComponent } from 'ionic-selectable';\nimport { Observable } from 'rxjs';\nimport { Contact } from 'src/app/models/contact';\nimport { StopwatchesService } from 'src/app/services/stopwatches/stopwatches.service';\nimport { Stopwatch } from 'src/app/models/stopwatch';\nimport { SetQueue } from 'src/app/models/set_queue';\n\n@Component({\n  selector: 'app-time',\n  templateUrl: './time.page.html',\n  styleUrls: ['./time.page.scss'],\n})\nexport class TimePage {\n\n  private today = new Date()\n  private datePipe = new DatePipe('en-US')\n  public isUpdate = false\n  public isSaving = false\n\n  public selectedDates = [new Date()]\n  public selectedProjectText = null;\n  public selectedPackageText = null;\n  public selectedDuration = 1\n  public availablePackages: Package[] = []\n  public timesheet = new Timesheet()\n  public projects: Project[] = []\n  public clientServices: ClientService[] = []\n  public timesheetStatus: TimesheetStatus[] = []\n\n  public steps = 1\n\n  public contact: Contact = null;\n\n  constructor(\n    private apiService: ApiService,\n    private router: Router,\n    private route: ActivatedRoute,\n    private storage: StorageService,\n    private utils: UtilsService,\n    private translateService: TranslateService,\n    private modalContoller: ModalController,\n    private stopwatchesService: StopwatchesService\n  ) {\n    this.init()\n  }\n\n  private contactSearch: Observable<Contact[]> = null // = this.apiService.searchContact()\n\n  private async init() {\n    let user = await this.apiService.getUser()\n    this.timesheet.user_id = user.id\n    this.timesheet.allowable_bill = false\n    this.projects = await this.apiService.getProjects()\n    this.clientServices = await this.apiService.getClientService()\n    this.timesheetStatus = await this.apiService.getTimesheetStatus()\n    this.timesheet.tracking = this.utils.prepareTracking(this.timesheet.tracking)\n\n    // Load default duration\n    let defaultDuration = await this.storage.getNumber(STORAGE.SETTINGS_DURATION, DEFAULTS.DURATION)\n    this.selectedDuration = defaultDuration\n    let endDate = new Date(this.timesheet.tracking.start)\n    endDate.setMinutes(endDate.getMinutes() + defaultDuration * 60);\n    this.timesheet.tracking.end = endDate.toISOString()\n    this.timesheet.tracking.duration = new ToDurationPipe().transform(defaultDuration)\n    \n    // Load steps\n    this.steps = await this.storage.getNumber(STORAGE.SETTINGS_STEPS, DEFAULTS.STEPS) / 60\n\n    if (await this.storage.getString(STORAGE.SETTINGS_LAST_SERVICE, DEFAULTS.SERVICE_ID) != TYPES.NONE) {\n      this.timesheet.client_service_id = await this.storage.getNumber(STORAGE.SETTINGS_LAST_SERVICE_ID)\n    }\n\n    if (await this.storage.getString(STORAGE.SETTINGS_LAST_STATUS, DEFAULTS.STATUS_ID) != TYPES.NONE) {\n      this.timesheet.status_id = await this.storage.getNumber(STORAGE.SETTINGS_LAST_STATUS_ID)\n    }\n\n    if (await this.storage.getString(STORAGE.SETTINGS_LAST_PROJECT, DEFAULTS.PROJECT_ID) != TYPES.NONE) {\n      this.timesheet.pr_project_id = await this.storage.getNumber(STORAGE.SETTINGS_LAST_PROJECT_ID)\n      this.availablePackages = await this.apiService.getPackagesForProject(this.timesheet.pr_project_id)\n    }\n\n    this.route.params.subscribe(async params => {\n      if (params['stopwatch_id']) {\n        let stopwatch = await this.stopwatchesService.get(params['stopwatch_id'])\n        stopwatch = Object.assign(new Stopwatch(), stopwatch)\n        this.timesheet = stopwatch.toTimesheet((await this.apiService.getUser()).id)\n        this.selectedDuration = this.utils.parseDuration(this.timesheet.tracking.duration)\n      }\n      if (params['project_id']) {\n        this.timesheet.pr_project_id = parseInt(params['project_id'])\n        this.availablePackages = await this.apiService.getPackagesForProject(this.timesheet.pr_project_id)\n      }\n      if (params['package_id']) {\n        this.timesheet.pr_package_id = parseInt(params['package_id'])\n      }\n\n      if (params['time_id']) {\n        this.isUpdate = true\n        try {\n          this.timesheet = await this.apiService.getTimesheet(parseInt(params['time_id']), true)\n          this.selectedDates = [new Date(this.timesheet.date)]\n          this.selectedDuration = this.utils.parseDuration(this.timesheet.duration)\n          this.availablePackages = await this.apiService.getPackagesForProject(this.timesheet.pr_project_id)\n        } catch (e) {\n          console.error('error', e)\n        }\n      }\n      this.updateSelectTexts()\n\n    })\n\n  }\n\n  private async updateSelectTexts() {\n    // set project\n    const filteredProjects = this.projects.filter(i => i.id == this.timesheet.pr_project_id)\n    if (filteredProjects.length > 0) {\n      this.selectedProjectText = filteredProjects[0].name\n      this.timesheet.contact_id = filteredProjects[0].contact_id\n      if (this.timesheet.pr_package_id) {\n        this.selectedPackageText = (await this.apiService.getPackageForProjectWithId(this.timesheet.pr_project_id, this.timesheet.pr_package_id)).name\n      }\n    }\n  }\n\n  async onProjectSelected() {\n    this.availablePackages = await this.apiService.getPackagesForProject(this.timesheet.pr_project_id)\n    this.updateSelectTexts()\n  }\n\n  async save() {\n    console.log('timesheet', this.timesheet)\n    this.isSaving = true\n    if (this.contact != null) {\n      this.timesheet.contact_id = this.contact.id\n    }\n    if (this.isUpdate) {\n      await this.update()\n    } else {\n      await this.create()\n    }\n\n    // Store last three project names\n    const queueIds = SetQueue.deserialize(await this.storage.getString(STORAGE.SETTINGS_LAST_THREE_PROJECTS, null))\n    queueIds.enqueue({id: this.timesheet.pr_project_id, name: this.selectedProjectText})\n    this.storage.setItem(STORAGE.SETTINGS_LAST_THREE_PROJECTS, queueIds.serialize())\n\n\n    this.isSaving = false\n  }\n\n  contactChange(event: {\n    component: IonicSelectableComponent,\n    value: any\n  }) {\n    console.log('port:', event.value);\n  }\n\n  async searchContact(event: {\n    component: IonicSelectableComponent,\n    text: string\n  }) {\n    let text = event.text.trim().toLowerCase();\n    event.component.startSearch();\n    event.component.items = await this.apiService.searchContact(text)\n    event.component.endSearch();\n  }\n\n\n  validateTime() {\n    if (\n      !this.timesheet.client_service_id ||\n      !this.timesheet.status_id ||\n      !this.timesheet.text ||\n      this.timesheet.text.length < 1) {\n      this.utils.showToast('Missing information')\n      return false;\n    }\n    this.timesheet.tracking.duration = new ToDurationPipe().transform(this.selectedDuration)\n    return true\n  }\n\n  onTimeChanged(){\n    if(this.timesheet.tracking.type === 'range'){\n      let diff = (Date.parse(this.timesheet.tracking.end) - Date.parse(this.timesheet.tracking.start)) / 36e5\n      this.timesheet.tracking.duration = new ToDurationPipe().transform(diff)\n      this.selectedDuration = new ToDurationPipe().transform(diff)\n    }\n  }\n\n  async segmentChanged($event){\n    this.timesheet.tracking.type = $event.detail.value === 'duration' ? 'duration' : 'range'\n    console.log('changed type to ' + $event.detail.value)\n    console.log('timesheet', this.timesheet)\n\n  }\n\n  async storeLastUsed(timesheet: Timesheet) {\n    if (await this.storage.getString(STORAGE.SETTINGS_LAST_PROJECT, DEFAULTS.PROJECT_ID) === TYPES.LAST_USED) this.storage.setItem(STORAGE.SETTINGS_LAST_PROJECT_ID, timesheet.pr_project_id)\n    if (await this.storage.getString(STORAGE.SETTINGS_LAST_STATUS, DEFAULTS.STATUS_ID) === TYPES.LAST_USED) this.storage.setItem(STORAGE.SETTINGS_LAST_STATUS_ID, timesheet.status_id)\n    if (await this.storage.getString(STORAGE.SETTINGS_LAST_SERVICE, DEFAULTS.SERVICE_ID) === TYPES.LAST_USED) this.storage.setItem(STORAGE.SETTINGS_LAST_SERVICE_ID, timesheet.client_service_id)\n  }\n\n  async update() {\n    return new Promise<void>(resolve => {\n      if (this.validateTime()) {\n        this.timesheet.tracking.date = this.datePipe.transform(this.selectedDates[0], 'yyyy-MM-dd');\n        this.apiService.putTimesheet(this.timesheet).then(async response => {\n          this.storeLastUsed(response)\n          this.utils.showToast('Updated')\n          this.router.navigateByUrl('tabs', { skipLocationChange: true });\n          resolve()\n        }).catch(async reason => {\n          this.utils.showToast('Failed: ' + reason.message)\n          resolve()\n        })\n      }else{\n        resolve()\n      }\n    })\n  }\n\n  async openCalendar() {\n    const options = {\n      from: new Date('2018-01-01'),\n      defaultScrollTo: new Date(),\n      pickMode: 'multi',\n      title: await this.translateService.get('Select date(s)').toPromise(),\n      color: 'primary',\n      weekStart: 1,\n      defaultDates: this.selectedDates,\n      defaultDate: this.selectedDates[0]\n    };\n    if (this.isUpdate) {\n      options.pickMode = 'single'\n      options.defaultDate = this.selectedDates[0],\n        options.title = await this.translateService.get('Date').toPromise()\n    }\n    const calendar = await this.modalContoller.create({\n      component: CalendarModal,\n      componentProps: { options }\n    });\n    calendar.present();\n    const event: any = await calendar.onDidDismiss();\n    if (this.isUpdate) {\n      this.selectedDates = [event.data?.dateObj]\n    } else {\n      let dates = []\n      for (var i = 0; i < event.data.length; i++) {\n        if(event.data[i]) dates.push(event.data[i].dateObj)\n      }\n      this.selectedDates = dates\n    }\n\n  }\n\n\n  async create() {\n    return new Promise<void>(async resolve => {\n      if (this.validateTime()) {\n        // let timesheets = []\n        // let promises = []\n        for (var i = 0; i < this.selectedDates.length; i++) {\n          let timesheet = JSON.parse(JSON.stringify(this.timesheet)) as Timesheet\n          // if(timesheet.tracking.type === 'duration'){\n            timesheet.tracking.date = this.datePipe.transform(this.selectedDates[i], 'yyyy-MM-dd');\n          // }\n          // timesheets.push(timesheet)\n          await this.apiService.postTimesheet(timesheet)\n        }\n        // promises.push(...timesheets.map(timesheet => this.apiService.postTimesheet(timesheet)))\n        // Not working because of Bexio API race condition\n        // Promise.all(promises).then(async (values) => {\n        this.storeLastUsed(this.timesheet)\n        this.utils.showToast('Created')\n        this.router.navigateByUrl('tabs', { skipLocationChange: true });\n        // }).catch(async reason => {\n        //   this.utils.showToast('Failed: ' + reason.message)\n        // })\n      }\n      resolve()\n    })\n  }\n\n  async delete() {\n    if (await this.utils.confirm('Delete time entry', 'Are you sure?')) {\n      await this.apiService.deleteTimesheet(this.timesheet.id)\n      this.utils.showToast('Deleted')\n      this.router.navigateByUrl('/tabs/times')\n    }\n  }\n}\n","<ion-header>\n    <ion-toolbar color=\"primary\">\n        <ion-buttons slot=\"start\">\n            <ion-back-button mode=\"md\" defaultHref=\"/tabs/projects\"></ion-back-button>\n        </ion-buttons>\n\n        <ion-buttons *ngIf=\"!isSaving\" slot=\"end\">\n            <ion-button (click)=\"delete()\" *ngIf=\"isUpdate\">\n                <ion-icon slot=\"icon-only\" name=\"trash-outline\"></ion-icon>\n            </ion-button>\n            <ion-button (click)=\"save()\">\n                <ion-icon slot=\"icon-only\" name=\"save\"></ion-icon>\n            </ion-button>\n        </ion-buttons>\n        <ion-spinner *ngIf=\"isSaving\" slot=\"end\" color=\"light\"></ion-spinner>\n        <ion-title *ngIf=\"!isUpdate\">{{ 'Create effort' | translate }}</ion-title>\n        <ion-title *ngIf=\"isUpdate\">{{ 'Update effort' | translate }}</ion-title>\n    </ion-toolbar>\n</ion-header>\n\n<ion-content>\n    <ion-list>\n\n        <div class=\"type\">\n            <!-- Default Segment -->\n            <ion-segment *ngIf=\"!isUpdate\" mode=\"ios\" (ionChange)=\"segmentChanged($event)\" [value]=\"timesheet?.tracking?.type\">\n                <ion-segment-button value=\"duration\">\n                    <ion-label>{{ 'Duration' | translate }}</ion-label>\n                </ion-segment-button>\n                <ion-segment-button value=\"range\">\n                    <ion-label>{{ 'Range' | translate }}</ion-label>\n                </ion-segment-button>\n            </ion-segment>\n\n            <ion-item *ngIf=\"timesheet?.tracking?.type == 'duration'\" (click)=\"openCalendar()\">\n                <ion-label *ngIf=\"!isUpdate\" position=\"stacked\">{{ 'Date(s)' | translate }}</ion-label>\n                <ion-label *ngIf=\"isUpdate\" position=\"stacked\">{{ 'Date' | translate }}</ion-label>\n                <p *ngFor=\"let selectedDate of selectedDates\">{{ selectedDate | date :'EEEE dd.MM.yyyy' }}</p>\n            </ion-item>\n\n            <ion-row *ngIf=\"timesheet?.tracking?.type == 'range'\">\n                <ion-col>\n                    <ion-item>\n                        <ion-label position=\"stacked\">{{ 'Start' | translate }}</ion-label>\n                        <ion-datetime [(ngModel)]=\"timesheet.tracking.start\" displayFormat=\"DDDD MMM D, YYYY\" (ionChange)=\"onTimeChanged()\"></ion-datetime>\n                    </ion-item>\n                </ion-col>\n                <ion-col>\n                    <ion-item>\n                        <ion-label position=\"stacked\">{{ 'Time' | translate }}</ion-label>\n                        <ion-datetime [(ngModel)]=\"timesheet.tracking.start\" displayFormat=\"HH:mm\" (ionChange)=\"onTimeChanged()\">\n                        </ion-datetime>\n                    </ion-item>\n                </ion-col>\n            </ion-row>\n\n            <ion-row *ngIf=\"timesheet?.tracking?.type == 'range'\">\n                <ion-col>\n                    <ion-item lines=\"none\">\n                        <ion-label position=\"stacked\">{{ 'End' | translate }}</ion-label>\n                        <ion-datetime [(ngModel)]=\"timesheet.tracking.end\" displayFormat=\"DDDD MMM D, YYYY\" (ionChange)=\"onTimeChanged()\"></ion-datetime>\n                    </ion-item>\n                </ion-col>\n                <ion-col>\n                    <ion-item lines=\"none\">\n                        <ion-label position=\"stacked\">{{ 'Time' | translate }}</ion-label>\n                        <ion-datetime [(ngModel)]=\"timesheet.tracking.end\" (ionChange)=\"onTimeChanged()\" displayFormat=\"HH:mm\">\n                        </ion-datetime>\n                    </ion-item>\n                </ion-col>\n            </ion-row>\n\n            <ion-item lines=\"none\" *ngIf=\"timesheet?.tracking?.type == 'duration'\">\n                <ion-label position=\"stacked\">{{ 'Duration' | translate }}</ion-label>\n                <span style=\"width: 100%; text-align: center; padding: 16px;\">{{ selectedDuration | toDuration }} {{ 'hour(s)' | translate }}</span>\n                <ion-range [min]=\"steps\" max=\"12\" [step]=\"steps\" snaps=\"true\" ticks=\"false\" [(ngModel)]=\"selectedDuration\">\n                </ion-range>\n            </ion-item>\n\n            <ion-item lines=\"none\" *ngIf=\"timesheet?.tracking?.type == 'range'\">\n                <ion-label position=\"stacked\">{{ 'Duration' | translate }}</ion-label>\n                <span style=\"width: 100%; text-align: center;\">{{ timesheet?.tracking?.duration }} {{ 'hour(s)' | translate }}</span>\n            </ion-item>\n\n        </div>\n\n\n        <!-- <ion-item>\n      <ion-label position=\"stacked\">{{ 'Contact' | translate}}</ion-label>\n      <ionic-selectable\n      [(ngModel)]=\"contact\"\n      itemValueField=\"id\"\n      [searchDebounce]=\"500\"\n      [canSearch]=\"true\"\n      [canClear]=\"true\"\n      (onSearch)=\"searchContact($event)\">\n      <ng-template ionicSelectableIconTemplate></ng-template>\n      <ng-template ionicSelectableItemIconTemplate></ng-template>\n      <ng-template ionicSelectableSearchFailTemplate><div class=\"ion-margin\">{{ 'No contacts found' | translate }}</div></ng-template>\n      <ng-template ionicSelectableItemEndTemplate let-port=\"item\" let-isPortSelected=\"isItemSelected\"></ng-template>\n      <ng-template ionicSelectableItemTemplate let-port=\"item\" let-isPortSelected=\"isItemSelected\">{{port.name_2}} {{port.name_1}}</ng-template>\n      <ng-template ionicSelectablePlaceholderTemplate>{{ 'Select contact' | translate}}</ng-template>  \n      <ng-template ionicSelectableValueTemplate let-port=\"value\">{{port.name_2}} {{port.name_1}}</ng-template>\n    </ionic-selectable>\n    </ion-item> -->\n\n        <ion-item>\n            <ion-label>{{ 'Chargeable' | translate }}</ion-label>\n            <ion-toggle [(ngModel)]=\"timesheet.allowable_bill\"></ion-toggle>\n        </ion-item>\n\n        <ion-item>\n            <ion-label position=\"stacked\">{{ 'Service' | translate }}*</ion-label>\n            <ion-select placeholder=\"Select\" [(ngModel)]=\"timesheet.client_service_id\" interface=\"popover\">\n                <ion-select-option *ngFor=\"let clientService of clientServices\" [value]=\"clientService.id\">\n                    {{ clientService.name }}\n                </ion-select-option>\n            </ion-select>\n        </ion-item>\n\n        <ion-item>\n            <ion-label position=\"floating\">{{ 'Project' | translate }}</ion-label>\n            <ion-select placeholder=\"Project\" (ionChange)=\"onProjectSelected()\" [(ngModel)]=\"timesheet.pr_project_id\" [selectedText]=\"selectedProjectText\">\n                <ion-select-option *ngFor=\"let project of projects\" value=\"{{ project.id }}\">{{ project.name }} <span style=\"text-align: right;\">★</span>\n                </ion-select-option>\n            </ion-select>\n        </ion-item>\n\n        <ion-item>\n            <ion-label position=\"floating\">{{ 'Package' | translate }}</ion-label>\n            <ion-select placeholder=\"Package\" [(ngModel)]=\"timesheet.pr_package_id\" [selectedText]=\"selectedPackageText\">\n                <ion-select-option *ngFor=\"let package of availablePackages\" value=\"{{ package.id }}\">{{ package.name }}\n                </ion-select-option>\n            </ion-select>\n        </ion-item>\n\n        <ion-item>\n            <ion-label position=\"stacked\">{{ 'Status' | translate }}*</ion-label>\n            <ion-select placeholder=\"Select\" [(ngModel)]=\"timesheet.status_id\" interface=\"popover\">\n                <ion-select-option *ngFor=\"let status of timesheetStatus\" [value]=\"status.id\">{{status.name}}\n                </ion-select-option>\n            </ion-select>\n        </ion-item>\n\n        <ion-item>\n            <ion-label position=\"stacked\">{{ 'Description' | translate }}*</ion-label>\n            <ion-textarea autoGrow=\"true\" placeholder=\"Text\" [(ngModel)]=\"timesheet.text\"></ion-textarea>\n        </ion-item>\n\n    </ion-list>\n\n</ion-content>"],"names":["CommonModule","FormsModule","IonicModule","TimePage","TranslateModule","PipesModule","RouterModule","IonicSelectableModule","CreateTimePageModule","forChild","path","component","declarations","imports","ToDurationPipe","DatePipe","Timesheet","DEFAULTS","STORAGE","TYPES","CalendarModal","Stopwatch","SetQueue","i0","constructor","apiService","router","route","storage","utils","translateService","modalContoller","stopwatchesService","Date","init","user","_this","getUser","timesheet","user_id","id","allowable_bill","projects","getProjects","clientServices","getClientService","timesheetStatus","getTimesheetStatus","tracking","prepareTracking","defaultDuration","getNumber","SETTINGS_DURATION","DURATION","selectedDuration","endDate","start","setMinutes","getMinutes","end","toISOString","duration","transform","steps","SETTINGS_STEPS","STEPS","getString","SETTINGS_LAST_SERVICE","SERVICE_ID","NONE","client_service_id","SETTINGS_LAST_SERVICE_ID","SETTINGS_LAST_STATUS","STATUS_ID","status_id","SETTINGS_LAST_STATUS_ID","SETTINGS_LAST_PROJECT","PROJECT_ID","pr_project_id","SETTINGS_LAST_PROJECT_ID","availablePackages","getPackagesForProject","params","subscribe","stopwatch","get","Object","assign","toTimesheet","parseDuration","parseInt","pr_package_id","isUpdate","getTimesheet","selectedDates","date","e","console","error","updateSelectTexts","filteredProjects","_this2","filter","i","length","selectedProjectText","name","contact_id","selectedPackageText","getPackageForProjectWithId","onProjectSelected","_this3","save","log","_this4","isSaving","contact","update","create","queueIds","deserialize","SETTINGS_LAST_THREE_PROJECTS","enqueue","setItem","serialize","contactChange","event","value","searchContact","text","trim","toLowerCase","startSearch","items","_this5","endSearch","validateTime","showToast","onTimeChanged","type","diff","parse","segmentChanged","$event","_this6","detail","storeLastUsed","_this7","LAST_USED","Promise","resolve","_this8","datePipe","putTimesheet","then","response","navigateByUrl","skipLocationChange","catch","reason","message","openCalendar","options","from","defaultScrollTo","pickMode","title","_this9","toPromise","color","weekStart","defaultDates","defaultDate","calendar","componentProps","present","onDidDismiss","data","dateObj","dates","push","_this10","JSON","stringify","postTimesheet","delete","_this11","confirm","deleteTimesheet","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}