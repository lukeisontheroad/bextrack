(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"M+tf":function(e,t,n){"use strict";n.r(t),n.d(t,"CreateTimePageModule",(function(){return F}));var i=n("ofXK"),a=n("3Pt+"),o=n("TEn/"),r=n("mrSG"),s=n("u1pB"),l=n("ZiJJ"),c=n("TCge"),d=n("zTSL"),p=n("mYOz"),m=n("fXoL"),h=n("oZWX"),g=n("tyNb"),u=n("E2f4"),S=n("HPR3"),v=n("sYmb"),f=n("SdGS");function I(e,t){if(1&e){const e=m["\u0275\u0275getCurrentView"]();m["\u0275\u0275elementStart"](0,"ion-button",19),m["\u0275\u0275listener"]("click",(function(){return m["\u0275\u0275restoreView"](e),m["\u0275\u0275nextContext"](2).delete()})),m["\u0275\u0275element"](1,"ion-icon",21),m["\u0275\u0275elementEnd"]()}}function x(e,t){if(1&e){const e=m["\u0275\u0275getCurrentView"]();m["\u0275\u0275elementStart"](0,"ion-buttons",18),m["\u0275\u0275template"](1,I,2,0,"ion-button",8),m["\u0275\u0275elementStart"](2,"ion-button",19),m["\u0275\u0275listener"]("click",(function(){return m["\u0275\u0275restoreView"](e),m["\u0275\u0275nextContext"]().save()})),m["\u0275\u0275element"](3,"ion-icon",20),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"]()}if(2&e){const e=m["\u0275\u0275nextContext"]();m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngIf",e.isUpdate)}}function E(e,t){1&e&&m["\u0275\u0275element"](0,"ion-spinner",22)}function T(e,t){1&e&&(m["\u0275\u0275elementStart"](0,"ion-title"),m["\u0275\u0275text"](1),m["\u0275\u0275pipe"](2,"translate"),m["\u0275\u0275elementEnd"]()),2&e&&(m["\u0275\u0275advance"](1),m["\u0275\u0275textInterpolate"](m["\u0275\u0275pipeBind1"](2,1,"Create effort")))}function y(e,t){1&e&&(m["\u0275\u0275elementStart"](0,"ion-title"),m["\u0275\u0275text"](1),m["\u0275\u0275pipe"](2,"translate"),m["\u0275\u0275elementEnd"]()),2&e&&(m["\u0275\u0275advance"](1),m["\u0275\u0275textInterpolate"](m["\u0275\u0275pipeBind1"](2,1,"Update effort")))}function _(e,t){if(1&e){const e=m["\u0275\u0275getCurrentView"]();m["\u0275\u0275elementStart"](0,"ion-segment",23),m["\u0275\u0275listener"]("ionChange",(function(t){return m["\u0275\u0275restoreView"](e),m["\u0275\u0275nextContext"]().segmentChanged(t)})),m["\u0275\u0275elementStart"](1,"ion-segment-button",24),m["\u0275\u0275elementStart"](2,"ion-label"),m["\u0275\u0275text"](3),m["\u0275\u0275pipe"](4,"translate"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](5,"ion-segment-button",25),m["\u0275\u0275elementStart"](6,"ion-label"),m["\u0275\u0275text"](7),m["\u0275\u0275pipe"](8,"translate"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"]()}if(2&e){const e=m["\u0275\u0275nextContext"]();m["\u0275\u0275property"]("value",null==e.timesheet||null==e.timesheet.tracking?null:e.timesheet.tracking.type),m["\u0275\u0275advance"](3),m["\u0275\u0275textInterpolate"](m["\u0275\u0275pipeBind1"](4,3,"Duration")),m["\u0275\u0275advance"](4),m["\u0275\u0275textInterpolate"](m["\u0275\u0275pipeBind1"](8,5,"Range"))}}function C(e,t){1&e&&(m["\u0275\u0275elementStart"](0,"ion-label",11),m["\u0275\u0275text"](1),m["\u0275\u0275pipe"](2,"translate"),m["\u0275\u0275elementEnd"]()),2&e&&(m["\u0275\u0275advance"](1),m["\u0275\u0275textInterpolate"](m["\u0275\u0275pipeBind1"](2,1,"Date(s)")))}function b(e,t){1&e&&(m["\u0275\u0275elementStart"](0,"ion-label",11),m["\u0275\u0275text"](1),m["\u0275\u0275pipe"](2,"translate"),m["\u0275\u0275elementEnd"]()),2&e&&(m["\u0275\u0275advance"](1),m["\u0275\u0275textInterpolate"](m["\u0275\u0275pipeBind1"](2,1,"Date")))}function k(e,t){if(1&e&&(m["\u0275\u0275elementStart"](0,"p"),m["\u0275\u0275text"](1),m["\u0275\u0275pipe"](2,"date"),m["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;m["\u0275\u0275advance"](1),m["\u0275\u0275textInterpolate"](m["\u0275\u0275pipeBind2"](2,1,e,"EEEE dd.MM.yyyy"))}}function D(e,t){if(1&e){const e=m["\u0275\u0275getCurrentView"]();m["\u0275\u0275elementStart"](0,"ion-item",19),m["\u0275\u0275listener"]("click",(function(){return m["\u0275\u0275restoreView"](e),m["\u0275\u0275nextContext"]().openCalendar()})),m["\u0275\u0275template"](1,C,3,3,"ion-label",26),m["\u0275\u0275template"](2,b,3,3,"ion-label",26),m["\u0275\u0275template"](3,k,3,4,"p",27),m["\u0275\u0275elementEnd"]()}if(2&e){const e=m["\u0275\u0275nextContext"]();m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngIf",!e.isUpdate),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngIf",e.isUpdate),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngForOf",e.selectedDates)}}function w(e,t){if(1&e){const e=m["\u0275\u0275getCurrentView"]();m["\u0275\u0275elementStart"](0,"ion-row"),m["\u0275\u0275elementStart"](1,"ion-col"),m["\u0275\u0275elementStart"](2,"ion-item"),m["\u0275\u0275elementStart"](3,"ion-label",11),m["\u0275\u0275text"](4),m["\u0275\u0275pipe"](5,"translate"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](6,"ion-datetime",28),m["\u0275\u0275listener"]("ngModelChange",(function(t){return m["\u0275\u0275restoreView"](e),m["\u0275\u0275nextContext"]().timesheet.tracking.start=t}))("ionChange",(function(){return m["\u0275\u0275restoreView"](e),m["\u0275\u0275nextContext"]().onTimeChanged()})),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](7,"ion-col"),m["\u0275\u0275elementStart"](8,"ion-item"),m["\u0275\u0275elementStart"](9,"ion-label",11),m["\u0275\u0275text"](10),m["\u0275\u0275pipe"](11,"translate"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](12,"ion-datetime",29),m["\u0275\u0275listener"]("ngModelChange",(function(t){return m["\u0275\u0275restoreView"](e),m["\u0275\u0275nextContext"]().timesheet.tracking.start=t}))("ionChange",(function(){return m["\u0275\u0275restoreView"](e),m["\u0275\u0275nextContext"]().onTimeChanged()})),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"]()}if(2&e){const e=m["\u0275\u0275nextContext"]();m["\u0275\u0275advance"](4),m["\u0275\u0275textInterpolate"](m["\u0275\u0275pipeBind1"](5,4,"Start")),m["\u0275\u0275advance"](2),m["\u0275\u0275property"]("ngModel",e.timesheet.tracking.start),m["\u0275\u0275advance"](4),m["\u0275\u0275textInterpolate"](m["\u0275\u0275pipeBind1"](11,6,"Time")),m["\u0275\u0275advance"](2),m["\u0275\u0275property"]("ngModel",e.timesheet.tracking.start)}}function M(e,t){if(1&e){const e=m["\u0275\u0275getCurrentView"]();m["\u0275\u0275elementStart"](0,"ion-row"),m["\u0275\u0275elementStart"](1,"ion-col"),m["\u0275\u0275elementStart"](2,"ion-item",30),m["\u0275\u0275elementStart"](3,"ion-label",11),m["\u0275\u0275text"](4),m["\u0275\u0275pipe"](5,"translate"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](6,"ion-datetime",28),m["\u0275\u0275listener"]("ngModelChange",(function(t){return m["\u0275\u0275restoreView"](e),m["\u0275\u0275nextContext"]().timesheet.tracking.end=t}))("ionChange",(function(){return m["\u0275\u0275restoreView"](e),m["\u0275\u0275nextContext"]().onTimeChanged()})),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](7,"ion-col"),m["\u0275\u0275elementStart"](8,"ion-item",30),m["\u0275\u0275elementStart"](9,"ion-label",11),m["\u0275\u0275text"](10),m["\u0275\u0275pipe"](11,"translate"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](12,"ion-datetime",29),m["\u0275\u0275listener"]("ngModelChange",(function(t){return m["\u0275\u0275restoreView"](e),m["\u0275\u0275nextContext"]().timesheet.tracking.end=t}))("ionChange",(function(){return m["\u0275\u0275restoreView"](e),m["\u0275\u0275nextContext"]().onTimeChanged()})),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"]()}if(2&e){const e=m["\u0275\u0275nextContext"]();m["\u0275\u0275advance"](4),m["\u0275\u0275textInterpolate"](m["\u0275\u0275pipeBind1"](5,4,"End")),m["\u0275\u0275advance"](2),m["\u0275\u0275property"]("ngModel",e.timesheet.tracking.end),m["\u0275\u0275advance"](4),m["\u0275\u0275textInterpolate"](m["\u0275\u0275pipeBind1"](11,6,"Time")),m["\u0275\u0275advance"](2),m["\u0275\u0275property"]("ngModel",e.timesheet.tracking.end)}}function j(e,t){if(1&e){const e=m["\u0275\u0275getCurrentView"]();m["\u0275\u0275elementStart"](0,"ion-item",30),m["\u0275\u0275elementStart"](1,"ion-label",11),m["\u0275\u0275text"](2),m["\u0275\u0275pipe"](3,"translate"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](4,"span",31),m["\u0275\u0275text"](5),m["\u0275\u0275pipe"](6,"toDuration"),m["\u0275\u0275pipe"](7,"translate"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](8,"ion-range",32),m["\u0275\u0275listener"]("ngModelChange",(function(t){return m["\u0275\u0275restoreView"](e),m["\u0275\u0275nextContext"]().selectedDuration=t})),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"]()}if(2&e){const e=m["\u0275\u0275nextContext"]();m["\u0275\u0275advance"](2),m["\u0275\u0275textInterpolate"](m["\u0275\u0275pipeBind1"](3,6,"Duration")),m["\u0275\u0275advance"](3),m["\u0275\u0275textInterpolate2"]("",m["\u0275\u0275pipeBind1"](6,8,e.selectedDuration)," ",m["\u0275\u0275pipeBind1"](7,10,"hour(s)"),""),m["\u0275\u0275advance"](3),m["\u0275\u0275property"]("min",e.steps)("step",e.steps)("ngModel",e.selectedDuration)}}function P(e,t){if(1&e&&(m["\u0275\u0275elementStart"](0,"ion-item",30),m["\u0275\u0275elementStart"](1,"ion-label",11),m["\u0275\u0275text"](2),m["\u0275\u0275pipe"](3,"translate"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](4,"span",33),m["\u0275\u0275text"](5),m["\u0275\u0275pipe"](6,"translate"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"]()),2&e){const e=m["\u0275\u0275nextContext"]();m["\u0275\u0275advance"](2),m["\u0275\u0275textInterpolate"](m["\u0275\u0275pipeBind1"](3,3,"Duration")),m["\u0275\u0275advance"](3),m["\u0275\u0275textInterpolate2"]("",null==e.timesheet||null==e.timesheet.tracking?null:e.timesheet.tracking.duration," ",m["\u0275\u0275pipeBind1"](6,5,"hour(s)"),"")}}function O(e,t){if(1&e&&(m["\u0275\u0275elementStart"](0,"ion-select-option",34),m["\u0275\u0275text"](1),m["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;m["\u0275\u0275property"]("value",e.id),m["\u0275\u0275advance"](1),m["\u0275\u0275textInterpolate1"](" ",e.name," ")}}function N(e,t){if(1&e&&(m["\u0275\u0275elementStart"](0,"ion-select-option",34),m["\u0275\u0275text"](1,"\u2730 "),m["\u0275\u0275element"](2,"ion-icon",35),m["\u0275\u0275text"](3),m["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;m["\u0275\u0275propertyInterpolate"]("value",e.id),m["\u0275\u0275advance"](3),m["\u0275\u0275textInterpolate1"](" ",e.name," ")}}function B(e,t){if(1&e&&(m["\u0275\u0275elementStart"](0,"ion-select-option",34),m["\u0275\u0275text"](1),m["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;m["\u0275\u0275propertyInterpolate"]("value",e.id),m["\u0275\u0275advance"](1),m["\u0275\u0275textInterpolate1"]("",e.name," ")}}function U(e,t){if(1&e&&(m["\u0275\u0275elementStart"](0,"ion-select-option",34),m["\u0275\u0275text"](1),m["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;m["\u0275\u0275property"]("value",e.id),m["\u0275\u0275advance"](1),m["\u0275\u0275textInterpolate1"]("",e.name," ")}}let V=(()=>{class e{constructor(e,t,n,a,o,r,s,c){this.apiService=e,this.router=t,this.route=n,this.storage=a,this.utils=o,this.translateService=r,this.modalContoller=s,this.stopwatchesService=c,this.today=new Date,this.datePipe=new i.DatePipe("en-US"),this.isUpdate=!1,this.isSaving=!1,this.selectedDates=[new Date],this.selectedProjectText=null,this.selectedPackageText=null,this.selectedDuration=1,this.availablePackages=[],this.timesheet=new l.a,this.projects=[],this.clientServices=[],this.timesheetStatus=[],this.steps=1,this.contact=null,this.contactSearch=null,this.init()}init(){return Object(r.a)(this,void 0,void 0,(function*(){let e=yield this.apiService.getUser();this.timesheet.user_id=e.id,this.timesheet.allowable_bill=!1,this.projects=yield this.apiService.getProjects(),this.clientServices=yield this.apiService.getClientService(),this.timesheetStatus=yield this.apiService.getTimesheetStatus(),this.timesheet.tracking=this.utils.prepareTracking(this.timesheet.tracking);let t=yield this.storage.getNumber(c.b.SETTINGS_DURATION,c.a.DURATION);this.selectedDuration=t;let n=new Date(this.timesheet.tracking.start);n.setMinutes(n.getMinutes()+60*t),this.timesheet.tracking.end=n.toISOString(),this.timesheet.tracking.duration=(new s.a).transform(t),this.steps=(yield this.storage.getNumber(c.b.SETTINGS_STEPS,c.a.STEPS))/60,(yield this.storage.getString(c.b.SETTINGS_LAST_SERVICE,c.a.SERVICE_ID))!=c.c.NONE&&(this.timesheet.client_service_id=yield this.storage.getNumber(c.b.SETTINGS_LAST_SERVICE_ID)),(yield this.storage.getString(c.b.SETTINGS_LAST_STATUS,c.a.STATUS_ID))!=c.c.NONE&&(this.timesheet.status_id=yield this.storage.getNumber(c.b.SETTINGS_LAST_STATUS_ID)),(yield this.storage.getString(c.b.SETTINGS_LAST_PROJECT,c.a.PROJECT_ID))!=c.c.NONE&&(this.timesheet.pr_project_id=yield this.storage.getNumber(c.b.SETTINGS_LAST_PROJECT_ID),this.availablePackages=yield this.apiService.getPackagesForProject(this.timesheet.pr_project_id)),this.route.params.subscribe(e=>Object(r.a)(this,void 0,void 0,(function*(){if(e.stopwatch_id){let t=yield this.stopwatchesService.get(e.stopwatch_id);t=Object.assign(new p.a,t),this.timesheet=t.toTimesheet((yield this.apiService.getUser()).id),this.selectedDuration=this.utils.parseDuration(this.timesheet.tracking.duration)}if(e.project_id&&(this.timesheet.pr_project_id=parseInt(e.project_id),this.availablePackages=yield this.apiService.getPackagesForProject(this.timesheet.pr_project_id)),e.package_id&&(this.timesheet.pr_package_id=parseInt(e.package_id)),e.time_id){this.isUpdate=!0;try{this.timesheet=yield this.apiService.getTimesheet(parseInt(e.time_id),!0),this.selectedDates=[new Date(this.timesheet.date)],this.selectedDuration=this.utils.parseDuration(this.timesheet.duration),this.availablePackages=yield this.apiService.getPackagesForProject(this.timesheet.pr_project_id)}catch(t){console.error("error",t)}}this.updateSelectTexts()})))}))}updateSelectTexts(){return Object(r.a)(this,void 0,void 0,(function*(){const e=this.projects.filter(e=>e.id==this.timesheet.pr_project_id);e.length>0&&(this.selectedProjectText=e[0].name,this.timesheet.contact_id=e[0].contact_id,this.timesheet.pr_package_id&&(this.selectedPackageText=(yield this.apiService.getPackageForProjectWithId(this.timesheet.pr_project_id,this.timesheet.pr_package_id)).name))}))}onProjectSelected(){return Object(r.a)(this,void 0,void 0,(function*(){this.availablePackages=yield this.apiService.getPackagesForProject(this.timesheet.pr_project_id),this.updateSelectTexts()}))}save(){return Object(r.a)(this,void 0,void 0,(function*(){console.log("timesheet",this.timesheet),this.isSaving=!0,null!=this.contact&&(this.timesheet.contact_id=this.contact.id),this.isUpdate?yield this.update():yield this.create(),this.isSaving=!1}))}contactChange(e){console.log("port:",e.value)}searchContact(e){return Object(r.a)(this,void 0,void 0,(function*(){let t=e.text.trim().toLowerCase();e.component.startSearch(),e.component.items=yield this.apiService.searchContact(t),e.component.endSearch()}))}validateTime(){return!this.timesheet.client_service_id||!this.timesheet.status_id||!this.timesheet.text||this.timesheet.text.length<1?(this.utils.showToast("Missing information"),!1):(this.timesheet.tracking.duration=(new s.a).transform(this.selectedDuration),!0)}onTimeChanged(){if("range"===this.timesheet.tracking.type){let e=(Date.parse(this.timesheet.tracking.end)-Date.parse(this.timesheet.tracking.start))/36e5;this.timesheet.tracking.duration=(new s.a).transform(e),this.selectedDuration=(new s.a).transform(e)}}segmentChanged(e){return Object(r.a)(this,void 0,void 0,(function*(){this.timesheet.tracking.type="duration"===e.detail.value?"duration":"range",console.log("changed type to "+e.detail.value),console.log("timesheet",this.timesheet)}))}storeLastUsed(e){return Object(r.a)(this,void 0,void 0,(function*(){(yield this.storage.getString(c.b.SETTINGS_LAST_PROJECT,c.a.PROJECT_ID))===c.c.LAST_USED&&this.storage.setItem(c.b.SETTINGS_LAST_PROJECT_ID,e.pr_project_id),(yield this.storage.getString(c.b.SETTINGS_LAST_STATUS,c.a.STATUS_ID))===c.c.LAST_USED&&this.storage.setItem(c.b.SETTINGS_LAST_STATUS_ID,e.status_id),(yield this.storage.getString(c.b.SETTINGS_LAST_SERVICE,c.a.SERVICE_ID))===c.c.LAST_USED&&this.storage.setItem(c.b.SETTINGS_LAST_SERVICE_ID,e.client_service_id)}))}update(){return Object(r.a)(this,void 0,void 0,(function*(){return new Promise(e=>{this.validateTime()?(this.timesheet.tracking.date=this.datePipe.transform(this.selectedDates[0],"yyyy-MM-dd"),this.apiService.putTimesheet(this.timesheet).then(t=>Object(r.a)(this,void 0,void 0,(function*(){this.storeLastUsed(t),this.utils.showToast("Updated"),this.router.navigateByUrl("tabs",{skipLocationChange:!0}),e()}))).catch(t=>Object(r.a)(this,void 0,void 0,(function*(){this.utils.showToast("Failed: "+t.message),e()})))):e()})}))}openCalendar(){var e;return Object(r.a)(this,void 0,void 0,(function*(){const t={from:new Date("2018-01-01"),defaultScrollTo:new Date,pickMode:"multi",title:yield this.translateService.get("Select date(s)").toPromise(),color:"primary",weekStart:1,defaultDates:this.selectedDates,defaultDate:this.selectedDates[0]};this.isUpdate&&(t.pickMode="single",t.defaultDate=this.selectedDates[0],t.title=yield this.translateService.get("Date").toPromise());const n=yield this.modalContoller.create({component:d.CalendarModal,componentProps:{options:t}});n.present();const i=yield n.onDidDismiss();if(this.isUpdate)this.selectedDates=[null===(e=i.data)||void 0===e?void 0:e.dateObj];else{let e=[];for(var a=0;a<i.data.length;a++)i.data[a]&&e.push(i.data[a].dateObj);this.selectedDates=e}}))}create(){return Object(r.a)(this,void 0,void 0,(function*(){return new Promise(e=>Object(r.a)(this,void 0,void 0,(function*(){if(this.validateTime()){for(var t=0;t<this.selectedDates.length;t++){let e=JSON.parse(JSON.stringify(this.timesheet));e.tracking.date=this.datePipe.transform(this.selectedDates[t],"yyyy-MM-dd"),yield this.apiService.postTimesheet(e)}this.storeLastUsed(this.timesheet),this.utils.showToast("Created"),this.router.navigateByUrl("tabs",{skipLocationChange:!0})}e()})))}))}delete(){return Object(r.a)(this,void 0,void 0,(function*(){(yield this.utils.confirm("Delete time entry","Are you sure?"))&&(yield this.apiService.deleteTimesheet(this.timesheet.id),this.utils.showToast("Deleted"),this.router.navigateByUrl("/tabs/times"))}))}}return e.\u0275fac=function(t){return new(t||e)(m["\u0275\u0275directiveInject"](h.a),m["\u0275\u0275directiveInject"](g.g),m["\u0275\u0275directiveInject"](g.a),m["\u0275\u0275directiveInject"](u.a),m["\u0275\u0275directiveInject"](S.a),m["\u0275\u0275directiveInject"](v.d),m["\u0275\u0275directiveInject"](o.ModalController),m["\u0275\u0275directiveInject"](f.a))},e.\u0275cmp=m["\u0275\u0275defineComponent"]({type:e,selectors:[["app-time"]],decls:51,vars:40,consts:[["color","primary"],["slot","start"],["mode","md","defaultHref","/tabs/projects"],["slot","end",4,"ngIf"],["slot","end","color","light",4,"ngIf"],[4,"ngIf"],[1,"type"],["mode","ios",3,"value","ionChange",4,"ngIf"],[3,"click",4,"ngIf"],["lines","none",4,"ngIf"],[3,"ngModel","ngModelChange"],["position","stacked"],["placeholder","Select","interface","popover",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["position","floating"],["placeholder","Project",3,"ngModel","selectedText","ionChange","ngModelChange"],["placeholder","Package",3,"ngModel","selectedText","ngModelChange"],["autoGrow","true","placeholder","Text",3,"ngModel","ngModelChange"],["slot","end"],[3,"click"],["slot","icon-only","name","save"],["slot","icon-only","name","trash-outline"],["slot","end","color","light"],["mode","ios",3,"value","ionChange"],["value","duration"],["value","range"],["position","stacked",4,"ngIf"],[4,"ngFor","ngForOf"],["displayFormat","DDDD MMM D, YYYY",3,"ngModel","ngModelChange","ionChange"],["displayFormat","HH:mm",3,"ngModel","ngModelChange","ionChange"],["lines","none"],[2,"width","100%","text-align","center","padding","16px"],["max","12","snaps","true","ticks","false",3,"min","step","ngModel","ngModelChange"],[2,"width","100%","text-align","center"],[3,"value"],["name","funnel-outline"]],template:function(e,t){1&e&&(m["\u0275\u0275elementStart"](0,"ion-header"),m["\u0275\u0275elementStart"](1,"ion-toolbar",0),m["\u0275\u0275elementStart"](2,"ion-buttons",1),m["\u0275\u0275element"](3,"ion-back-button",2),m["\u0275\u0275elementEnd"](),m["\u0275\u0275template"](4,x,4,1,"ion-buttons",3),m["\u0275\u0275template"](5,E,1,0,"ion-spinner",4),m["\u0275\u0275template"](6,T,3,3,"ion-title",5),m["\u0275\u0275template"](7,y,3,3,"ion-title",5),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](8,"ion-content"),m["\u0275\u0275elementStart"](9,"ion-list"),m["\u0275\u0275elementStart"](10,"div",6),m["\u0275\u0275template"](11,_,9,7,"ion-segment",7),m["\u0275\u0275template"](12,D,4,3,"ion-item",8),m["\u0275\u0275template"](13,w,13,8,"ion-row",5),m["\u0275\u0275template"](14,M,13,8,"ion-row",5),m["\u0275\u0275template"](15,j,9,12,"ion-item",9),m["\u0275\u0275template"](16,P,7,7,"ion-item",9),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](17,"ion-item"),m["\u0275\u0275elementStart"](18,"ion-label"),m["\u0275\u0275text"](19),m["\u0275\u0275pipe"](20,"translate"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](21,"ion-toggle",10),m["\u0275\u0275listener"]("ngModelChange",(function(e){return t.timesheet.allowable_bill=e})),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](22,"ion-item"),m["\u0275\u0275elementStart"](23,"ion-label",11),m["\u0275\u0275text"](24),m["\u0275\u0275pipe"](25,"translate"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](26,"ion-select",12),m["\u0275\u0275listener"]("ngModelChange",(function(e){return t.timesheet.client_service_id=e})),m["\u0275\u0275template"](27,O,2,2,"ion-select-option",13),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](28,"ion-item"),m["\u0275\u0275elementStart"](29,"ion-label",14),m["\u0275\u0275text"](30),m["\u0275\u0275pipe"](31,"translate"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](32,"ion-select",15),m["\u0275\u0275listener"]("ionChange",(function(){return t.onProjectSelected()}))("ngModelChange",(function(e){return t.timesheet.pr_project_id=e})),m["\u0275\u0275template"](33,N,4,2,"ion-select-option",13),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](34,"ion-item"),m["\u0275\u0275elementStart"](35,"ion-label",14),m["\u0275\u0275text"](36),m["\u0275\u0275pipe"](37,"translate"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](38,"ion-select",16),m["\u0275\u0275listener"]("ngModelChange",(function(e){return t.timesheet.pr_package_id=e})),m["\u0275\u0275template"](39,B,2,2,"ion-select-option",13),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](40,"ion-item"),m["\u0275\u0275elementStart"](41,"ion-label",11),m["\u0275\u0275text"](42),m["\u0275\u0275pipe"](43,"translate"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](44,"ion-select",12),m["\u0275\u0275listener"]("ngModelChange",(function(e){return t.timesheet.status_id=e})),m["\u0275\u0275template"](45,U,2,2,"ion-select-option",13),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](46,"ion-item"),m["\u0275\u0275elementStart"](47,"ion-label",11),m["\u0275\u0275text"](48),m["\u0275\u0275pipe"](49,"translate"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](50,"ion-textarea",17),m["\u0275\u0275listener"]("ngModelChange",(function(e){return t.timesheet.text=e})),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"]()),2&e&&(m["\u0275\u0275advance"](4),m["\u0275\u0275property"]("ngIf",!t.isSaving),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngIf",t.isSaving),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngIf",!t.isUpdate),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngIf",t.isUpdate),m["\u0275\u0275advance"](4),m["\u0275\u0275property"]("ngIf",!t.isUpdate),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngIf","duration"==(null==t.timesheet||null==t.timesheet.tracking?null:t.timesheet.tracking.type)),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngIf","range"==(null==t.timesheet||null==t.timesheet.tracking?null:t.timesheet.tracking.type)),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngIf","range"==(null==t.timesheet||null==t.timesheet.tracking?null:t.timesheet.tracking.type)),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngIf","duration"==(null==t.timesheet||null==t.timesheet.tracking?null:t.timesheet.tracking.type)),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngIf","range"==(null==t.timesheet||null==t.timesheet.tracking?null:t.timesheet.tracking.type)),m["\u0275\u0275advance"](3),m["\u0275\u0275textInterpolate"](m["\u0275\u0275pipeBind1"](20,28,"Chargeable")),m["\u0275\u0275advance"](2),m["\u0275\u0275property"]("ngModel",t.timesheet.allowable_bill),m["\u0275\u0275advance"](3),m["\u0275\u0275textInterpolate1"]("",m["\u0275\u0275pipeBind1"](25,30,"Service"),"*"),m["\u0275\u0275advance"](2),m["\u0275\u0275property"]("ngModel",t.timesheet.client_service_id),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngForOf",t.clientServices),m["\u0275\u0275advance"](3),m["\u0275\u0275textInterpolate"](m["\u0275\u0275pipeBind1"](31,32,"Project")),m["\u0275\u0275advance"](2),m["\u0275\u0275property"]("ngModel",t.timesheet.pr_project_id)("selectedText",t.selectedProjectText),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngForOf",t.projects),m["\u0275\u0275advance"](3),m["\u0275\u0275textInterpolate"](m["\u0275\u0275pipeBind1"](37,34,"Package")),m["\u0275\u0275advance"](2),m["\u0275\u0275property"]("ngModel",t.timesheet.pr_package_id)("selectedText",t.selectedPackageText),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngForOf",t.availablePackages),m["\u0275\u0275advance"](3),m["\u0275\u0275textInterpolate1"]("",m["\u0275\u0275pipeBind1"](43,36,"Status"),"*"),m["\u0275\u0275advance"](2),m["\u0275\u0275property"]("ngModel",t.timesheet.status_id),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngForOf",t.timesheetStatus),m["\u0275\u0275advance"](3),m["\u0275\u0275textInterpolate1"]("",m["\u0275\u0275pipeBind1"](49,38,"Description"),"*"),m["\u0275\u0275advance"](2),m["\u0275\u0275property"]("ngModel",t.timesheet.text))},directives:[o.IonHeader,o.IonToolbar,o.IonButtons,o.IonBackButton,o.IonBackButtonDelegate,i.NgIf,o.IonContent,o.IonList,o.IonItem,o.IonLabel,o.IonToggle,o.BooleanValueAccessor,a.NgControlStatus,a.NgModel,o.IonSelect,o.SelectValueAccessor,i.NgForOf,o.IonTextarea,o.TextValueAccessor,o.IonButton,o.IonIcon,o.IonSpinner,o.IonTitle,o.IonSegment,o.IonSegmentButton,o.IonRow,o.IonCol,o.IonDatetime,o.IonRange,o.IonSelectOption],pipes:[v.c,i.DatePipe,s.a],styles:["ion-spinner[_ngcontent-%COMP%]{margin-right:12px}ion-item[_ngcontent-%COMP%]{--ion-background-color:transparent}.type[_ngcontent-%COMP%]{margin:8px;padding:8px;border-radius:7px;background-color:#eee}"]}),e})();var A=n("iTUp"),L=n("CH/f");let F=(()=>{class e{}return e.\u0275mod=m["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=m["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[i.CommonModule,a.FormsModule,o.IonicModule,v.b,A.a,L.a,g.i.forChild([{path:"",component:V}])]]}),e})()}}]);