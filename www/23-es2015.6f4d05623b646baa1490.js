(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{yPrK:function(e,t,n){"use strict";n.r(t),n.d(t,"SettingsPageModule",(function(){return C}));var a=n("TEn/"),i=n("tyNb"),o=n("ofXK"),r=n("3Pt+"),l=n("mrSG"),s=n("TCge"),p=n("LvDl"),d=n("fXoL"),c=n("oZWX"),m=n("zEhZ"),S=n("E2f4"),u=n("HPR3"),h=n("wTvH"),g=n("sYmb"),I=n("u1pB");function E(e,t){if(1&e&&(d["\u0275\u0275elementStart"](0,"ion-select-option",17),d["\u0275\u0275text"](1),d["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;d["\u0275\u0275propertyInterpolate"]("value",e.id),d["\u0275\u0275advance"](1),d["\u0275\u0275textInterpolate"](e.name)}}function v(e,t){if(1&e&&(d["\u0275\u0275elementStart"](0,"ion-select-option",17),d["\u0275\u0275text"](1),d["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;d["\u0275\u0275propertyInterpolate"]("value",e.id),d["\u0275\u0275advance"](1),d["\u0275\u0275textInterpolate"](e.name)}}function T(e,t){if(1&e&&(d["\u0275\u0275elementStart"](0,"ion-select-option",17),d["\u0275\u0275text"](1),d["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;d["\u0275\u0275propertyInterpolate"]("value",e.id),d["\u0275\u0275advance"](1),d["\u0275\u0275textInterpolate"](e.name)}}let x=(()=>{class e{constructor(e,t,n,a,i,o){this.apiService=e,this.authService=t,this.storage=n,this.utils=a,this.storageBackend=i,this.navCtrl=o,this.services=[],this.status=[],this.projects=[],this.lastUsedService=s.a.SERVICE_ID,this.lastUsedStatus=s.a.STATUS_ID,this.lastUsedProject=s.a.PROJECT_ID,this.stopwatchSingular=s.a.STOPWATCH_SINGULAR,this.duration=s.a.DURATION,this.steps=s.a.STEPS,this.hoursPerDay=s.a.HOURS_PER_DAY,this.notificationsChanged=p.debounce(()=>Object(l.a)(this,void 0,void 0,(function*(){this.storage.setItem(s.b.SETTINGS_DURATION,this.duration),this.storage.setItem(s.b.SETTINGS_STEPS,this.steps),this.storage.setItem(s.b.SETTINGS_HOURS_PER_DAY,this.hoursPerDay),this.storage.setItem(s.b.SETTINGS_LAST_SERVICE,this.lastUsedService),this.storage.setItem(s.b.SETTINGS_LAST_STATUS,this.lastUsedStatus),this.storage.setItem(s.b.SETTINGS_LAST_PROJECT,this.lastUsedProject),this.storage.setItem(s.b.SETTINGS_STOPWATCH_SINGULAR,this.stopwatchSingular),parseInt(this.lastUsedService)>=0&&this.storage.setItem(s.b.SETTINGS_LAST_SERVICE_ID,this.lastUsedService),parseInt(this.lastUsedStatus)>=0&&this.storage.setItem(s.b.SETTINGS_LAST_STATUS_ID,this.lastUsedStatus),parseInt(this.lastUsedProject)>=0&&this.storage.setItem(s.b.SETTINGS_LAST_PROJECT_ID,this.lastUsedProject),this.utils.showToast("Updated")})),2e3),this.init()}init(){return Object(l.a)(this,void 0,void 0,(function*(){this.duration=yield this.storage.getNumber(s.b.SETTINGS_DURATION,s.a.DURATION),this.steps=yield this.storage.getNumber(s.b.SETTINGS_STEPS,s.a.STEPS),this.hoursPerDay=yield this.storage.getNumber(s.b.SETTINGS_HOURS_PER_DAY,s.a.HOURS_PER_DAY),this.lastUsedService=yield this.storage.getString(s.b.SETTINGS_LAST_SERVICE,s.a.SERVICE_ID),this.lastUsedStatus=yield this.storage.getString(s.b.SETTINGS_LAST_STATUS,s.a.STATUS_ID),this.lastUsedProject=yield this.storage.getString(s.b.SETTINGS_LAST_PROJECT,s.a.PROJECT_ID),this.stopwatchSingular=yield this.storage.getBoolean(s.b.SETTINGS_STOPWATCH_SINGULAR,s.a.STOPWATCH_SINGULAR),this.user=yield this.apiService.getUser(),this.services=yield this.apiService.getClientService(),this.status=yield this.apiService.getTimesheetStatus(),this.projects=yield this.apiService.getProjects()}))}logout(){return Object(l.a)(this,void 0,void 0,(function*(){yield this.authService.signOut(),this.navCtrl.navigateRoot("auth/endsession"),yield this.storageBackend.clear(),window.location.href="/"}))}}return e.\u0275fac=function(t){return new(t||e)(d["\u0275\u0275directiveInject"](c.a),d["\u0275\u0275directiveInject"](m.AuthService),d["\u0275\u0275directiveInject"](S.a),d["\u0275\u0275directiveInject"](u.a),d["\u0275\u0275directiveInject"](h.StorageBackend),d["\u0275\u0275directiveInject"](a.NavController))},e.\u0275cmp=d["\u0275\u0275defineComponent"]({type:e,selectors:[["app-settings"]],decls:120,vars:102,consts:[["color","primary"],[1,"ion-align-items-center"],["size","12",1,"ion-text-center"],["name","person-circle-outline",2,"font-size","180px"],["shape","round",3,"click"],["position","stacked"],[2,"width","100%","text-align","center","padding","16px"],["min","1","max","60","step","1","snaps","true","ticks","false",3,"ngModel","ngModelChange","ionChange"],["min","0","max","12","snaps","true","ticks","false",3,"step","ngModel","ngModelChange","ionChange"],[3,"ngModel","ngModelChange","ionChange"],["value","-2"],["value","-1"],[3,"value",4,"ngFor","ngForOf"],["routerLink","/notification-settings"],["routerLink","/module-settings","lines","none"],["onclick","window.open('https://feedback.bextrack.com', '_system', 'location=yes'); return false;"],["routerLink","/about","lines","none"],[3,"value"]],template:function(e,t){1&e&&(d["\u0275\u0275elementStart"](0,"ion-header"),d["\u0275\u0275elementStart"](1,"ion-toolbar",0),d["\u0275\u0275elementStart"](2,"ion-title"),d["\u0275\u0275text"](3),d["\u0275\u0275pipe"](4,"translate"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](5,"ion-content"),d["\u0275\u0275elementStart"](6,"ion-grid"),d["\u0275\u0275elementStart"](7,"ion-row",1),d["\u0275\u0275elementStart"](8,"ion-col",2),d["\u0275\u0275element"](9,"ion-icon",3),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](10,"ion-row",1),d["\u0275\u0275elementStart"](11,"ion-col",2),d["\u0275\u0275text"](12),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](13,"ion-row",1),d["\u0275\u0275elementStart"](14,"ion-col",2),d["\u0275\u0275elementStart"](15,"ion-button",4),d["\u0275\u0275listener"]("click",(function(){return t.logout()})),d["\u0275\u0275text"](16),d["\u0275\u0275pipe"](17,"translate"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](18,"ion-list"),d["\u0275\u0275elementStart"](19,"ion-list-header"),d["\u0275\u0275text"](20),d["\u0275\u0275pipe"](21,"translate"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](22,"ion-item"),d["\u0275\u0275elementStart"](23,"ion-label",5),d["\u0275\u0275text"](24),d["\u0275\u0275pipe"](25,"translate"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](26,"span",6),d["\u0275\u0275text"](27),d["\u0275\u0275pipe"](28,"translate"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](29,"ion-range",7),d["\u0275\u0275listener"]("ngModelChange",(function(e){return t.steps=e}))("ionChange",(function(){return t.notificationsChanged()})),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](30,"ion-item"),d["\u0275\u0275elementStart"](31,"ion-label",5),d["\u0275\u0275text"](32),d["\u0275\u0275pipe"](33,"translate"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](34,"span",6),d["\u0275\u0275text"](35),d["\u0275\u0275pipe"](36,"toDuration"),d["\u0275\u0275pipe"](37,"translate"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](38,"ion-range",8),d["\u0275\u0275listener"]("ngModelChange",(function(e){return t.hoursPerDay=e}))("ionChange",(function(){return t.notificationsChanged()})),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](39,"ion-item"),d["\u0275\u0275elementStart"](40,"ion-label",5),d["\u0275\u0275text"](41),d["\u0275\u0275pipe"](42,"translate"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](43,"span",6),d["\u0275\u0275text"](44),d["\u0275\u0275pipe"](45,"toDuration"),d["\u0275\u0275pipe"](46,"translate"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](47,"ion-range",8),d["\u0275\u0275listener"]("ngModelChange",(function(e){return t.duration=e}))("ionChange",(function(){return t.notificationsChanged()})),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](48,"ion-item"),d["\u0275\u0275elementStart"](49,"ion-label",5),d["\u0275\u0275text"](50),d["\u0275\u0275pipe"](51,"translate"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](52,"ion-select",9),d["\u0275\u0275listener"]("ngModelChange",(function(e){return t.lastUsedStatus=e}))("ionChange",(function(){return t.notificationsChanged()})),d["\u0275\u0275elementStart"](53,"ion-select-option",10),d["\u0275\u0275text"](54),d["\u0275\u0275pipe"](55,"translate"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](56,"ion-select-option",11),d["\u0275\u0275text"](57),d["\u0275\u0275pipe"](58,"translate"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275template"](59,E,2,2,"ion-select-option",12),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](60,"ion-item"),d["\u0275\u0275elementStart"](61,"ion-label",5),d["\u0275\u0275text"](62),d["\u0275\u0275pipe"](63,"translate"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](64,"ion-select",9),d["\u0275\u0275listener"]("ngModelChange",(function(e){return t.lastUsedService=e}))("ionChange",(function(){return t.notificationsChanged()})),d["\u0275\u0275elementStart"](65,"ion-select-option",10),d["\u0275\u0275text"](66),d["\u0275\u0275pipe"](67,"translate"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](68,"ion-select-option",11),d["\u0275\u0275text"](69),d["\u0275\u0275pipe"](70,"translate"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275template"](71,v,2,2,"ion-select-option",12),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](72,"ion-item"),d["\u0275\u0275elementStart"](73,"ion-label",5),d["\u0275\u0275text"](74),d["\u0275\u0275pipe"](75,"translate"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](76,"ion-select",9),d["\u0275\u0275listener"]("ngModelChange",(function(e){return t.lastUsedProject=e}))("ionChange",(function(){return t.notificationsChanged()})),d["\u0275\u0275elementStart"](77,"ion-select-option",10),d["\u0275\u0275text"](78),d["\u0275\u0275pipe"](79,"translate"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](80,"ion-select-option",11),d["\u0275\u0275text"](81),d["\u0275\u0275pipe"](82,"translate"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275template"](83,T,2,2,"ion-select-option",12),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](84,"ion-item"),d["\u0275\u0275elementStart"](85,"ion-label"),d["\u0275\u0275text"](86),d["\u0275\u0275pipe"](87,"translate"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](88,"ion-checkbox",9),d["\u0275\u0275listener"]("ngModelChange",(function(e){return t.stopwatchSingular=e}))("ionChange",(function(){return t.notificationsChanged()})),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](89,"ion-item",13),d["\u0275\u0275elementStart"](90,"ion-label"),d["\u0275\u0275elementStart"](91,"h2"),d["\u0275\u0275text"](92),d["\u0275\u0275pipe"](93,"translate"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](94,"p"),d["\u0275\u0275text"](95),d["\u0275\u0275pipe"](96,"translate"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](97,"ion-item",14),d["\u0275\u0275elementStart"](98,"ion-label"),d["\u0275\u0275elementStart"](99,"h2"),d["\u0275\u0275text"](100),d["\u0275\u0275pipe"](101,"translate"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](102,"p"),d["\u0275\u0275text"](103),d["\u0275\u0275pipe"](104,"translate"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](105,"ion-list-header"),d["\u0275\u0275text"](106),d["\u0275\u0275pipe"](107,"translate"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](108,"ion-item",15),d["\u0275\u0275elementStart"](109,"ion-label"),d["\u0275\u0275elementStart"](110,"h2"),d["\u0275\u0275text"](111),d["\u0275\u0275pipe"](112,"translate"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](113,"p"),d["\u0275\u0275text"](114),d["\u0275\u0275pipe"](115,"translate"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](116,"ion-item",16),d["\u0275\u0275elementStart"](117,"ion-label"),d["\u0275\u0275text"](118),d["\u0275\u0275pipe"](119,"translate"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"]()),2&e&&(d["\u0275\u0275advance"](3),d["\u0275\u0275textInterpolate1"](" ",d["\u0275\u0275pipeBind1"](4,44,"Settings")," "),d["\u0275\u0275advance"](9),d["\u0275\u0275textInterpolate2"](" ",null==t.user?null:t.user.firstname," ",null==t.user?null:t.user.lastname," "),d["\u0275\u0275advance"](4),d["\u0275\u0275textInterpolate"](d["\u0275\u0275pipeBind1"](17,46,"Logout")),d["\u0275\u0275advance"](4),d["\u0275\u0275textInterpolate"](d["\u0275\u0275pipeBind1"](21,48,"Settings")),d["\u0275\u0275advance"](4),d["\u0275\u0275textInterpolate"](d["\u0275\u0275pipeBind1"](25,50,"Duration steps")),d["\u0275\u0275advance"](3),d["\u0275\u0275textInterpolate2"]("",t.steps," ",d["\u0275\u0275pipeBind1"](28,52,"minute(s)"),""),d["\u0275\u0275advance"](2),d["\u0275\u0275property"]("ngModel",t.steps),d["\u0275\u0275advance"](3),d["\u0275\u0275textInterpolate"](d["\u0275\u0275pipeBind1"](33,54,"Hours per day")),d["\u0275\u0275advance"](3),d["\u0275\u0275textInterpolate2"]("",d["\u0275\u0275pipeBind1"](36,56,t.hoursPerDay)," ",d["\u0275\u0275pipeBind1"](37,58,"hour(s)"),""),d["\u0275\u0275advance"](3),d["\u0275\u0275property"]("step",t.steps/60)("ngModel",t.hoursPerDay),d["\u0275\u0275advance"](3),d["\u0275\u0275textInterpolate"](d["\u0275\u0275pipeBind1"](42,60,"Default duration")),d["\u0275\u0275advance"](3),d["\u0275\u0275textInterpolate2"]("",d["\u0275\u0275pipeBind1"](45,62,t.duration)," ",d["\u0275\u0275pipeBind1"](46,64,"hour(s)"),""),d["\u0275\u0275advance"](3),d["\u0275\u0275property"]("step",t.steps/60)("ngModel",t.duration),d["\u0275\u0275advance"](3),d["\u0275\u0275textInterpolate"](d["\u0275\u0275pipeBind1"](51,66,"Default status")),d["\u0275\u0275advance"](2),d["\u0275\u0275property"]("ngModel",t.lastUsedStatus),d["\u0275\u0275advance"](2),d["\u0275\u0275textInterpolate"](d["\u0275\u0275pipeBind1"](55,68,"None")),d["\u0275\u0275advance"](3),d["\u0275\u0275textInterpolate"](d["\u0275\u0275pipeBind1"](58,70,"Last used")),d["\u0275\u0275advance"](2),d["\u0275\u0275property"]("ngForOf",t.status),d["\u0275\u0275advance"](3),d["\u0275\u0275textInterpolate"](d["\u0275\u0275pipeBind1"](63,72,"Default service")),d["\u0275\u0275advance"](2),d["\u0275\u0275property"]("ngModel",t.lastUsedService),d["\u0275\u0275advance"](2),d["\u0275\u0275textInterpolate"](d["\u0275\u0275pipeBind1"](67,74,"None")),d["\u0275\u0275advance"](3),d["\u0275\u0275textInterpolate"](d["\u0275\u0275pipeBind1"](70,76,"Last used")),d["\u0275\u0275advance"](2),d["\u0275\u0275property"]("ngForOf",t.services),d["\u0275\u0275advance"](3),d["\u0275\u0275textInterpolate"](d["\u0275\u0275pipeBind1"](75,78,"Default project")),d["\u0275\u0275advance"](2),d["\u0275\u0275property"]("ngModel",t.lastUsedProject),d["\u0275\u0275advance"](2),d["\u0275\u0275textInterpolate"](d["\u0275\u0275pipeBind1"](79,80,"None")),d["\u0275\u0275advance"](3),d["\u0275\u0275textInterpolate"](d["\u0275\u0275pipeBind1"](82,82,"Last used")),d["\u0275\u0275advance"](2),d["\u0275\u0275property"]("ngForOf",t.projects),d["\u0275\u0275advance"](3),d["\u0275\u0275textInterpolate"](d["\u0275\u0275pipeBind1"](87,84,"Only allow to run one stopwatch at the time")),d["\u0275\u0275advance"](2),d["\u0275\u0275property"]("ngModel",t.stopwatchSingular),d["\u0275\u0275advance"](4),d["\u0275\u0275textInterpolate"](d["\u0275\u0275pipeBind1"](93,86,"Notifications")),d["\u0275\u0275advance"](3),d["\u0275\u0275textInterpolate"](d["\u0275\u0275pipeBind1"](96,88,"Never forget to track your time by setting a reminder.")),d["\u0275\u0275advance"](5),d["\u0275\u0275textInterpolate"](d["\u0275\u0275pipeBind1"](101,90,"Modules")),d["\u0275\u0275advance"](3),d["\u0275\u0275textInterpolate"](d["\u0275\u0275pipeBind1"](104,92,"Activate or deactivate modules")),d["\u0275\u0275advance"](3),d["\u0275\u0275textInterpolate"](d["\u0275\u0275pipeBind1"](107,94,"Support")),d["\u0275\u0275advance"](5),d["\u0275\u0275textInterpolate"](d["\u0275\u0275pipeBind1"](112,96,"Provide Feedback")),d["\u0275\u0275advance"](3),d["\u0275\u0275textInterpolate"](d["\u0275\u0275pipeBind1"](115,98,"help-me-to-improve-the-app")),d["\u0275\u0275advance"](4),d["\u0275\u0275textInterpolate"](d["\u0275\u0275pipeBind1"](119,100,"About")))},directives:[a.IonHeader,a.IonToolbar,a.IonTitle,a.IonContent,a.IonGrid,a.IonRow,a.IonCol,a.IonIcon,a.IonButton,a.IonList,a.IonListHeader,a.IonItem,a.IonLabel,a.IonRange,a.SelectValueAccessor,r.NgControlStatus,r.NgModel,a.IonSelect,a.IonSelectOption,o.NgForOf,a.IonCheckbox,a.BooleanValueAccessor,a.RouterLinkDelegate,i.h],pipes:[g.c,I.a],styles:["ion-content[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]{--background:translucent}ion-list-header[_ngcontent-%COMP%]{font-weight:700}"]}),e})();var f=n("iTUp");let C=(()=>{class e{}return e.\u0275mod=d["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=d["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[a.IonicModule,o.CommonModule,r.FormsModule,g.b,f.a,i.i.forChild([{path:"",component:x}])]]}),e})()}}]);