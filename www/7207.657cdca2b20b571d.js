"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[7207],{7207:(N,c,a)=>{a.r(c),a.d(c,{SettingsPageModule:()=>k});var T=a(177),u=a(9417),d=a(3871),i=a(4742),p=a(3955),R=a(1683),h=a(467),I=a(1413),m=a(152),s=a(8),e=a(6996),_=a(6929),E=a(5154),F=a(5217),f=a(9893),C=a(8048),v=a(2872),M=a(7792);function P(o,S){if(1&o&&(e.j41(0,"ion-select-option",17),e.EFF(1),e.k0s()),2&o){const g=S.$implicit;e.FS9("value",g.id),e.R7$(1),e.JRh(g.name)}}function b(o,S){if(1&o&&(e.j41(0,"ion-select-option",17),e.EFF(1),e.k0s()),2&o){const g=S.$implicit;e.FS9("value",g.id),e.R7$(1),e.JRh(g.name)}}function j(o,S){if(1&o&&(e.j41(0,"ion-select-option",17),e.EFF(1),e.k0s()),2&o){const g=S.$implicit;e.FS9("value",g.id),e.R7$(1),e.JRh(g.name)}}let U=(()=>{var o;class S{constructor(t,n,l,r,O,$){this.apiService=t,this.authService=n,this.storage=l,this.utils=r,this.storageBackend=O,this.navCtrl=$,this.services=[],this.status=[],this.projects=[],this.lastUsedService=s.zY.SERVICE_ID,this.lastUsedStatus=s.zY.STATUS_ID,this.lastUsedProject=s.zY.PROJECT_ID,this.stopwatchSingular=s.zY.STOPWATCH_SINGULAR,this.duration=s.zY.DURATION,this.steps=s.zY.STEPS,this.hoursPerDay=s.zY.HOURS_PER_DAY,this.notificationSubject=new I.B}ngOnInit(){this.init(),this.notificationSubject.pipe((0,m.B)(2e3)).subscribe(()=>this.saveNotifications())}init(){var t=this;return(0,h.A)(function*(){t.duration=yield t.storage.getNumber(s.O3.SETTINGS_DURATION,s.zY.DURATION),t.steps=yield t.storage.getNumber(s.O3.SETTINGS_STEPS,s.zY.STEPS),t.hoursPerDay=yield t.storage.getNumber(s.O3.SETTINGS_HOURS_PER_DAY,s.zY.HOURS_PER_DAY),t.lastUsedService=yield t.storage.getString(s.O3.SETTINGS_LAST_SERVICE,s.zY.SERVICE_ID),t.lastUsedStatus=yield t.storage.getString(s.O3.SETTINGS_LAST_STATUS,s.zY.STATUS_ID),t.lastUsedProject=yield t.storage.getString(s.O3.SETTINGS_LAST_PROJECT,s.zY.PROJECT_ID),t.stopwatchSingular=yield t.storage.getBoolean(s.O3.SETTINGS_STOPWATCH_SINGULAR,s.zY.STOPWATCH_SINGULAR),t.user=yield t.apiService.getUser(),t.services=yield t.apiService.getClientService(),t.status=yield t.apiService.getTimesheetStatus(),t.projects=yield t.apiService.getProjects()})()}logout(){var t=this;return(0,h.A)(function*(){yield t.authService.signOut(),t.navCtrl.navigateRoot("auth/endsession"),yield t.storageBackend.clear(),window.location.href="/"})()}notificationsChanged(){this.notificationSubject.next()}saveNotifications(){var t=this;return(0,h.A)(function*(){t.storage.setItem(s.O3.SETTINGS_DURATION,t.duration),t.storage.setItem(s.O3.SETTINGS_STEPS,t.steps),t.storage.setItem(s.O3.SETTINGS_HOURS_PER_DAY,t.hoursPerDay),t.storage.setItem(s.O3.SETTINGS_LAST_SERVICE,t.lastUsedService),t.storage.setItem(s.O3.SETTINGS_LAST_STATUS,t.lastUsedStatus),t.storage.setItem(s.O3.SETTINGS_LAST_PROJECT,t.lastUsedProject),t.storage.setItem(s.O3.SETTINGS_STOPWATCH_SINGULAR,t.stopwatchSingular),parseInt(t.lastUsedService,10)>=0&&t.storage.setItem(s.O3.SETTINGS_LAST_SERVICE_ID,t.lastUsedService),parseInt(t.lastUsedStatus,10)>=0&&t.storage.setItem(s.O3.SETTINGS_LAST_STATUS_ID,t.lastUsedStatus),parseInt(t.lastUsedProject,10)>=0&&t.storage.setItem(s.O3.SETTINGS_LAST_PROJECT_ID,t.lastUsedProject),t.utils.showToast("Updated")})()}}return(o=S).\u0275fac=function(t){return new(t||o)(e.rXU(_.G),e.rXU(E.AuthService),e.rXU(F.n),e.rXU(f.T),e.rXU(C.StorageBackend),e.rXU(v.q9))},o.\u0275cmp=e.VBU({type:o,selectors:[["app-settings"]],decls:120,vars:102,consts:[["color","primary"],[1,"ion-align-items-center"],["size","12",1,"ion-text-center"],["name","person-circle-outline",2,"font-size","180px"],["shape","round",3,"click"],["position","stacked"],[2,"width","100%","text-align","center","padding","16px"],["min","1","max","60","step","1","snaps","true","ticks","false",3,"ngModel","ngModelChange","ionChange"],["min","0","max","12","snaps","true","ticks","false",3,"step","ngModel","ngModelChange","ionChange"],[3,"ngModel","ngModelChange","ionChange"],["value","-2"],["value","-1"],[3,"value",4,"ngFor","ngForOf"],["routerLink","/notification-settings"],["routerLink","/module-settings","lines","none"],["onclick","window.open('https://feedback.bextrack.com', '_system', 'location=yes'); return false;"],["routerLink","/about","lines","none"],[3,"value"]],template:function(t,n){1&t&&(e.j41(0,"ion-header")(1,"ion-toolbar",0)(2,"ion-title"),e.EFF(3),e.nI1(4,"translate"),e.k0s()()(),e.j41(5,"ion-content")(6,"ion-grid")(7,"ion-row",1)(8,"ion-col",2),e.nrm(9,"ion-icon",3),e.k0s()(),e.j41(10,"ion-row",1)(11,"ion-col",2),e.EFF(12),e.k0s()(),e.j41(13,"ion-row",1)(14,"ion-col",2)(15,"ion-button",4),e.bIt("click",function(){return n.logout()}),e.EFF(16),e.nI1(17,"translate"),e.k0s()()()(),e.j41(18,"ion-list")(19,"ion-list-header"),e.EFF(20),e.nI1(21,"translate"),e.k0s(),e.j41(22,"ion-item")(23,"ion-label",5),e.EFF(24),e.nI1(25,"translate"),e.k0s(),e.j41(26,"span",6),e.EFF(27),e.nI1(28,"translate"),e.k0s(),e.j41(29,"ion-range",7),e.bIt("ngModelChange",function(r){return n.steps=r})("ionChange",function(){return n.notificationsChanged()}),e.k0s()(),e.j41(30,"ion-item")(31,"ion-label",5),e.EFF(32),e.nI1(33,"translate"),e.k0s(),e.j41(34,"span",6),e.EFF(35),e.nI1(36,"toDuration"),e.nI1(37,"translate"),e.k0s(),e.j41(38,"ion-range",8),e.bIt("ngModelChange",function(r){return n.hoursPerDay=r})("ionChange",function(){return n.notificationsChanged()}),e.k0s()(),e.j41(39,"ion-item")(40,"ion-label",5),e.EFF(41),e.nI1(42,"translate"),e.k0s(),e.j41(43,"span",6),e.EFF(44),e.nI1(45,"toDuration"),e.nI1(46,"translate"),e.k0s(),e.j41(47,"ion-range",8),e.bIt("ngModelChange",function(r){return n.duration=r})("ionChange",function(){return n.notificationsChanged()}),e.k0s()(),e.j41(48,"ion-item")(49,"ion-label",5),e.EFF(50),e.nI1(51,"translate"),e.k0s(),e.j41(52,"ion-select",9),e.bIt("ngModelChange",function(r){return n.lastUsedStatus=r})("ionChange",function(){return n.notificationsChanged()}),e.j41(53,"ion-select-option",10),e.EFF(54),e.nI1(55,"translate"),e.k0s(),e.j41(56,"ion-select-option",11),e.EFF(57),e.nI1(58,"translate"),e.k0s(),e.DNE(59,P,2,2,"ion-select-option",12),e.k0s()(),e.j41(60,"ion-item")(61,"ion-label",5),e.EFF(62),e.nI1(63,"translate"),e.k0s(),e.j41(64,"ion-select",9),e.bIt("ngModelChange",function(r){return n.lastUsedService=r})("ionChange",function(){return n.notificationsChanged()}),e.j41(65,"ion-select-option",10),e.EFF(66),e.nI1(67,"translate"),e.k0s(),e.j41(68,"ion-select-option",11),e.EFF(69),e.nI1(70,"translate"),e.k0s(),e.DNE(71,b,2,2,"ion-select-option",12),e.k0s()(),e.j41(72,"ion-item")(73,"ion-label",5),e.EFF(74),e.nI1(75,"translate"),e.k0s(),e.j41(76,"ion-select",9),e.bIt("ngModelChange",function(r){return n.lastUsedProject=r})("ionChange",function(){return n.notificationsChanged()}),e.j41(77,"ion-select-option",10),e.EFF(78),e.nI1(79,"translate"),e.k0s(),e.j41(80,"ion-select-option",11),e.EFF(81),e.nI1(82,"translate"),e.k0s(),e.DNE(83,j,2,2,"ion-select-option",12),e.k0s()(),e.j41(84,"ion-item")(85,"ion-label"),e.EFF(86),e.nI1(87,"translate"),e.k0s(),e.j41(88,"ion-checkbox",9),e.bIt("ngModelChange",function(r){return n.stopwatchSingular=r})("ionChange",function(){return n.notificationsChanged()}),e.k0s()(),e.j41(89,"ion-item",13)(90,"ion-label")(91,"h2"),e.EFF(92),e.nI1(93,"translate"),e.k0s(),e.j41(94,"p"),e.EFF(95),e.nI1(96,"translate"),e.k0s()()(),e.j41(97,"ion-item",14)(98,"ion-label")(99,"h2"),e.EFF(100),e.nI1(101,"translate"),e.k0s(),e.j41(102,"p"),e.EFF(103),e.nI1(104,"translate"),e.k0s()()(),e.j41(105,"ion-list-header"),e.EFF(106),e.nI1(107,"translate"),e.k0s(),e.j41(108,"ion-item",15)(109,"ion-label")(110,"h2"),e.EFF(111),e.nI1(112,"translate"),e.k0s(),e.j41(113,"p"),e.EFF(114),e.nI1(115,"translate"),e.k0s()()(),e.j41(116,"ion-item",16)(117,"ion-label"),e.EFF(118),e.nI1(119,"translate"),e.k0s()()()()),2&t&&(e.R7$(3),e.SpI(" ",e.bMT(4,44,"Settings")," "),e.R7$(9),e.Lme(" ",null==n.user?null:n.user.firstname," ",null==n.user?null:n.user.lastname," "),e.R7$(4),e.JRh(e.bMT(17,46,"Logout")),e.R7$(4),e.JRh(e.bMT(21,48,"Settings")),e.R7$(4),e.JRh(e.bMT(25,50,"Duration steps")),e.R7$(3),e.Lme("",n.steps," ",e.bMT(28,52,"minute(s)"),""),e.R7$(2),e.Y8G("ngModel",n.steps),e.R7$(3),e.JRh(e.bMT(33,54,"Hours per day")),e.R7$(3),e.Lme("",e.bMT(36,56,n.hoursPerDay)," ",e.bMT(37,58,"hour(s)"),""),e.R7$(3),e.Y8G("step",n.steps/60)("ngModel",n.hoursPerDay),e.R7$(3),e.JRh(e.bMT(42,60,"Default duration")),e.R7$(3),e.Lme("",e.bMT(45,62,n.duration)," ",e.bMT(46,64,"hour(s)"),""),e.R7$(3),e.Y8G("step",n.steps/60)("ngModel",n.duration),e.R7$(3),e.JRh(e.bMT(51,66,"Default status")),e.R7$(2),e.Y8G("ngModel",n.lastUsedStatus),e.R7$(2),e.JRh(e.bMT(55,68,"None")),e.R7$(3),e.JRh(e.bMT(58,70,"Last used")),e.R7$(2),e.Y8G("ngForOf",n.status),e.R7$(3),e.JRh(e.bMT(63,72,"Default service")),e.R7$(2),e.Y8G("ngModel",n.lastUsedService),e.R7$(2),e.JRh(e.bMT(67,74,"None")),e.R7$(3),e.JRh(e.bMT(70,76,"Last used")),e.R7$(2),e.Y8G("ngForOf",n.services),e.R7$(3),e.JRh(e.bMT(75,78,"Default project")),e.R7$(2),e.Y8G("ngModel",n.lastUsedProject),e.R7$(2),e.JRh(e.bMT(79,80,"None")),e.R7$(3),e.JRh(e.bMT(82,82,"Last used")),e.R7$(2),e.Y8G("ngForOf",n.projects),e.R7$(3),e.JRh(e.bMT(87,84,"Only allow to run one stopwatch at the time")),e.R7$(2),e.Y8G("ngModel",n.stopwatchSingular),e.R7$(4),e.JRh(e.bMT(93,86,"Notifications")),e.R7$(3),e.JRh(e.bMT(96,88,"Never forget to track your time by setting a reminder.")),e.R7$(5),e.JRh(e.bMT(101,90,"Modules")),e.R7$(3),e.JRh(e.bMT(104,92,"Activate or deactivate modules")),e.R7$(3),e.JRh(e.bMT(107,94,"Support")),e.R7$(5),e.JRh(e.bMT(112,96,"Provide Feedback")),e.R7$(3),e.JRh(e.bMT(115,98,"help-me-to-improve-the-app")),e.R7$(4),e.JRh(e.bMT(119,100,"About")))},dependencies:[i.Jm,i.eY,i.hU,i.W9,i.lO,i.eU,i.iq,i.uz,i.he,i.nf,i.AF,i.Ob,i.ln,i.Nm,i.Ip,i.BC,i.ai,i.hB,i.su,i.Je,i.N7,T.Sq,u.BC,u.vS,d.Wk,p.D9,M.W],styles:["ion-content[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]{--background: translucent}ion-list-header[_ngcontent-%COMP%]{font-weight:700}"]}),S})(),k=(()=>{var o;class S{}return(o=S).\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.$C({type:o}),o.\u0275inj=e.G2t({imports:[i.bv,T.MD,u.YN,p.h,R.Y,d.iI.forChild([{path:"",component:U}])]}),S})()}}]);