{"version":3,"file":"src_app_pages_dashboard_dashboard_module_ts.js","mappings":"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","sources":["./src/app/pages/dashboard/dashboard-routing.module.ts","./src/app/pages/dashboard/dashboard.module.ts","./src/app/pages/dashboard/dashboard.page.html","./src/app/pages/dashboard/dashboard.page.ts"],"sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport { DashboardPage } from './dashboard.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: DashboardPage\n  }\n];\n\n@NgModule({\n  imports: [\n    RouterModule.forChild(routes)\n  ],\n  exports: [RouterModule],\n})\nexport class DashboardPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { IonicModule } from '@ionic/angular';\nimport { DashboardPageRoutingModule } from './dashboard-routing.module';\nimport { DashboardPage } from './dashboard.page';\nimport { TranslateModule } from '@ngx-translate/core';\nimport { NgxChartsModule } from '@swimlane/ngx-charts';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    TranslateModule,\n    NgxChartsModule,\n    DashboardPageRoutingModule\n  ],\n  declarations: [DashboardPage]\n})\nexport class DashboardPageModule {}\n","<ion-header>\n  <ion-toolbar color=\"primary\">\n    <ion-title>\n      {{ 'Dashboard' | translate }}\n    </ion-title>\n  </ion-toolbar>\n</ion-header>\n\n<ion-content>\n\n  <ion-refresher slot=\"fixed\" (ionRefresh)=\"doRefresh($event)\">\n    <ion-refresher-content>\n    </ion-refresher-content>\n  </ion-refresher>\n\n  <ion-grid>\n    <ion-row>\n      <ion-col size=\"6\" size-md=\"3\">\n        <ion-card>\n          <ion-card-header>\n            <ion-card-subtitle>{{ '7 days' | translate }}</ion-card-subtitle>\n            <ion-card-title>{{ 'Hours' | translate }}</ion-card-title>\n          </ion-card-header>\n          <ion-card-content>\n            <h1 *ngIf=\"!loading\">{{ totalHoursLastWeek | number:'1.0-2' }}</h1>\n            <ion-skeleton-text animated *ngIf=\"loading\"></ion-skeleton-text>\n          </ion-card-content>\n        </ion-card>\n      </ion-col>\n      <ion-col size=\"6\" size-md=\"3\">\n        <ion-card>\n          <ion-card-header>\n            <ion-card-subtitle>{{ '7 days' | translate }}</ion-card-subtitle>\n            <ion-card-title>{{ 'Billable' | translate }}</ion-card-title>\n          </ion-card-header>\n          <ion-card-content>\n            <h1 *ngIf=\"!loading\">{{ chargeabilityLastWeek | number:'1.0-0' }}%</h1>\n            <ion-skeleton-text animated *ngIf=\"loading\"></ion-skeleton-text>\n          </ion-card-content>\n        </ion-card>\n      </ion-col>\n\n      <ion-col size=\"6\" size-md=\"3\">\n        <ion-card>\n          <ion-card-header>\n            <ion-card-subtitle>{{ '30 days' | translate }}</ion-card-subtitle>\n            <ion-card-title>{{ 'Hours' | translate }}</ion-card-title>\n          </ion-card-header>\n          <ion-card-content>\n            <h1 *ngIf=\"!loading\">{{ totalHoursLastMonth | number:'1.0-2' }}</h1>\n            <ion-skeleton-text animated *ngIf=\"loading\"></ion-skeleton-text>\n          </ion-card-content>\n        </ion-card>\n      </ion-col>\n      <ion-col size=\"6\" size-md=\"3\">\n        <ion-card>\n          <ion-card-header>\n            <ion-card-subtitle>{{ '30 days' | translate }}</ion-card-subtitle>\n            <ion-card-title>{{ 'Billable' | translate }}</ion-card-title>\n          </ion-card-header>\n          <ion-card-content>\n            <h1 *ngIf=\"!loading\">{{ chargeabilityLastMonth | number:'1.0-0' }}%</h1>\n            <ion-skeleton-text animated *ngIf=\"loading\"></ion-skeleton-text>\n          </ion-card-content>\n        </ion-card>\n      </ion-col>\n\n\n      <ion-col size=\"12\" size-md=\"6\" size-lg=\"3\">\n        <ion-card>\n          <ion-card-header>\n            <ion-card-title #width>{{ 'Hours by Project' | translate }}</ion-card-title>\n          </ion-card-header>\n          <ion-card-content>\n            <div id=\"pie-chart-parent\" *ngIf=\"view && data.length > 0\">\n              <ngx-charts-pie-chart [view]=\"view\" [scheme]=\"colorScheme\" [results]=\"data\" [gradient]=\"gradient\"\n                [legend]=\"showLegend\" [legendPosition]=\"legendPosition\" [labels]=\"showLabels\" [doughnut]=\"isDoughnut\">\n              </ngx-charts-pie-chart>\n            </div>\n            <h2 *ngIf=\"data.length === 0\">{{ 'No data available' | translate }}</h2>\n          </ion-card-content>\n        </ion-card>\n      </ion-col>\n\n      <ion-col size=\"12\" size-md=\"6\" size-lg=\"3\">\n        <ion-card>\n          <ion-card-header>\n            <ion-card-title #width>{{ 'missing-a-report' | translate }}</ion-card-title>\n          </ion-card-header>\n          <ion-card-content>\n            <ion-button expand=\"full\" onclick=\"window.open('https://feedback.bextrack.com', '_system', 'location=yes'); return false;\">{{ 'Provide Feedback' | translate }}</ion-button>\n          </ion-card-content>\n        </ion-card>\n      </ion-col>\n    </ion-row>\n  </ion-grid>\n\n</ion-content>","import { Component, ElementRef, ViewChild } from '@angular/core';\nimport { Timesheet } from 'src/app/models/timesheet';\nimport { ApiService } from 'src/app/services/api/api.service';\nimport { UtilsService } from 'src/app/services/utils/utils.service';\n\n@Component({\n  selector: 'app-dashboard',\n  templateUrl: './dashboard.page.html',\n  styleUrls: ['./dashboard.page.scss'],\n})\nexport class DashboardPage {\n\n  @ViewChild('width', { static: true }) \n  widthElement: ElementRef;\n\n  public view: any[] = null;\n\n  public timesheets: Timesheet[] = []\n  public timesheetsLastWeek: Timesheet[] = []\n  public timesheetsLastMonth: Timesheet[] = []\n\n  private lastWeek = new Date(Date.now() - 7 * 24 * 60 * 60 * 1000)\n  private lastMonth = new Date(Date.now() - 30 * 24 * 60 * 60 * 1000)\n\n  public totalHoursLastWeek = 0\n  public payedHoursLastWeek = 0\n  public chargeabilityLastWeek = 0\n\n  public totalHoursLastMonth = 0\n  public payedHoursLastMonth = 0\n  public chargeabilityLastMonth = 0\n\n  public data = [];\n\n  public loading = false\n\n  // options\n  gradient: boolean = false;\n  showLegend: boolean = true;\n  showLabels: boolean = false;\n  isDoughnut: boolean = false;\n  legendPosition: string = 'left';\n\n  colorScheme = {\n    domain: ['#093948', '#A2C003', '#0085BA', '#DCC521', '#DB7C00', '#C81919']\n  };\n\n  private projects: any = {}\n\n  constructor(\n    private apiService: ApiService,\n    private utils: UtilsService\n  ) {\n    this.doRefresh()\n    this.apiService.timesUpdated.subscribe(() => this.doRefresh())\n  }\n\n  ionViewDidEnter(): void {\n    let width = (this.widthElement as any).el.scrollWidth\n    this.view = [width, width]\n  }\n\n  public async doRefresh(event?: any, force = false) {\n    this.loading = true\n    this.data = []\n    setTimeout(() => {\n      this.calculateStatistics()\n      if (event) {\n        event.target.complete();\n      }\n      this.loading = false\n    }, 1000)\n  }\n\n  private async calculateStatistics() {\n    this.timesheets = await this.apiService.getMyTimesheets()\n\n    this.timesheetsLastWeek = this.timesheets.filter(timesheet => new Date(timesheet.date) >= this.lastWeek)\n    this.timesheetsLastMonth = this.timesheets.filter(timesheet => new Date(timesheet.date) >= this.lastMonth)\n\n    this.totalHoursLastWeek = this.timesheetsLastWeek.map(timesheet => this.utils.parseDuration(timesheet.duration)).reduce((a, b) => a + b, 0)\n    this.payedHoursLastWeek = this.timesheetsLastWeek.filter(timesheet => timesheet.allowable_bill).map(timesheet => this.utils.parseDuration(timesheet.duration)).reduce((a, b) => a + b, 0)\n    this.chargeabilityLastWeek = this.payedHoursLastWeek > 0 ? this.payedHoursLastWeek / this.totalHoursLastWeek * 100 : 0\n\n    this.totalHoursLastMonth = this.timesheetsLastMonth.map(timesheet => this.utils.parseDuration(timesheet.duration)).reduce((a, b) => a + b, 0)\n    this.payedHoursLastMonth = this.timesheetsLastMonth.filter(timesheet => timesheet.allowable_bill).map(timesheet => this.utils.parseDuration(timesheet.duration)).reduce((a, b) => a + b, 0)\n    this.chargeabilityLastMonth = this.payedHoursLastMonth > 0 ? this.payedHoursLastMonth / this.totalHoursLastMonth * 100 : 0\n    \n    for (var i = 0; i < this.timesheetsLastMonth.length; i++) {\n      let timesheet = this.timesheetsLastMonth[i]\n      if (timesheet.project) {\n        if (timesheet.project.name in this.projects) {\n          this.projects[timesheet.project.name] += this.utils.parseDuration(timesheet.duration)\n        } else {\n          this.projects[timesheet.project.name] = this.utils.parseDuration(timesheet.duration)\n        }\n      } else {\n        if ('Unknown' in this.projects) {\n          this.projects['Unknown'] += this.utils.parseDuration(timesheet.duration)\n        } else {\n          this.projects['Unknown'] = this.utils.parseDuration(timesheet.duration)\n        }\n      }\n    }\n\n    let data = []\n    for (const [key, value] of Object.entries(this.projects)) {\n      data.push({\n        \"name\": key,\n        \"value\": value\n      })\n    }\n    this.data = data\n  }\n\n}\n"],"names":["RouterModule","DashboardPage","routes","path","component","DashboardPageRoutingModule","forChild","imports","exports","CommonModule","FormsModule","IonicModule","TranslateModule","NgxChartsModule","DashboardPageModule","declarations","i0","constructor","apiService","utils","Date","now","domain","doRefresh","timesUpdated","subscribe","ionViewDidEnter","width","widthElement","el","scrollWidth","view","event","force","_this","loading","data","setTimeout","calculateStatistics","target","complete","_this2","timesheets","getMyTimesheets","timesheetsLastWeek","filter","timesheet","date","lastWeek","timesheetsLastMonth","lastMonth","totalHoursLastWeek","map","parseDuration","duration","reduce","a","b","payedHoursLastWeek","allowable_bill","chargeabilityLastWeek","totalHoursLastMonth","payedHoursLastMonth","chargeabilityLastMonth","i","length","project","name","projects","key","value","Object","entries","push","selectors","viewQuery","ctx"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}