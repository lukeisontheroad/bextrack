!function(){function e(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],a=!0,i=!1,r=void 0;try{for(var o,l=e[Symbol.iterator]();!(a=(o=l.next()).done)&&(n.push(o.value),!t||n.length!==t);a=!0);}catch(s){i=!0,r=s}finally{try{a||null==l.return||l.return()}finally{if(i)throw r}}return n}(e,n)||function(e,n){if(!e)return;if("string"==typeof e)return t(e,n);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return t(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{"/2RN":function(t,i,r){"use strict";r.r(i),r.d(i,"DashboardPageModule",(function(){return H}));var o=r("ofXK"),l=r("3Pt+"),s=r("TEn/"),d=r("tyNb"),c=r("mrSG"),p=r("fXoL"),u=r("oZWX"),h=r("HPR3"),m=r("zQsl"),f=r("sYmb"),g=["width"];function v(e,t){if(1&e&&(p["\u0275\u0275elementStart"](0,"h1"),p["\u0275\u0275text"](1),p["\u0275\u0275pipe"](2,"number"),p["\u0275\u0275elementEnd"]()),2&e){var n=p["\u0275\u0275nextContext"]();p["\u0275\u0275advance"](1),p["\u0275\u0275textInterpolate"](p["\u0275\u0275pipeBind2"](2,1,n.totalHoursLastWeek,"1.0-2"))}}function x(e,t){1&e&&p["\u0275\u0275element"](0,"ion-skeleton-text",9)}function y(e,t){if(1&e&&(p["\u0275\u0275elementStart"](0,"h1"),p["\u0275\u0275text"](1),p["\u0275\u0275pipe"](2,"number"),p["\u0275\u0275elementEnd"]()),2&e){var n=p["\u0275\u0275nextContext"]();p["\u0275\u0275advance"](1),p["\u0275\u0275textInterpolate1"]("",p["\u0275\u0275pipeBind2"](2,1,n.chargeabilityLastWeek,"1.0-0"),"%")}}function b(e,t){1&e&&p["\u0275\u0275element"](0,"ion-skeleton-text",9)}function S(e,t){if(1&e&&(p["\u0275\u0275elementStart"](0,"h1"),p["\u0275\u0275text"](1),p["\u0275\u0275pipe"](2,"number"),p["\u0275\u0275elementEnd"]()),2&e){var n=p["\u0275\u0275nextContext"]();p["\u0275\u0275advance"](1),p["\u0275\u0275textInterpolate"](p["\u0275\u0275pipeBind2"](2,1,n.totalHoursLastMonth,"1.0-2"))}}function w(e,t){1&e&&p["\u0275\u0275element"](0,"ion-skeleton-text",9)}function I(e,t){if(1&e&&(p["\u0275\u0275elementStart"](0,"h1"),p["\u0275\u0275text"](1),p["\u0275\u0275pipe"](2,"number"),p["\u0275\u0275elementEnd"]()),2&e){var n=p["\u0275\u0275nextContext"]();p["\u0275\u0275advance"](1),p["\u0275\u0275textInterpolate1"]("",p["\u0275\u0275pipeBind2"](2,1,n.chargeabilityLastMonth,"1.0-0"),"%")}}function E(e,t){1&e&&p["\u0275\u0275element"](0,"ion-skeleton-text",9)}function k(e,t){if(1&e&&(p["\u0275\u0275elementStart"](0,"div",10),p["\u0275\u0275element"](1,"ngx-charts-pie-chart",11),p["\u0275\u0275elementEnd"]()),2&e){var n=p["\u0275\u0275nextContext"]();p["\u0275\u0275advance"](1),p["\u0275\u0275property"]("view",n.view)("scheme",n.colorScheme)("results",n.data)("gradient",n.gradient)("legend",n.showLegend)("legendPosition",n.legendPosition)("labels",n.showLabels)("doughnut",n.isDoughnut)}}function L(e,t){1&e&&(p["\u0275\u0275elementStart"](0,"h2"),p["\u0275\u0275text"](1),p["\u0275\u0275pipe"](2,"translate"),p["\u0275\u0275elementEnd"]()),2&e&&(p["\u0275\u0275advance"](1),p["\u0275\u0275textInterpolate"](p["\u0275\u0275pipeBind1"](2,1,"No data available")))}var M,C,j,B=[{path:"",component:(M=function(){function t(e,a){var i=this;n(this,t),this.apiService=e,this.utils=a,this.view=null,this.timesheets=[],this.timesheetsLastWeek=[],this.timesheetsLastMonth=[],this.lastWeek=new Date(Date.now()-6048e5),this.lastMonth=new Date(Date.now()-2592e6),this.totalHoursLastWeek=0,this.payedHoursLastWeek=0,this.chargeabilityLastWeek=0,this.totalHoursLastMonth=0,this.payedHoursLastMonth=0,this.chargeabilityLastMonth=0,this.data=[],this.loading=!1,this.gradient=!1,this.showLegend=!0,this.showLabels=!1,this.isDoughnut=!1,this.legendPosition="left",this.colorScheme={domain:["#093948","#A2C003","#0085BA","#DCC521","#DB7C00","#C81919"]},this.projects={},this.doRefresh(),this.apiService.timesUpdated.subscribe((function(){return i.doRefresh()}))}var i,r,o;return i=t,(r=[{key:"ionViewDidEnter",value:function(){var e=this.widthElement.el.scrollWidth;this.view=[e,e]}},{key:"doRefresh",value:function(e){return Object(c.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var n=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.loading=!0,this.data=[],setTimeout((function(){n.calculateStatistics(),e&&e.target.complete(),n.loading=!1}),1e3);case 1:case"end":return t.stop()}}),t,this)})))}},{key:"calculateStatistics",value:function(){return Object(c.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var n,a,i,r,o,l,s,d,c=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.apiService.getMyTimesheets();case 2:for(this.timesheets=t.sent,this.timesheetsLastWeek=this.timesheets.filter((function(e){return new Date(e.date)>=c.lastWeek})),this.timesheetsLastMonth=this.timesheets.filter((function(e){return new Date(e.date)>=c.lastMonth})),this.totalHoursLastWeek=this.timesheetsLastWeek.map((function(e){return c.utils.parseDuration(e.duration)})).reduce((function(e,t){return e+t}),0),this.payedHoursLastWeek=this.timesheetsLastWeek.filter((function(e){return e.allowable_bill})).map((function(e){return c.utils.parseDuration(e.duration)})).reduce((function(e,t){return e+t}),0),this.chargeabilityLastWeek=this.payedHoursLastWeek>0?this.payedHoursLastWeek/this.totalHoursLastWeek*100:0,this.totalHoursLastMonth=this.timesheetsLastMonth.map((function(e){return c.utils.parseDuration(e.duration)})).reduce((function(e,t){return e+t}),0),this.payedHoursLastMonth=this.timesheetsLastMonth.filter((function(e){return e.allowable_bill})).map((function(e){return c.utils.parseDuration(e.duration)})).reduce((function(e,t){return e+t}),0),this.chargeabilityLastMonth=this.payedHoursLastMonth>0?this.payedHoursLastMonth/this.totalHoursLastMonth*100:0,n=0;n<this.timesheetsLastMonth.length;n++)(a=this.timesheetsLastMonth[n]).project?a.project.name in this.projects?this.projects[a.project.name]+=this.utils.parseDuration(a.duration):this.projects[a.project.name]=this.utils.parseDuration(a.duration):"Unknown"in this.projects?this.projects.Unknown+=this.utils.parseDuration(a.duration):this.projects.Unknown=this.utils.parseDuration(a.duration);for(i=[],r=0,o=Object.entries(this.projects);r<o.length;r++)l=e(o[r],2),s=l[0],d=l[1],i.push({name:s,value:d});this.data=i;case 15:case"end":return t.stop()}}),t,this)})))}}])&&a(i.prototype,r),o&&a(i,o),t}(),M.\u0275fac=function(e){return new(e||M)(p["\u0275\u0275directiveInject"](u.a),p["\u0275\u0275directiveInject"](h.a))},M.\u0275cmp=p["\u0275\u0275defineComponent"]({type:M,selectors:[["app-dashboard"]],viewQuery:function(e,t){var n;1&e&&p["\u0275\u0275staticViewQuery"](g,!0),2&e&&p["\u0275\u0275queryRefresh"](n=p["\u0275\u0275loadQuery"]())&&(t.widthElement=n.first)},decls:79,vars:46,consts:[["color","primary"],["slot","fixed",3,"ionRefresh"],["size","6","size-md","3"],[4,"ngIf"],["animated","",4,"ngIf"],["size","12","size-md","6","size-lg","3"],["width",""],["id","pie-chart-parent",4,"ngIf"],["expand","full","onclick","window.open('https://feedback.bextrack.com', '_system', 'location=yes'); return false;"],["animated",""],["id","pie-chart-parent"],[3,"view","scheme","results","gradient","legend","legendPosition","labels","doughnut"]],template:function(e,t){1&e&&(p["\u0275\u0275elementStart"](0,"ion-header"),p["\u0275\u0275elementStart"](1,"ion-toolbar",0),p["\u0275\u0275elementStart"](2,"ion-title"),p["\u0275\u0275text"](3),p["\u0275\u0275pipe"](4,"translate"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](5,"ion-content"),p["\u0275\u0275elementStart"](6,"ion-refresher",1),p["\u0275\u0275listener"]("ionRefresh",(function(e){return t.doRefresh(e)})),p["\u0275\u0275element"](7,"ion-refresher-content"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](8,"ion-grid"),p["\u0275\u0275elementStart"](9,"ion-row"),p["\u0275\u0275elementStart"](10,"ion-col",2),p["\u0275\u0275elementStart"](11,"ion-card"),p["\u0275\u0275elementStart"](12,"ion-card-header"),p["\u0275\u0275elementStart"](13,"ion-card-subtitle"),p["\u0275\u0275text"](14),p["\u0275\u0275pipe"](15,"translate"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](16,"ion-card-title"),p["\u0275\u0275text"](17),p["\u0275\u0275pipe"](18,"translate"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](19,"ion-card-content"),p["\u0275\u0275template"](20,v,3,4,"h1",3),p["\u0275\u0275template"](21,x,1,0,"ion-skeleton-text",4),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](22,"ion-col",2),p["\u0275\u0275elementStart"](23,"ion-card"),p["\u0275\u0275elementStart"](24,"ion-card-header"),p["\u0275\u0275elementStart"](25,"ion-card-subtitle"),p["\u0275\u0275text"](26),p["\u0275\u0275pipe"](27,"translate"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](28,"ion-card-title"),p["\u0275\u0275text"](29),p["\u0275\u0275pipe"](30,"translate"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](31,"ion-card-content"),p["\u0275\u0275template"](32,y,3,4,"h1",3),p["\u0275\u0275template"](33,b,1,0,"ion-skeleton-text",4),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](34,"ion-col",2),p["\u0275\u0275elementStart"](35,"ion-card"),p["\u0275\u0275elementStart"](36,"ion-card-header"),p["\u0275\u0275elementStart"](37,"ion-card-subtitle"),p["\u0275\u0275text"](38),p["\u0275\u0275pipe"](39,"translate"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](40,"ion-card-title"),p["\u0275\u0275text"](41),p["\u0275\u0275pipe"](42,"translate"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](43,"ion-card-content"),p["\u0275\u0275template"](44,S,3,4,"h1",3),p["\u0275\u0275template"](45,w,1,0,"ion-skeleton-text",4),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](46,"ion-col",2),p["\u0275\u0275elementStart"](47,"ion-card"),p["\u0275\u0275elementStart"](48,"ion-card-header"),p["\u0275\u0275elementStart"](49,"ion-card-subtitle"),p["\u0275\u0275text"](50),p["\u0275\u0275pipe"](51,"translate"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](52,"ion-card-title"),p["\u0275\u0275text"](53),p["\u0275\u0275pipe"](54,"translate"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](55,"ion-card-content"),p["\u0275\u0275template"](56,I,3,4,"h1",3),p["\u0275\u0275template"](57,E,1,0,"ion-skeleton-text",4),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](58,"ion-col",5),p["\u0275\u0275elementStart"](59,"ion-card"),p["\u0275\u0275elementStart"](60,"ion-card-header"),p["\u0275\u0275elementStart"](61,"ion-card-title",null,6),p["\u0275\u0275text"](63),p["\u0275\u0275pipe"](64,"translate"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](65,"ion-card-content"),p["\u0275\u0275template"](66,k,2,8,"div",7),p["\u0275\u0275template"](67,L,3,3,"h2",3),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](68,"ion-col",5),p["\u0275\u0275elementStart"](69,"ion-card"),p["\u0275\u0275elementStart"](70,"ion-card-header"),p["\u0275\u0275elementStart"](71,"ion-card-title",null,6),p["\u0275\u0275text"](73),p["\u0275\u0275pipe"](74,"translate"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](75,"ion-card-content"),p["\u0275\u0275elementStart"](76,"ion-button",8),p["\u0275\u0275text"](77),p["\u0275\u0275pipe"](78,"translate"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"]()),2&e&&(p["\u0275\u0275advance"](3),p["\u0275\u0275textInterpolate1"](" ",p["\u0275\u0275pipeBind1"](4,22,"Dashboard")," "),p["\u0275\u0275advance"](11),p["\u0275\u0275textInterpolate"](p["\u0275\u0275pipeBind1"](15,24,"7 days")),p["\u0275\u0275advance"](3),p["\u0275\u0275textInterpolate"](p["\u0275\u0275pipeBind1"](18,26,"Hours")),p["\u0275\u0275advance"](3),p["\u0275\u0275property"]("ngIf",!t.loading),p["\u0275\u0275advance"](1),p["\u0275\u0275property"]("ngIf",t.loading),p["\u0275\u0275advance"](5),p["\u0275\u0275textInterpolate"](p["\u0275\u0275pipeBind1"](27,28,"7 days")),p["\u0275\u0275advance"](3),p["\u0275\u0275textInterpolate"](p["\u0275\u0275pipeBind1"](30,30,"Billable")),p["\u0275\u0275advance"](3),p["\u0275\u0275property"]("ngIf",!t.loading),p["\u0275\u0275advance"](1),p["\u0275\u0275property"]("ngIf",t.loading),p["\u0275\u0275advance"](5),p["\u0275\u0275textInterpolate"](p["\u0275\u0275pipeBind1"](39,32,"30 days")),p["\u0275\u0275advance"](3),p["\u0275\u0275textInterpolate"](p["\u0275\u0275pipeBind1"](42,34,"Hours")),p["\u0275\u0275advance"](3),p["\u0275\u0275property"]("ngIf",!t.loading),p["\u0275\u0275advance"](1),p["\u0275\u0275property"]("ngIf",t.loading),p["\u0275\u0275advance"](5),p["\u0275\u0275textInterpolate"](p["\u0275\u0275pipeBind1"](51,36,"30 days")),p["\u0275\u0275advance"](3),p["\u0275\u0275textInterpolate"](p["\u0275\u0275pipeBind1"](54,38,"Billable")),p["\u0275\u0275advance"](3),p["\u0275\u0275property"]("ngIf",!t.loading),p["\u0275\u0275advance"](1),p["\u0275\u0275property"]("ngIf",t.loading),p["\u0275\u0275advance"](6),p["\u0275\u0275textInterpolate"](p["\u0275\u0275pipeBind1"](64,40,"Hours by Project")),p["\u0275\u0275advance"](3),p["\u0275\u0275property"]("ngIf",t.view&&t.data.length>0),p["\u0275\u0275advance"](1),p["\u0275\u0275property"]("ngIf",0===t.data.length),p["\u0275\u0275advance"](6),p["\u0275\u0275textInterpolate"](p["\u0275\u0275pipeBind1"](74,42,"missing-a-report")),p["\u0275\u0275advance"](4),p["\u0275\u0275textInterpolate"](p["\u0275\u0275pipeBind1"](78,44,"Provide Feedback")))},directives:[s.IonHeader,s.IonToolbar,s.IonTitle,s.IonContent,s.IonRefresher,s.IonRefresherContent,s.IonGrid,s.IonRow,s.IonCol,s.IonCard,s.IonCardHeader,s.IonCardSubtitle,s.IonCardTitle,s.IonCardContent,o.NgIf,s.IonButton,s.IonSkeletonText,m.b],pipes:[f.c,o.DecimalPipe],styles:["h1[_ngcontent-%COMP%]{text-align:center;font-size:xx-large;color:#000;font-weight:700}#pie-chart-parent[_ngcontent-%COMP%]{display:grid;min-height:400px}@media (min-width:820px){ion-grid[_ngcontent-%COMP%]{flex-direction:row-reverse}}ion-skeleton-text[_ngcontent-%COMP%]{width:50px;height:25px;margin:auto}ion-content[_ngcontent-%COMP%]{--padding-bottom:0;--padding-end:0;--padding-start:0;--padding-top:0}ion-card-title[_ngcontent-%COMP%]{font-size:24px;min-height:62px}"]}),M)}],D=((j=function e(){n(this,e)}).\u0275mod=p["\u0275\u0275defineNgModule"]({type:j}),j.\u0275inj=p["\u0275\u0275defineInjector"]({factory:function(e){return new(e||j)},imports:[[d.i.forChild(B)],d.i]}),j),H=((C=function e(){n(this,e)}).\u0275mod=p["\u0275\u0275defineNgModule"]({type:C}),C.\u0275inj=p["\u0275\u0275defineInjector"]({factory:function(e){return new(e||C)},imports:[[o.CommonModule,l.FormsModule,s.IonicModule,f.b,m.a,D]]}),C)}}])}();