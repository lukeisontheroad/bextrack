"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[7275],{7275:(Ct,$,h)=>{h.r($),h.d($,{ContactsPageModule:()=>St});var r=h(6996);function D(i,n=0){return function de(i){return!isNaN(parseFloat(i))&&!isNaN(Number(i))}(i)?Number(i):n}var g=h(1413),I=h(7673),x=h(1985),W=h(3726),G=h(6780),X=h(8359);const y={schedule(i){let n=requestAnimationFrame,e=cancelAnimationFrame;const{delegate:t}=y;t&&(n=t.requestAnimationFrame,e=t.cancelAnimationFrame);const s=n(o=>{e=void 0,i(o)});return new X.yU(()=>null==e?void 0:e(s))},requestAnimationFrame(...i){const{delegate:n}=y;return((null==n?void 0:n.requestAnimationFrame)||requestAnimationFrame)(...i)},cancelAnimationFrame(...i){const{delegate:n}=y;return((null==n?void 0:n.cancelAnimationFrame)||cancelAnimationFrame)(...i)},delegate:void 0};var K=h(9687);const pe=new class fe extends K.q{flush(n){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:t}=this;let s;n=n||t.shift();do{if(s=n.execute(n.state,n.delay))break}while((n=t[0])&&n.id===e&&t.shift());if(this._active=!1,s){for(;(n=t[0])&&n.id===e&&t.shift();)n.unsubscribe();throw s}}}(class ue extends G.R{constructor(n,e){super(n,e),this.scheduler=n,this.work=e}requestAsyncId(n,e,t=0){return null!==t&&t>0?super.requestAsyncId(n,e,t):(n.actions.push(this),n._scheduled||(n._scheduled=y.requestAnimationFrame(()=>n.flush(void 0))))}recycleAsyncId(n,e,t=0){var s;if(null!=t?t>0:this.delay>0)return super.recycleAsyncId(n,e,t);const{actions:o}=n;null!=e&&(null===(s=o[o.length-1])||void 0===s?void 0:s.id)!==e&&(y.cancelAnimationFrame(e),n._scheduled=void 0)}});let A,me=1;const k={};function H(i){return i in k&&(delete k[i],!0)}const ge={setImmediate(i){const n=me++;return k[n]=!0,A||(A=Promise.resolve()),A.then(()=>H(n)&&i()),n},clearImmediate(i){H(i)}},{setImmediate:_e,clearImmediate:ve}=ge,V={setImmediate(...i){const{delegate:n}=V;return((null==n?void 0:n.setImmediate)||_e)(...i)},clearImmediate(i){const{delegate:n}=V;return((null==n?void 0:n.clearImmediate)||ve)(i)},delegate:void 0},we=new class Ce extends K.q{flush(n){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:t}=this;let s;n=n||t.shift();do{if(s=n.execute(n.state,n.delay))break}while((n=t[0])&&n.id===e&&t.shift());if(this._active=!1,s){for(;(n=t[0])&&n.id===e&&t.shift();)n.unsubscribe();throw s}}}(class Se extends G.R{constructor(n,e){super(n,e),this.scheduler=n,this.work=e}requestAsyncId(n,e,t=0){return null!==t&&t>0?super.requestAsyncId(n,e,t):(n.actions.push(this),n._scheduled||(n._scheduled=V.setImmediate(n.flush.bind(n,void 0))))}recycleAsyncId(n,e,t=0){var s;if(null!=t?t>0:this.delay>0)return super.recycleAsyncId(n,e,t);const{actions:o}=n;null!=e&&(null===(s=o[o.length-1])||void 0===s?void 0:s.id)!==e&&(V.clearImmediate(e),n._scheduled===e&&(n._scheduled=void 0))}});var Y=h(4402),ye=h(3294),Z=h(3236),Q=h(9974),Re=h(8750),O=h(4360),Ee=h(9470);function z(i,n=Z.E){return function be(i){return(0,Q.N)((n,e)=>{let t=!1,s=null,o=null,l=!1;const d=()=>{if(null==o||o.unsubscribe(),o=null,t){t=!1;const c=s;s=null,e.next(c)}l&&e.complete()},a=()=>{o=null,l&&e.complete()};n.subscribe((0,O._)(e,c=>{t=!0,s=c,o||(0,Re.Tg)(i(c)).subscribe(o=(0,O._)(e,d,a))},()=>{l=!0,(!t||!o||o.closed)&&e.complete()}))})}(()=>function xe(i=0,n,e=Z.b){let t=-1;return null!=n&&((0,Ee.m)(n)?e=n:t=n),new x.c(s=>{let o=function De(i){return i instanceof Date&&!isNaN(i)}(i)?+i-e.now():i;o<0&&(o=0);let l=0;return e.schedule(function(){s.closed||(s.next(l++),0<=t?this.schedule(void 0,t):s.complete())},o)})}(i,n))}var ke=h(5964),M=h(6977),J=h(9172),Fe=h(5558),Te=h(4668),S=h(177);let B;try{B=typeof Intl<"u"&&Intl.v8BreakIterator}catch{B=!1}let F,C,P=(()=>{class i{constructor(e){this._platformId=e,this.isBrowser=this._platformId?(0,S.UE)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!B)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return i.\u0275fac=function(e){return new(e||i)(r.KVO(r.Agw))},i.\u0275prov=r.jDH({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function b(){if("object"!=typeof document||!document)return 0;if(null==F){const i=document.createElement("div"),n=i.style;i.dir="rtl",n.width="1px",n.overflow="auto",n.visibility="hidden",n.pointerEvents="none",n.position="absolute";const e=document.createElement("div"),t=e.style;t.width="2px",t.height="1px",i.appendChild(e),document.body.appendChild(i),F=0,0===i.scrollLeft&&(i.scrollLeft=1,F=0===i.scrollLeft?1:2),i.remove()}return F}const ze=new r.nKC("cdk-dir-doc",{providedIn:"root",factory:function Me(){return(0,r.WQX)(S.qQ)}}),Be=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let N=(()=>{class i{constructor(e){this.value="ltr",this.change=new r.bkB,e&&(this.value=function Pe(i){var n;const e=(null==i?void 0:i.toLowerCase())||"";return"auto"===e&&typeof navigator<"u"&&null!==(n=navigator)&&void 0!==n&&n.language?Be.test(navigator.language)?"rtl":"ltr":"rtl"===e?"rtl":"ltr"}((e.body?e.body.dir:null)||(e.documentElement?e.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}}return i.\u0275fac=function(e){return new(e||i)(r.KVO(ze,8))},i.\u0275prov=r.jDH({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),ee=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=r.$C({type:i}),i.\u0275inj=r.G2t({}),i})();var Le=h(17);class Ne{}class je extends Ne{constructor(n){super(),this._data=n}connect(){return(0,Y.A)(this._data)?this._data:(0,I.of)(this._data)}disconnect(){}}class $e{constructor(){this.viewCacheSize=20,this._viewCache=[]}applyChanges(n,e,t,s,o){n.forEachOperation((l,d,a)=>{let c,f;var u;null==l.previousIndex?(c=this._insertView(()=>t(l,d,a),a,e,s(l)),f=c?1:0):null==a?(this._detachAndCacheView(d,e),f=3):(c=this._moveView(d,a,e,s(l)),f=2),o&&o({context:null===(u=c)||void 0===u?void 0:u.context,operation:f,record:l})})}detach(){for(const n of this._viewCache)n.destroy();this._viewCache=[]}_insertView(n,e,t,s){const o=this._insertViewFromCache(e,t);if(o)return void(o.context.$implicit=s);const l=n();return t.createEmbeddedView(l.templateRef,l.context,l.index)}_detachAndCacheView(n,e){const t=e.detach(n);this._maybeCacheView(t,e)}_moveView(n,e,t,s){const o=t.get(n);return t.move(o,e),o.context.$implicit=s,o}_maybeCacheView(n,e){if(this._viewCache.length<this.viewCacheSize)this._viewCache.push(n);else{const t=e.indexOf(n);-1===t?n.destroy():e.remove(t)}}_insertViewFromCache(n,e){const t=this._viewCache.pop();return t&&e.insert(t,n),t||null}}const te=new r.nKC("_ViewRepeater"),We=["contentWrapper"],Ge=["*"],ie=new r.nKC("VIRTUAL_SCROLL_STRATEGY");class Xe{constructor(n,e,t){this._scrolledIndexChange=new g.B,this.scrolledIndexChange=this._scrolledIndexChange.pipe((0,ye.F)()),this._viewport=null,this._itemSize=n,this._minBufferPx=e,this._maxBufferPx=t}attach(n){this._viewport=n,this._updateTotalContentSize(),this._updateRenderedRange()}detach(){this._scrolledIndexChange.complete(),this._viewport=null}updateItemAndBufferSize(n,e,t){this._itemSize=n,this._minBufferPx=e,this._maxBufferPx=t,this._updateTotalContentSize(),this._updateRenderedRange()}onContentScrolled(){this._updateRenderedRange()}onDataLengthChanged(){this._updateTotalContentSize(),this._updateRenderedRange()}onContentRendered(){}onRenderedOffsetChanged(){}scrollToIndex(n,e){this._viewport&&this._viewport.scrollToOffset(n*this._itemSize,e)}_updateTotalContentSize(){this._viewport&&this._viewport.setTotalContentSize(this._viewport.getDataLength()*this._itemSize)}_updateRenderedRange(){if(!this._viewport)return;const n=this._viewport.getRenderedRange(),e={start:n.start,end:n.end},t=this._viewport.getViewportSize(),s=this._viewport.getDataLength();let o=this._viewport.measureScrollOffset(),l=this._itemSize>0?o/this._itemSize:0;if(e.end>s){const a=Math.ceil(t/this._itemSize),c=Math.max(0,Math.min(l,s-a));l!=c&&(l=c,o=c*this._itemSize,e.start=Math.floor(l)),e.end=Math.max(0,Math.min(s,e.start+a))}const d=o-e.start*this._itemSize;if(d<this._minBufferPx&&0!=e.start){const a=Math.ceil((this._maxBufferPx-d)/this._itemSize);e.start=Math.max(0,e.start-a),e.end=Math.min(s,Math.ceil(l+(t+this._minBufferPx)/this._itemSize))}else{const a=e.end*this._itemSize-(o+t);if(a<this._minBufferPx&&e.end!=s){const c=Math.ceil((this._maxBufferPx-a)/this._itemSize);c>0&&(e.end=Math.min(s,e.end+c),e.start=Math.max(0,Math.floor(l-this._minBufferPx/this._itemSize)))}}this._viewport.setRenderedRange(e),this._viewport.setRenderedContentOffset(this._itemSize*e.start),this._scrolledIndexChange.next(Math.floor(l))}}function Ke(i){return i._scrollStrategy}let He=(()=>{class i{constructor(){this._itemSize=20,this._minBufferPx=100,this._maxBufferPx=200,this._scrollStrategy=new Xe(this.itemSize,this.minBufferPx,this.maxBufferPx)}get itemSize(){return this._itemSize}set itemSize(e){this._itemSize=D(e)}get minBufferPx(){return this._minBufferPx}set minBufferPx(e){this._minBufferPx=D(e)}get maxBufferPx(){return this._maxBufferPx}set maxBufferPx(e){this._maxBufferPx=D(e)}ngOnChanges(){this._scrollStrategy.updateItemAndBufferSize(this.itemSize,this.minBufferPx,this.maxBufferPx)}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275dir=r.FsC({type:i,selectors:[["cdk-virtual-scroll-viewport","itemSize",""]],inputs:{itemSize:"itemSize",minBufferPx:"minBufferPx",maxBufferPx:"maxBufferPx"},standalone:!0,features:[r.Jv_([{provide:ie,useFactory:Ke,deps:[(0,r.Rfq)(()=>i)]}]),r.OA$]}),i})(),U=(()=>{class i{constructor(e,t,s){this._ngZone=e,this._platform=t,this._scrolled=new g.B,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=s}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const t=this.scrollContainers.get(e);t&&(t.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new x.c(t=>{this._globalSubscription||this._addGlobalListener();const s=e>0?this._scrolled.pipe(z(e)).subscribe(t):this._scrolled.subscribe(t);return this._scrolledCount++,()=>{s.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,I.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,t)=>this.deregister(t)),this._scrolled.complete()}ancestorScrolled(e,t){const s=this.getAncestorScrollContainers(e);return this.scrolled(t).pipe((0,ke.p)(o=>!o||s.indexOf(o)>-1))}getAncestorScrollContainers(e){const t=[];return this.scrollContainers.forEach((s,o)=>{this._scrollableContainsElement(o,e)&&t.push(o)}),t}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,t){let s=function he(i){return i instanceof r.aKT?i.nativeElement:i}(t),o=e.getElementRef().nativeElement;do{if(s==o)return!0}while(s=s.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{const e=this._getWindow();return(0,W.R)(e.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return i.\u0275fac=function(e){return new(e||i)(r.KVO(r.SKi),r.KVO(P),r.KVO(S.qQ,8))},i.\u0275prov=r.jDH({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),ne=(()=>{class i{constructor(e,t,s,o){this.elementRef=e,this.scrollDispatcher=t,this.ngZone=s,this.dir=o,this._destroyed=new g.B,this._elementScrolled=new x.c(l=>this.ngZone.runOutsideAngular(()=>(0,W.R)(this.elementRef.nativeElement,"scroll").pipe((0,M.Q)(this._destroyed)).subscribe(l)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(e){const t=this.elementRef.nativeElement,s=this.dir&&"rtl"==this.dir.value;null==e.left&&(e.left=s?e.end:e.start),null==e.right&&(e.right=s?e.start:e.end),null!=e.bottom&&(e.top=t.scrollHeight-t.clientHeight-e.bottom),s&&0!=b()?(null!=e.left&&(e.right=t.scrollWidth-t.clientWidth-e.left),2==b()?e.left=e.right:1==b()&&(e.left=e.right?-e.right:e.right)):null!=e.right&&(e.left=t.scrollWidth-t.clientWidth-e.right),this._applyScrollToOptions(e)}_applyScrollToOptions(e){const t=this.elementRef.nativeElement;!function Ae(){if(null==C){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return C=!1,C;if("scrollBehavior"in document.documentElement.style)C=!0;else{const i=Element.prototype.scrollTo;C=!!i&&!/\{\s*\[native code\]\s*\}/.test(i.toString())}}return C}()?(null!=e.top&&(t.scrollTop=e.top),null!=e.left&&(t.scrollLeft=e.left)):t.scrollTo(e)}measureScrollOffset(e){const t="left",s="right",o=this.elementRef.nativeElement;if("top"==e)return o.scrollTop;if("bottom"==e)return o.scrollHeight-o.clientHeight-o.scrollTop;const l=this.dir&&"rtl"==this.dir.value;return"start"==e?e=l?s:t:"end"==e&&(e=l?t:s),l&&2==b()?e==t?o.scrollWidth-o.clientWidth-o.scrollLeft:o.scrollLeft:l&&1==b()?e==t?o.scrollLeft+o.scrollWidth-o.clientWidth:-o.scrollLeft:e==t?o.scrollLeft:o.scrollWidth-o.clientWidth-o.scrollLeft}}return i.\u0275fac=function(e){return new(e||i)(r.rXU(r.aKT),r.rXU(U),r.rXU(r.SKi),r.rXU(N,8))},i.\u0275dir=r.FsC({type:i,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]],standalone:!0}),i})(),Qe=(()=>{class i{constructor(e,t,s){this._platform=e,this._change=new g.B,this._changeListener=o=>{this._change.next(o)},this._document=s,t.runOutsideAngular(()=>{if(e.isBrowser){const o=this._getWindow();o.addEventListener("resize",this._changeListener),o.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:t,height:s}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+s,right:e.left+t,height:s,width:t}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,t=this._getWindow(),s=e.documentElement,o=s.getBoundingClientRect();return{top:-o.top||e.body.scrollTop||t.scrollY||s.scrollTop||0,left:-o.left||e.body.scrollLeft||t.scrollX||s.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(z(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}}return i.\u0275fac=function(e){return new(e||i)(r.KVO(P),r.KVO(r.SKi),r.KVO(S.qQ,8))},i.\u0275prov=r.jDH({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const re=new r.nKC("VIRTUAL_SCROLLABLE");let Je=(()=>{class i extends ne{constructor(e,t,s,o){super(e,t,s,o)}measureViewportSize(e){const t=this.elementRef.nativeElement;return"horizontal"===e?t.clientWidth:t.clientHeight}}return i.\u0275fac=function(e){return new(e||i)(r.rXU(r.aKT),r.rXU(U),r.rXU(r.SKi),r.rXU(N,8))},i.\u0275dir=r.FsC({type:i,features:[r.Vt3]}),i})();const et=typeof requestAnimationFrame<"u"?pe:we;let j=(()=>{class i extends Je{constructor(e,t,s,o,l,d,a,c){super(e,d,s,l),this.elementRef=e,this._changeDetectorRef=t,this._scrollStrategy=o,this.scrollable=c,this._platform=(0,r.WQX)(P),this._detachedSubject=new g.B,this._renderedRangeSubject=new g.B,this._orientation="vertical",this._appendOnly=!1,this.scrolledIndexChange=new x.c(f=>this._scrollStrategy.scrolledIndexChange.subscribe(u=>Promise.resolve().then(()=>this.ngZone.run(()=>f.next(u))))),this.renderedRangeStream=this._renderedRangeSubject,this._totalContentSize=0,this._totalContentWidth="",this._totalContentHeight="",this._renderedRange={start:0,end:0},this._dataLength=0,this._viewportSize=0,this._renderedContentOffset=0,this._renderedContentOffsetNeedsRewrite=!1,this._isChangeDetectionPending=!1,this._runAfterChangeDetection=[],this._viewportChanges=X.yU.EMPTY,this._viewportChanges=a.change().subscribe(()=>{this.checkViewportSize()}),this.scrollable||(this.elementRef.nativeElement.classList.add("cdk-virtual-scrollable"),this.scrollable=this)}get orientation(){return this._orientation}set orientation(e){this._orientation!==e&&(this._orientation=e,this._calculateSpacerSize())}get appendOnly(){return this._appendOnly}set appendOnly(e){this._appendOnly=function ce(i){return null!=i&&"false"!=`${i}`}(e)}ngOnInit(){this._platform.isBrowser&&(this.scrollable===this&&super.ngOnInit(),this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._measureViewportSize(),this._scrollStrategy.attach(this),this.scrollable.elementScrolled().pipe((0,J.Z)(null),z(0,et)).subscribe(()=>this._scrollStrategy.onContentScrolled()),this._markChangeDetectionNeeded()})))}ngOnDestroy(){this.detach(),this._scrollStrategy.detach(),this._renderedRangeSubject.complete(),this._detachedSubject.complete(),this._viewportChanges.unsubscribe(),super.ngOnDestroy()}attach(e){this.ngZone.runOutsideAngular(()=>{this._forOf=e,this._forOf.dataStream.pipe((0,M.Q)(this._detachedSubject)).subscribe(t=>{const s=t.length;s!==this._dataLength&&(this._dataLength=s,this._scrollStrategy.onDataLengthChanged()),this._doChangeDetection()})})}detach(){this._forOf=null,this._detachedSubject.next()}getDataLength(){return this._dataLength}getViewportSize(){return this._viewportSize}getRenderedRange(){return this._renderedRange}measureBoundingClientRectWithScrollOffset(e){return this.getElementRef().nativeElement.getBoundingClientRect()[e]}setTotalContentSize(e){this._totalContentSize!==e&&(this._totalContentSize=e,this._calculateSpacerSize(),this._markChangeDetectionNeeded())}setRenderedRange(e){(function qe(i,n){return i.start==n.start&&i.end==n.end})(this._renderedRange,e)||(this.appendOnly&&(e={start:0,end:Math.max(this._renderedRange.end,e.end)}),this._renderedRangeSubject.next(this._renderedRange=e),this._markChangeDetectionNeeded(()=>this._scrollStrategy.onContentRendered()))}getOffsetToRenderedContentStart(){return this._renderedContentOffsetNeedsRewrite?null:this._renderedContentOffset}setRenderedContentOffset(e,t="to-start"){e=this.appendOnly&&"to-start"===t?0:e;const o="horizontal"==this.orientation,l=o?"X":"Y";let a=`translate${l}(${Number((o&&this.dir&&"rtl"==this.dir.value?-1:1)*e)}px)`;this._renderedContentOffset=e,"to-end"===t&&(a+=` translate${l}(-100%)`,this._renderedContentOffsetNeedsRewrite=!0),this._renderedContentTransform!=a&&(this._renderedContentTransform=a,this._markChangeDetectionNeeded(()=>{this._renderedContentOffsetNeedsRewrite?(this._renderedContentOffset-=this.measureRenderedContentSize(),this._renderedContentOffsetNeedsRewrite=!1,this.setRenderedContentOffset(this._renderedContentOffset)):this._scrollStrategy.onRenderedOffsetChanged()}))}scrollToOffset(e,t="auto"){const s={behavior:t};"horizontal"===this.orientation?s.start=e:s.top=e,this.scrollable.scrollTo(s)}scrollToIndex(e,t="auto"){this._scrollStrategy.scrollToIndex(e,t)}measureScrollOffset(e){let t;return t=this.scrollable==this?s=>super.measureScrollOffset(s):s=>this.scrollable.measureScrollOffset(s),Math.max(0,t(null!=e?e:"horizontal"===this.orientation?"start":"top")-this.measureViewportOffset())}measureViewportOffset(e){var t;let s;const o="left",l="right",d="rtl"==(null===(t=this.dir)||void 0===t?void 0:t.value);s="start"==e?d?l:o:"end"==e?d?o:l:e||("horizontal"===this.orientation?"left":"top");const a=this.scrollable.measureBoundingClientRectWithScrollOffset(s);return this.elementRef.nativeElement.getBoundingClientRect()[s]-a}measureRenderedContentSize(){const e=this._contentWrapper.nativeElement;return"horizontal"===this.orientation?e.offsetWidth:e.offsetHeight}measureRangeSize(e){return this._forOf?this._forOf.measureRangeSize(e,this.orientation):0}checkViewportSize(){this._measureViewportSize(),this._scrollStrategy.onDataLengthChanged()}_measureViewportSize(){this._viewportSize=this.scrollable.measureViewportSize(this.orientation)}_markChangeDetectionNeeded(e){e&&this._runAfterChangeDetection.push(e),this._isChangeDetectionPending||(this._isChangeDetectionPending=!0,this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._doChangeDetection()})))}_doChangeDetection(){this._isChangeDetectionPending=!1,this._contentWrapper.nativeElement.style.transform=this._renderedContentTransform,this.ngZone.run(()=>this._changeDetectorRef.markForCheck());const e=this._runAfterChangeDetection;this._runAfterChangeDetection=[];for(const t of e)t()}_calculateSpacerSize(){this._totalContentHeight="horizontal"===this.orientation?"":`${this._totalContentSize}px`,this._totalContentWidth="horizontal"===this.orientation?`${this._totalContentSize}px`:""}}return i.\u0275fac=function(e){return new(e||i)(r.rXU(r.aKT),r.rXU(r.gRc),r.rXU(r.SKi),r.rXU(ie,8),r.rXU(N,8),r.rXU(U),r.rXU(Qe),r.rXU(re,8))},i.\u0275cmp=r.VBU({type:i,selectors:[["cdk-virtual-scroll-viewport"]],viewQuery:function(e,t){if(1&e&&r.GBs(We,7),2&e){let s;r.mGM(s=r.lsd())&&(t._contentWrapper=s.first)}},hostAttrs:[1,"cdk-virtual-scroll-viewport"],hostVars:4,hostBindings:function(e,t){2&e&&r.AVh("cdk-virtual-scroll-orientation-horizontal","horizontal"===t.orientation)("cdk-virtual-scroll-orientation-vertical","horizontal"!==t.orientation)},inputs:{orientation:"orientation",appendOnly:"appendOnly"},outputs:{scrolledIndexChange:"scrolledIndexChange"},standalone:!0,features:[r.Jv_([{provide:ne,useFactory:(n,e)=>n||e,deps:[[new r.Xx1,new r.y_5(re)],i]}]),r.Vt3,r.aNF],ngContentSelectors:Ge,decls:4,vars:4,consts:[[1,"cdk-virtual-scroll-content-wrapper"],["contentWrapper",""],[1,"cdk-virtual-scroll-spacer"]],template:function(e,t){1&e&&(r.NAR(),r.j41(0,"div",0,1),r.SdG(2),r.k0s(),r.nrm(3,"div",2)),2&e&&(r.R7$(3),r.xc7("width",t._totalContentWidth)("height",t._totalContentHeight))},styles:["cdk-virtual-scroll-viewport{display:block;position:relative;transform:translateZ(0)}.cdk-virtual-scrollable{overflow:auto;will-change:scroll-position;contain:strict;-webkit-overflow-scrolling:touch}.cdk-virtual-scroll-content-wrapper{position:absolute;top:0;left:0;contain:content}[dir=rtl] .cdk-virtual-scroll-content-wrapper{right:0;left:auto}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper{min-height:100%}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-left:0;padding-right:0;margin-left:0;margin-right:0;border-left-width:0;border-right-width:0;outline:none}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper{min-width:100%}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-top:0;padding-bottom:0;margin-top:0;margin-bottom:0;border-top-width:0;border-bottom-width:0;outline:none}.cdk-virtual-scroll-spacer{height:1px;transform-origin:0 0;flex:0 0 auto}[dir=rtl] .cdk-virtual-scroll-spacer{transform-origin:100% 0}"],encapsulation:2,changeDetection:0}),i})();function se(i,n,e){if(!e.getBoundingClientRect)return 0;const s=e.getBoundingClientRect();return"horizontal"===i?"start"===n?s.left:s.right:"start"===n?s.top:s.bottom}let tt=(()=>{class i{constructor(e,t,s,o,l,d){this._viewContainerRef=e,this._template=t,this._differs=s,this._viewRepeater=o,this._viewport=l,this.viewChange=new g.B,this._dataSourceChanges=new g.B,this.dataStream=this._dataSourceChanges.pipe((0,J.Z)(null),function Ve(){return(0,Q.N)((i,n)=>{let e,t=!1;i.subscribe((0,O._)(n,s=>{const o=e;e=s,t&&n.next([o,s]),t=!0}))})}(),(0,Fe.n)(([a,c])=>this._changeDataSource(a,c)),(0,Te.t)(1)),this._differ=null,this._needsUpdate=!1,this._destroyed=new g.B,this.dataStream.subscribe(a=>{this._data=a,this._onRenderedDataChange()}),this._viewport.renderedRangeStream.pipe((0,M.Q)(this._destroyed)).subscribe(a=>{this._renderedRange=a,this.viewChange.observers.length&&d.run(()=>this.viewChange.next(this._renderedRange)),this._onRenderedDataChange()}),this._viewport.attach(this)}get cdkVirtualForOf(){return this._cdkVirtualForOf}set cdkVirtualForOf(e){this._cdkVirtualForOf=e,function Ue(i){return i&&"function"==typeof i.connect&&!(i instanceof Le.G)}(e)?this._dataSourceChanges.next(e):this._dataSourceChanges.next(new je((0,Y.A)(e)?e:Array.from(e||[])))}get cdkVirtualForTrackBy(){return this._cdkVirtualForTrackBy}set cdkVirtualForTrackBy(e){this._needsUpdate=!0,this._cdkVirtualForTrackBy=e?(t,s)=>e(t+(this._renderedRange?this._renderedRange.start:0),s):void 0}set cdkVirtualForTemplate(e){e&&(this._needsUpdate=!0,this._template=e)}get cdkVirtualForTemplateCacheSize(){return this._viewRepeater.viewCacheSize}set cdkVirtualForTemplateCacheSize(e){this._viewRepeater.viewCacheSize=D(e)}measureRangeSize(e,t){if(e.start>=e.end)return 0;const s=e.start-this._renderedRange.start,o=e.end-e.start;let l,d;for(let a=0;a<o;a++){const c=this._viewContainerRef.get(a+s);if(c&&c.rootNodes.length){l=d=c.rootNodes[0];break}}for(let a=o-1;a>-1;a--){const c=this._viewContainerRef.get(a+s);if(c&&c.rootNodes.length){d=c.rootNodes[c.rootNodes.length-1];break}}return l&&d?se(t,"end",d)-se(t,"start",l):0}ngDoCheck(){if(this._differ&&this._needsUpdate){const e=this._differ.diff(this._renderedItems);e?this._applyChanges(e):this._updateContext(),this._needsUpdate=!1}}ngOnDestroy(){this._viewport.detach(),this._dataSourceChanges.next(void 0),this._dataSourceChanges.complete(),this.viewChange.complete(),this._destroyed.next(),this._destroyed.complete(),this._viewRepeater.detach()}_onRenderedDataChange(){this._renderedRange&&(this._renderedItems=this._data.slice(this._renderedRange.start,this._renderedRange.end),this._differ||(this._differ=this._differs.find(this._renderedItems).create((e,t)=>this.cdkVirtualForTrackBy?this.cdkVirtualForTrackBy(e,t):t)),this._needsUpdate=!0)}_changeDataSource(e,t){return e&&e.disconnect(this),this._needsUpdate=!0,t?t.connect(this):(0,I.of)()}_updateContext(){const e=this._data.length;let t=this._viewContainerRef.length;for(;t--;){const s=this._viewContainerRef.get(t);s.context.index=this._renderedRange.start+t,s.context.count=e,this._updateComputedContextProperties(s.context),s.detectChanges()}}_applyChanges(e){this._viewRepeater.applyChanges(e,this._viewContainerRef,(o,l,d)=>this._getEmbeddedViewArgs(o,d),o=>o.item),e.forEachIdentityChange(o=>{this._viewContainerRef.get(o.currentIndex).context.$implicit=o.item});const t=this._data.length;let s=this._viewContainerRef.length;for(;s--;){const o=this._viewContainerRef.get(s);o.context.index=this._renderedRange.start+s,o.context.count=t,this._updateComputedContextProperties(o.context)}}_updateComputedContextProperties(e){e.first=0===e.index,e.last=e.index===e.count-1,e.even=e.index%2==0,e.odd=!e.even}_getEmbeddedViewArgs(e,t){return{templateRef:this._template,context:{$implicit:e.item,cdkVirtualForOf:this._cdkVirtualForOf,index:-1,count:-1,first:!1,last:!1,odd:!1,even:!1},index:t}}}return i.\u0275fac=function(e){return new(e||i)(r.rXU(r.c1b),r.rXU(r.C4Q),r.rXU(r._q3),r.rXU(te),r.rXU(j,4),r.rXU(r.SKi))},i.\u0275dir=r.FsC({type:i,selectors:[["","cdkVirtualFor","","cdkVirtualForOf",""]],inputs:{cdkVirtualForOf:"cdkVirtualForOf",cdkVirtualForTrackBy:"cdkVirtualForTrackBy",cdkVirtualForTemplate:"cdkVirtualForTemplate",cdkVirtualForTemplateCacheSize:"cdkVirtualForTemplateCacheSize"},standalone:!0,features:[r.Jv_([{provide:te,useClass:$e}])]}),i})(),oe=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=r.$C({type:i}),i.\u0275inj=r.G2t({}),i})(),it=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=r.$C({type:i}),i.\u0275inj=r.G2t({imports:[ee,oe,j,ee,oe]}),i})();var nt=h(9417),m=h(4742),le=h(3955),ae=h(3871),E=h(467),_=h(4129),rt=h(6929),st=h(9893);function ot(i,n){1&i&&(r.j41(0,"div")(1,"ion-item")(2,"ion-avatar",7),r.nrm(3,"ion-skeleton-text",8),r.k0s(),r.j41(4,"ion-label"),r.nrm(5,"ion-skeleton-text",9),r.k0s()()())}function lt(i,n){if(1&i&&(r.j41(0,"ion-list"),r.DNE(1,ot,6,0,"div",6),r.k0s()),2&i){const e=r.XpG();r.R7$(1),r.Y8G("ngForOf",e.skeletons)}}function at(i,n){1&i&&r.nrm(0,"ion-icon",13)}function ct(i,n){1&i&&r.nrm(0,"ion-icon",14)}function dt(i,n){1&i&&(r.j41(0,"span"),r.EFF(1,","),r.k0s())}function ht(i,n){if(1&i&&(r.j41(0,"p"),r.EFF(1),r.k0s()),2&i){const e=r.XpG().$implicit;r.R7$(1),r.JRh(e.phone_mobile)}}function ut(i,n){if(1&i&&(r.j41(0,"p"),r.EFF(1),r.k0s()),2&i){const e=r.XpG().$implicit;r.R7$(1),r.JRh(e.phone_fixed)}}function ft(i,n){if(1&i&&(r.j41(0,"p"),r.EFF(1),r.k0s()),2&i){const e=r.XpG().$implicit;r.R7$(1),r.JRh(e.mail)}}function pt(i,n){if(1&i&&(r.j41(0,"p"),r.EFF(1),r.k0s()),2&i){const e=r.XpG().$implicit;r.R7$(1),r.JRh(e.address)}}function mt(i,n){if(1&i&&(r.j41(0,"p"),r.EFF(1),r.k0s()),2&i){const e=r.XpG().$implicit;r.R7$(1),r.Lme("",e.postcode," ",e.city,"")}}function gt(i,n){if(1&i){const e=r.RV6();r.j41(0,"ion-item"),r.DNE(1,at,1,0,"ion-icon",10),r.DNE(2,ct,1,0,"ion-icon",11),r.j41(3,"ion-label")(4,"h2"),r.EFF(5),r.DNE(6,dt,2,0,"span",3),r.EFF(7),r.k0s(),r.DNE(8,ht,2,1,"p",3),r.DNE(9,ut,2,1,"p",3),r.DNE(10,ft,2,1,"p",3),r.DNE(11,pt,2,1,"p",3),r.DNE(12,mt,2,2,"p",3),r.k0s(),r.j41(13,"ion-button",12),r.bIt("click",function(){const o=r.eBV(e).$implicit,l=r.XpG();return r.Njj(l.export(o))}),r.EFF(14),r.nI1(15,"translate"),r.k0s()()}if(2&i){const e=n.$implicit;r.R7$(1),r.Y8G("ngIf",1===e.contact_type_id),r.R7$(1),r.Y8G("ngIf",1!==e.contact_type_id),r.R7$(3),r.JRh(null==e?null:e.name_1),r.R7$(1),r.Y8G("ngIf",e.name_2),r.R7$(1),r.SpI(" ",null==e?null:e.name_2,""),r.R7$(1),r.Y8G("ngIf",e.phone_mobile),r.R7$(1),r.Y8G("ngIf",e.phone_fixed),r.R7$(1),r.Y8G("ngIf",e.mail),r.R7$(1),r.Y8G("ngIf",e.address),r.R7$(1),r.Y8G("ngIf",e.postcode||e.city),r.R7$(2),r.SpI(" ",r.bMT(15,11,"Export")," ")}}const _t=[{path:"",component:(()=>{var i;class n{constructor(t,s,o){this.nativeContacts=t,this.apiService=s,this.utils=o,this.skeletons=new Array(12),this.loading=!0,this.contacts=[],this.filteredContacts=[]}ngOnInit(){this.init()}init(){var t=this;return(0,E.A)(function*(){t.doRefresh(),t.apiService.projectsUpdated.subscribe(()=>t.doRefresh())})()}doRefresh(t){var s=this;return(0,E.A)(function*(){s.loading=!0,s.contacts=yield s.apiService.getContacts(!0),s.filteredContacts=s.contacts,t&&t.target.complete(),s.loading=!1})()}onSearch(t){const s=t.detail.value.toLowerCase();this.filteredContacts=""===s?this.contacts:this.contacts.filter(o=>-1!==o.name_1.toLowerCase().indexOf(s)||o.name_2&&-1!==o.name_2.toLowerCase().indexOf(s))}getContact(t){var s=this;return(0,E.A)(function*(){return new Promise(function(){var o=(0,E.A)(function*(l){var d,a;let c=s.nativeContacts.create(),f=!1;const u=[["emails","mail"],["phoneNumbers","phone_mobile"],["phoneNumbers","phone_fixed"],["displayName","calculated_name"]];for(let p=0;p<u.length;p++){if("displayName"===u[u[p][0]])return void l({isUpdate:f,contact:c});null!==t[u[p][1]]&&t[u[p][1]].length>0&&(p=u.length+1)}const v=new _.QG;let T=[];t.calculated_name=((null==t||null===(d=t.name_2)||void 0===d?void 0:d.trim())+" "+(null==t||null===(a=t.name_1)||void 0===a?void 0:a.trim())).trim();for(let p=0;p<u.length;p++)null!==t[u[p][1]]&&t[u[p][1]].length>0&&(console.log("set filter to "+t[u[p][1]]),v.filter=t[u[p][1]],v.multiple=!1,T=yield s.nativeContacts.find([u[p][0]],v),console.log("result",T),1===T.length&&(f=!0,c=T[0],p=u.length+1));l({isUpdate:f,contact:c})});return function(l){return o.apply(this,arguments)}}())})()}export(t){var s=this;return(0,E.A)(function*(){var o,l;const d=yield s.getContact(t),a=d.contact;console.log("name",t),a.name=new _.A1(null,null==t||null===(o=t.name_1)||void 0===o?void 0:o.trim(),null==t||null===(l=t.name_2)||void 0===l?void 0:l.trim()),a.addresses=[new _.jV(!0,"work",null,t.address,t.city,null,t.postcode+"")],a.note=t.remarks,a.birthday=t.birthday;const c=[];t.phone_mobile&&c.push(new _.bX("mobile",t.phone_mobile)),t.phone_fixed&&c.push(new _.bX("work",t.phone_fixed)),t.phone_fixed_second&&c.push(new _.bX("home",t.phone_fixed_second)),c.length>0&&(a.phoneNumbers=c);const f=[];t.mail&&f.push(new _.bX("work",t.mail)),t.mail_second&&f.push(new _.bX("private",t.mail_second)),f.length>0&&(a.emails=f),a.save().then(()=>{s.utils.showToast(d.isUpdate?"Updated":"Created")},u=>{s.utils.showToast("Export failed: "+u.message)})})()}}return(i=n).\u0275fac=function(t){return new(t||i)(r.rXU(_.In),r.rXU(rt.G),r.rXU(st.T))},i.\u0275cmp=r.VBU({type:i,selectors:[["app-contacts"]],decls:11,vars:6,consts:[["color","primary"],[3,"scrollY"],["debounce","500",3,"ionChange"],[4,"ngIf"],["itemSize","56","minBufferPx","900","maxBufferPx","1350",1,"ion-content-scroll-host"],[4,"cdkVirtualFor","cdkVirtualForOf"],[4,"ngFor","ngForOf"],["slot","start"],["animated",""],["animated","",2,"width","60%"],["slot","start","name","business-outline",4,"ngIf"],["slot","start","name","person-outline",4,"ngIf"],["slot","end",3,"click"],["slot","start","name","business-outline"],["slot","start","name","person-outline"]],template:function(t,s){1&t&&(r.j41(0,"ion-header",0)(1,"ion-toolbar",0)(2,"ion-title"),r.EFF(3),r.nI1(4,"translate"),r.k0s()()(),r.j41(5,"ion-content",1)(6,"ion-searchbar",2),r.bIt("ionChange",function(l){return s.onSearch(l)}),r.k0s(),r.DNE(7,lt,2,1,"ion-list",3),r.j41(8,"cdk-virtual-scroll-viewport",4)(9,"ion-list"),r.DNE(10,gt,16,13,"ion-item",5),r.k0s()()()),2&t&&(r.R7$(3),r.SpI(" ",r.bMT(4,4,"Contacts")," "),r.R7$(2),r.Y8G("scrollY",!1),r.R7$(2),r.Y8G("ngIf",s.loading),r.R7$(3),r.Y8G("cdkVirtualForOf",s.filteredContacts))},dependencies:[S.Sq,S.bT,m.mC,m.Jm,m.W9,m.eU,m.iq,m.uz,m.he,m.nf,m.S1,m.ds,m.BC,m.ai,m.Gw,He,tt,j,le.D9]}),n})()}];let vt=(()=>{var i;class n{}return(i=n).\u0275fac=function(t){return new(t||i)},i.\u0275mod=r.$C({type:i}),i.\u0275inj=r.G2t({imports:[ae.iI.forChild(_t),ae.iI]}),n})(),St=(()=>{var i;class n{}return(i=n).\u0275fac=function(t){return new(t||i)},i.\u0275mod=r.$C({type:i}),i.\u0275inj=r.G2t({imports:[S.MD,nt.YN,m.bv,it,le.h,vt]}),n})()}}]);