(self.webpackChunkapp=self.webpackChunkapp||[]).push([[8592],{1320:(T,p,o)=>{"use strict";o.d(p,{c:()=>n});var r=o(1308),d=o(7864),s=o(1898);const n=(i,a)=>{let t,e;const _=(f,h,E)=>{if(typeof document>"u")return;const w=document.elementFromPoint(f,h);w&&a(w)?w!==t&&(u(),m(w,E)):u()},m=(f,h)=>{t=f,e||(e=t);const E=t;(0,r.c)(()=>E.classList.add("ion-activated")),h()},u=(f=!1)=>{if(!t)return;const h=t;(0,r.c)(()=>h.classList.remove("ion-activated")),f&&e!==t&&t.click(),t=void 0};return(0,s.createGesture)({el:i,gestureName:"buttonActiveDrag",threshold:0,onStart:f=>_(f.currentX,f.currentY,d.a),onMove:f=>_(f.currentX,f.currentY,d.b),onEnd:()=>{u(!0),(0,d.h)(),e=void 0}})}},5062:(T,p,o)=>{"use strict";o.d(p,{i:()=>r});const r=d=>d&&""!==d.dir?"rtl"===d.dir.toLowerCase():"rtl"===document?.dir.toLowerCase()},6602:(T,p,o)=>{"use strict";o.r(p),o.d(p,{startFocusVisible:()=>n});const r="ion-focused",s=["Tab","ArrowDown","Space","Escape"," ","Shift","Enter","ArrowLeft","ArrowRight","ArrowUp","Home","End"],n=i=>{let a=[],t=!0;const e=i?i.shadowRoot:document,_=i||document.body,m=x=>{a.forEach(g=>g.classList.remove(r)),x.forEach(g=>g.classList.add(r)),a=x},u=()=>{t=!1,m([])},f=x=>{t=s.includes(x.key),t||m([])},h=x=>{if(t&&void 0!==x.composedPath){const g=x.composedPath().filter(S=>!!S.classList&&S.classList.contains("ion-focusable"));m(g)}},E=()=>{e.activeElement===_&&m([])};return e.addEventListener("keydown",f),e.addEventListener("focusin",h),e.addEventListener("focusout",E),e.addEventListener("touchstart",u),e.addEventListener("mousedown",u),{destroy:()=>{e.removeEventListener("keydown",f),e.removeEventListener("focusin",h),e.removeEventListener("focusout",E),e.removeEventListener("touchstart",u),e.removeEventListener("mousedown",u)},setFocus:m}}},7626:(T,p,o)=>{"use strict";o.d(p,{C:()=>i,a:()=>s,d:()=>n});var r=o(5861),d=o(5730);const s=function(){var a=(0,r.Z)(function*(t,e,_,m,u,f){var h;if(t)return t.attachViewToDom(e,_,u,m);if(!(f||"string"==typeof _||_ instanceof HTMLElement))throw new Error("framework delegate is missing");const E="string"==typeof _?null===(h=e.ownerDocument)||void 0===h?void 0:h.createElement(_):_;return m&&m.forEach(w=>E.classList.add(w)),u&&Object.assign(E,u),e.appendChild(E),yield new Promise(w=>(0,d.c)(E,w)),E});return function(e,_,m,u,f,h){return a.apply(this,arguments)}}(),n=(a,t)=>{if(t){if(a)return a.removeViewFromDom(t.parentElement,t);t.remove()}return Promise.resolve()},i=()=>{let a,t;return{attachViewToDom:function(){var m=(0,r.Z)(function*(u,f,h={},E=[]){var w,x;if(a=u,f){const S="string"==typeof f?null===(w=a.ownerDocument)||void 0===w?void 0:w.createElement(f):f;E.forEach(l=>S.classList.add(l)),Object.assign(S,h),a.appendChild(S),yield new Promise(l=>(0,d.c)(S,l))}else if(a.children.length>0&&!a.children[0].classList.contains("ion-delegate-host")){const l=null===(x=a.ownerDocument)||void 0===x?void 0:x.createElement("div");l.classList.add("ion-delegate-host"),E.forEach(y=>l.classList.add(y)),l.append(...a.children),a.appendChild(l)}const g=document.querySelector("ion-app")||document.body;return t=document.createComment("ionic teleport"),a.parentNode.insertBefore(t,a),g.appendChild(a),a});return function(f,h){return m.apply(this,arguments)}}(),removeViewFromDom:()=>(a&&t&&(t.parentNode.insertBefore(a,t),t.remove()),Promise.resolve())}}},7864:(T,p,o)=>{"use strict";o.d(p,{a:()=>n,b:()=>i,c:()=>s,d:()=>t,h:()=>a});const r={getEngine(){var e;const _=window;return _.TapticEngine||(null===(e=_.Capacitor)||void 0===e?void 0:e.isPluginAvailable("Haptics"))&&_.Capacitor.Plugins.Haptics},available(){var e;const _=window;return!!this.getEngine()&&("web"!==(null===(e=_.Capacitor)||void 0===e?void 0:e.getPlatform())||typeof navigator<"u"&&void 0!==navigator.vibrate)},isCordova:()=>!!window.TapticEngine,isCapacitor:()=>!!window.Capacitor,impact(e){const _=this.getEngine();if(!_)return;const m=this.isCapacitor()?e.style.toUpperCase():e.style;_.impact({style:m})},notification(e){const _=this.getEngine();if(!_)return;const m=this.isCapacitor()?e.style.toUpperCase():e.style;_.notification({style:m})},selection(){this.impact({style:"light"})},selectionStart(){const e=this.getEngine();e&&(this.isCapacitor()?e.selectionStart():e.gestureSelectionStart())},selectionChanged(){const e=this.getEngine();e&&(this.isCapacitor()?e.selectionChanged():e.gestureSelectionChanged())},selectionEnd(){const e=this.getEngine();e&&(this.isCapacitor()?e.selectionEnd():e.gestureSelectionEnd())}},d=()=>r.available(),s=()=>{d()&&r.selection()},n=()=>{d()&&r.selectionStart()},i=()=>{d()&&r.selectionChanged()},a=()=>{d()&&r.selectionEnd()},t=e=>{d()&&r.impact(e)}},109:(T,p,o)=>{"use strict";o.d(p,{a:()=>r,b:()=>f,c:()=>t,d:()=>h,e:()=>R,f:()=>a,g:()=>E,h:()=>s,i:()=>d,j:()=>l,k:()=>y,l:()=>e,m:()=>m,n:()=>w,o:()=>_,p:()=>i,q:()=>n,r:()=>S,s:()=>O,t:()=>u,u:()=>x,v:()=>g});const r="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='square' stroke-miterlimit='10' stroke-width='48' d='M244 400L100 256l144-144M120 256h292' class='ionicon-fill-none'/></svg>",d="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-linejoin='round' stroke-width='48' d='M112 268l144 144 144-144M256 392V100' class='ionicon-fill-none'/></svg>",s="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M368 64L144 256l224 192V64z'/></svg>",n="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M64 144l192 224 192-224H64z'/></svg>",i="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M448 368L256 144 64 368h384z'/></svg>",a="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-linejoin='round' d='M416 128L192 384l-96-96' class='ionicon-fill-none ionicon-stroke-width'/></svg>",t="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-linejoin='round' stroke-width='48' d='M328 112L184 256l144 144' class='ionicon-fill-none'/></svg>",e="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-linejoin='round' stroke-width='48' d='M112 184l144 144 144-144' class='ionicon-fill-none'/></svg>",_="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-linejoin='round' stroke-width='48' d='M184 112l144 144-144 144' class='ionicon-fill-none'/></svg>",m="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-linejoin='round' stroke-width='48' d='M184 112l144 144-144 144' class='ionicon-fill-none'/></svg>",u="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M289.94 256l95-95A24 24 0 00351 127l-95 95-95-95a24 24 0 00-34 34l95 95-95 95a24 24 0 1034 34l95-95 95 95a24 24 0 0034-34z'/></svg>",f="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M256 48C141.31 48 48 141.31 48 256s93.31 208 208 208 208-93.31 208-208S370.69 48 256 48zm75.31 260.69a16 16 0 11-22.62 22.62L256 278.63l-52.69 52.68a16 16 0 01-22.62-22.62L233.37 256l-52.68-52.69a16 16 0 0122.62-22.62L256 233.37l52.69-52.68a16 16 0 0122.62 22.62L278.63 256z'/></svg>",h="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M400 145.49L366.51 112 256 222.51 145.49 112 112 145.49 222.51 256 112 366.51 145.49 400 256 289.49 366.51 400 400 366.51 289.49 256 400 145.49z'/></svg>",E="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><circle cx='256' cy='256' r='192' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/></svg>",w="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><circle cx='256' cy='256' r='48'/><circle cx='416' cy='256' r='48'/><circle cx='96' cy='256' r='48'/></svg>",x="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-miterlimit='10' d='M80 160h352M80 256h352M80 352h352' class='ionicon-fill-none ionicon-stroke-width'/></svg>",g="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M64 384h384v-42.67H64zm0-106.67h384v-42.66H64zM64 128v42.67h384V128z'/></svg>",S="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-linejoin='round' d='M400 256H112' class='ionicon-fill-none ionicon-stroke-width'/></svg>",l="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-linejoin='round' d='M96 256h320M96 176h320M96 336h320' class='ionicon-fill-none ionicon-stroke-width'/></svg>",y="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='square' stroke-linejoin='round' stroke-width='44' d='M118 304h276M118 208h276' class='ionicon-fill-none'/></svg>",O="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M221.09 64a157.09 157.09 0 10157.09 157.09A157.1 157.1 0 00221.09 64z' stroke-miterlimit='10' class='ionicon-fill-none ionicon-stroke-width'/><path stroke-linecap='round' stroke-miterlimit='10' d='M338.29 338.29L448 448' class='ionicon-fill-none ionicon-stroke-width'/></svg>",R="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M464 428L339.92 303.9a160.48 160.48 0 0030.72-94.58C370.64 120.37 298.27 48 209.32 48S48 120.37 48 209.32s72.37 161.32 161.32 161.32a160.48 160.48 0 0094.58-30.72L428 464zM209.32 319.69a110.38 110.38 0 11110.37-110.37 110.5 110.5 0 01-110.37 110.37z'/></svg>"},8416:(T,p,o)=>{"use strict";o.d(p,{I:()=>i,a:()=>m,b:()=>a,c:()=>h,d:()=>w,f:()=>u,g:()=>_,i:()=>e,p:()=>E,r:()=>x,s:()=>f});var r=o(5861),d=o(5730),s=o(4147);const i="ion-content",a=".ion-content-scroll-host",t=`${i}, ${a}`,e=g=>"ION-CONTENT"===g.tagName,_=function(){var g=(0,r.Z)(function*(S){return e(S)?(yield new Promise(l=>(0,d.c)(S,l)),S.getScrollElement()):S});return function(l){return g.apply(this,arguments)}}(),m=g=>g.querySelector(a)||g.querySelector(t),u=g=>g.closest(t),f=(g,S)=>e(g)?g.scrollToTop(S):Promise.resolve(g.scrollTo({top:0,left:0,behavior:S>0?"smooth":"auto"})),h=(g,S,l,y)=>e(g)?g.scrollByPoint(S,l,y):Promise.resolve(g.scrollBy({top:l,left:S,behavior:y>0?"smooth":"auto"})),E=g=>(0,s.a)(g,i),w=g=>{if(e(g)){const l=g.scrollY;return g.scrollY=!1,l}return g.style.setProperty("overflow","hidden"),!0},x=(g,S)=>{e(g)?g.scrollY=S:g.style.removeProperty("overflow")}},5234:(T,p,o)=>{"use strict";o.r(p),o.d(p,{KEYBOARD_DID_CLOSE:()=>d,KEYBOARD_DID_OPEN:()=>r,copyVisualViewport:()=>S,keyboardDidClose:()=>E,keyboardDidOpen:()=>f,keyboardDidResize:()=>h,resetKeyboardAssist:()=>t,setKeyboardClose:()=>u,setKeyboardOpen:()=>m,startKeyboardAssist:()=>e,trackViewportChanges:()=>g});const r="ionKeyboardDidShow",d="ionKeyboardDidHide";let n={},i={},a=!1;const t=()=>{n={},i={},a=!1},e=l=>{_(l),l.visualViewport&&(i=S(l.visualViewport),l.visualViewport.onresize=()=>{g(l),f()||h(l)?m(l):E(l)&&u(l)})},_=l=>{l.addEventListener("keyboardDidShow",y=>m(l,y)),l.addEventListener("keyboardDidHide",()=>u(l))},m=(l,y)=>{w(l,y),a=!0},u=l=>{x(l),a=!1},f=()=>!a&&n.width===i.width&&(n.height-i.height)*i.scale>150,h=l=>a&&!E(l),E=l=>a&&i.height===l.innerHeight,w=(l,y)=>{const R=new CustomEvent(r,{detail:{keyboardHeight:y?y.keyboardHeight:l.innerHeight-i.height}});l.dispatchEvent(R)},x=l=>{const y=new CustomEvent(d);l.dispatchEvent(y)},g=l=>{n=Object.assign({},i),i=S(l.visualViewport)},S=l=>({width:Math.round(l.width),height:Math.round(l.height),offsetTop:l.offsetTop,offsetLeft:l.offsetLeft,pageTop:l.pageTop,pageLeft:l.pageLeft,scale:l.scale})},9852:(T,p,o)=>{"use strict";o.d(p,{c:()=>d});var r=o(3457);const d=s=>{let n,i,a;const t=()=>{n=()=>{a=!0,s&&s(!0)},i=()=>{a=!1,s&&s(!1)},null==r.w||r.w.addEventListener("keyboardWillShow",n),null==r.w||r.w.addEventListener("keyboardWillHide",i)};return t(),{init:t,destroy:()=>{null==r.w||r.w.removeEventListener("keyboardWillShow",n),null==r.w||r.w.removeEventListener("keyboardWillHide",i),n=i=void 0},isKeyboardVisible:()=>a}}},7741:(T,p,o)=>{"use strict";o.d(p,{S:()=>d});const d={bubbles:{dur:1e3,circles:9,fn:(s,n,i)=>{const a=s*n/i-s+"ms",t=2*Math.PI*n/i;return{r:5,style:{top:9*Math.sin(t)+"px",left:9*Math.cos(t)+"px","animation-delay":a}}}},circles:{dur:1e3,circles:8,fn:(s,n,i)=>{const a=n/i,t=s*a-s+"ms",e=2*Math.PI*a;return{r:5,style:{top:9*Math.sin(e)+"px",left:9*Math.cos(e)+"px","animation-delay":t}}}},circular:{dur:1400,elmDuration:!0,circles:1,fn:()=>({r:20,cx:48,cy:48,fill:"none",viewBox:"24 24 48 48",transform:"translate(0,0)",style:{}})},crescent:{dur:750,circles:1,fn:()=>({r:26,style:{}})},dots:{dur:750,circles:3,fn:(s,n)=>({r:6,style:{left:9-9*n+"px","animation-delay":-110*n+"ms"}})},lines:{dur:1e3,lines:8,fn:(s,n,i)=>({y1:14,y2:26,style:{transform:`rotate(${360/i*n+(n<i/2?180:-180)}deg)`,"animation-delay":s*n/i-s+"ms"}})},"lines-small":{dur:1e3,lines:8,fn:(s,n,i)=>({y1:12,y2:20,style:{transform:`rotate(${360/i*n+(n<i/2?180:-180)}deg)`,"animation-delay":s*n/i-s+"ms"}})},"lines-sharp":{dur:1e3,lines:12,fn:(s,n,i)=>({y1:17,y2:29,style:{transform:`rotate(${30*n+(n<6?180:-180)}deg)`,"animation-delay":s*n/i-s+"ms"}})},"lines-sharp-small":{dur:1e3,lines:12,fn:(s,n,i)=>({y1:12,y2:20,style:{transform:`rotate(${30*n+(n<6?180:-180)}deg)`,"animation-delay":s*n/i-s+"ms"}})}}},6659:(T,p,o)=>{"use strict";o.r(p),o.d(p,{createSwipeBackGesture:()=>i});var r=o(5730),d=o(5062),s=o(1898);o(4349);const i=(a,t,e,_,m)=>{const u=a.ownerDocument.defaultView;let f=(0,d.i)(a);const E=l=>f?-l.deltaX:l.deltaX;return(0,s.createGesture)({el:a,gestureName:"goback-swipe",gesturePriority:40,threshold:10,canStart:l=>(f=(0,d.i)(a),(l=>{const{startX:O}=l;return f?O>=u.innerWidth-50:O<=50})(l)&&t()),onStart:e,onMove:l=>{const O=E(l)/u.innerWidth;_(O)},onEnd:l=>{const y=E(l),O=u.innerWidth,R=y/O,B=(l=>f?-l.velocityX:l.velocityX)(l),U=B>=0&&(B>.2||y>O/2),I=(U?1-R:R)*O;let c=0;if(I>5){const C=I/Math.abs(B);c=Math.min(C,540)}m(U,R<=0?.01:(0,r.l)(0,R,.9999),c)}})}},5642:(T,p,o)=>{"use strict";o.d(p,{K:()=>t});var r=o(6895),d=o(4006),s=o(8058),n=o(2466),i=o(5503),a=o(8274);let t=(()=>{class e{}return e.\u0275fac=function(m){return new(m||e)},e.\u0275mod=a.\u0275\u0275defineNgModule({type:e}),e.\u0275inj=a.\u0275\u0275defineInjector({imports:[r.CommonModule,d.FormsModule,i.D,s.IonicModule,n.aw]}),e})()},7432:(T,p,o)=>{"use strict";o.d(p,{Of:()=>d,P_:()=>s,vK:()=>r});const r={LAST_USED:"-1",NONE:"-2"},d={STOPWATCHES:"[]",STOPWATCH_SINGULAR:!1,SERVICE_ID:r.LAST_USED,STATUS_ID:r.LAST_USED,PROJECT_ID:r.NONE,NOTIFICATION_TIME:"17:00",NOTIFICATION_WEEKDAYS:{d0:!1,d1:!0,d2:!0,d3:!0,d4:!0,d5:!0,d6:!1},MODULES:{dashboard:!0,times:!0,projects:!0,stopwatches:!0,contacts:!0},STEPS:15,DURATION:1,HOURS_PER_DAY:8,SHOW_FAVORITES:!1,CURRENT_FILTER:"",FAVORITES:[]},s={STOPWATCHES:"stopwatches",STOPWATCHES_FIELDS:["startTime","savedTime","difference","paused","running","timerDisplay"],PROJECTS_SHOW_FAVORITES:"projects_show_favorites",PROJECTS_CURRENT_FILTER:"projects_current_filter",PROJECTS_FAVORITES:"projects_favorites",SETTINGS_LAST_SERVICE:"settings_last_service",SETTINGS_LAST_SERVICE_ID:"settings_last_service_id",SETTINGS_LAST_STATUS:"settings_last_status",SETTINGS_LAST_STATUS_ID:"settings_last_status_id",SETTINGS_LAST_PROJECT:"settings_last_project",SETTINGS_LAST_PROJECT_ID:"settings_last_project_id",SETTINGS_LAST_THREE_PROJECTS:"settings_last_three_projects",SETTINGS_STOPWATCH_SINGULAR:"settings_stopwatch_singular",SETTINGS_STEPS:"settings_steps",SETTINGS_HOURS_PER_DAY:"settings_hours_per_day",SETTINGS_DURATION:"settings_duration",SETTINGS_NOTIFICATIONS_TIME:"settings_notifications_time",SETTINGS_NOTIFICATIONS_WEEKDAYS:"settings_notifications_weekdays",SETTINGS_MODULES:"settings_modules"}},2605:(T,p,o)=>{"use strict";o.d(p,{Q:()=>r});class r{constructor(s=3){this.items=new Set,this.maxSize=s}enqueue(s){this.isDuplicate(s)||(this.items.add(s),this.items.size>this.maxSize&&this.dequeue())}isDuplicate(s){for(let n of this.items)if(n.id===s.id)return!0;return!1}dequeue(){if(0===this.items.size)return;const s=this.items.values().next().value;return this.items.delete(s),s}peek(){return this.items.size>0?this.items.values().next().value:void 0}getSize(){return this.items.size}serialize(){return JSON.stringify({items:Array.from(this.items),maxSize:this.maxSize})}static deserialize(s){if(!s)return new r;const n=JSON.parse(s),i=new r(n.maxSize);return n.items.forEach(a=>i.enqueue(a)),i}toList(){return Array.from(this.items)}}},1052:(T,p,o)=>{"use strict";o.d(p,{u:()=>i});var r=o(6895),d=o(9444),n=o(6806);class i{constructor(){this.allowable_bill=!1,this.strategy=0,this.id=(0,d.v4)()}toTimesheet(t){let e=new n.T;e.user_id=t,e.status_id=this.status_id,e.client_service_id=this.client_service_id,e.text=this.text,e.allowable_bill=this.allowable_bill,e.contact_id=this.contact_id,e.pr_project_id=this.pr_project_id,e.pr_package_id=this.pr_package_id;let _=this.timerDisplay.substring(0,5);return e.tracking={type:"duration",date:new r.DatePipe("en-US").transform(new Date,"yyyy-MM-dd"),duration:_},e}}},6806:(T,p,o)=>{"use strict";o.d(p,{T:()=>d});class r{constructor(){this.type="duration";let n=new Date;n.setSeconds(0,0),this.start=n.toISOString(),this.date=n.toISOString()}}class d{constructor(){this.tracking=new r}}},9803:(T,p,o)=>{"use strict";o.r(p),o.d(p,{ContactsPageModule:()=>U});var r=o(6895),d=o(4006),s=o(8058),n=o(2835),i=o(5861),a=o(95),t=o(8274),e=o(5146),_=o(9265),m=o(2466);function u(v,I){1&v&&(t.\u0275\u0275elementStart(0,"div")(1,"ion-item")(2,"ion-avatar",6),t.\u0275\u0275element(3,"ion-skeleton-text",7),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(4,"ion-label"),t.\u0275\u0275element(5,"ion-skeleton-text",8),t.\u0275\u0275elementEnd()()())}function f(v,I){if(1&v&&(t.\u0275\u0275elementStart(0,"ion-list"),t.\u0275\u0275template(1,u,6,0,"div",5),t.\u0275\u0275elementEnd()),2&v){const c=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("ngForOf",c.skeletons)}}function h(v,I){1&v&&t.\u0275\u0275element(0,"ion-icon",13)}function E(v,I){1&v&&t.\u0275\u0275element(0,"ion-icon",14)}function w(v,I){1&v&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1,","),t.\u0275\u0275elementEnd())}function x(v,I){if(1&v&&(t.\u0275\u0275elementStart(0,"p"),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&v){const c=t.\u0275\u0275nextContext().$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(c.phone_mobile)}}function g(v,I){if(1&v&&(t.\u0275\u0275elementStart(0,"p"),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&v){const c=t.\u0275\u0275nextContext().$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(c.phone_fixed)}}function S(v,I){if(1&v&&(t.\u0275\u0275elementStart(0,"p"),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&v){const c=t.\u0275\u0275nextContext().$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(c.mail)}}function l(v,I){if(1&v&&(t.\u0275\u0275elementStart(0,"p"),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&v){const c=t.\u0275\u0275nextContext().$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(c.address)}}function y(v,I){if(1&v&&(t.\u0275\u0275elementStart(0,"p"),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&v){const c=t.\u0275\u0275nextContext().$implicit;t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate2("",c.postcode," ",c.city,"")}}function O(v,I){if(1&v){const c=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"ion-item-sliding")(1,"ion-item"),t.\u0275\u0275template(2,h,1,0,"ion-icon",9),t.\u0275\u0275template(3,E,1,0,"ion-icon",10),t.\u0275\u0275elementStart(4,"ion-label")(5,"h2"),t.\u0275\u0275text(6),t.\u0275\u0275template(7,w,2,0,"span",2),t.\u0275\u0275text(8),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(9,x,2,1,"p",2),t.\u0275\u0275template(10,g,2,1,"p",2),t.\u0275\u0275template(11,S,2,1,"p",2),t.\u0275\u0275template(12,l,2,1,"p",2),t.\u0275\u0275template(13,y,2,2,"p",2),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(14,"ion-item-options",11)(15,"ion-item-option",12),t.\u0275\u0275listener("click",function(){const P=t.\u0275\u0275restoreView(c).$implicit,A=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(A.export(P))}),t.\u0275\u0275text(16),t.\u0275\u0275pipe(17,"translate"),t.\u0275\u0275elementEnd()()()}if(2&v){const c=I.$implicit;t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",1==c.contact_type_id),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",1!=c.contact_type_id),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(null==c?null:c.name_1),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",c.name_2),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",null==c?null:c.name_2,""),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",c.phone_mobile),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",c.phone_fixed),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",c.mail),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",c.address),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",c.postcode||c.city),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(17,11,"Export"))}}const B=[{path:"",component:(()=>{class v{constructor(c,C,L){this.nativeContacts=c,this.apiService=C,this.utils=L,this.skeletons=new Array(12),this.loading=!0,this.contacts=[],this.filteredContacts=[]}ngOnInit(){this.init()}init(){var c=this;return(0,i.Z)(function*(){c.doRefresh(),c.apiService.projectsUpdated.subscribe(()=>c.doRefresh())})()}doRefresh(c){var C=this;return(0,i.Z)(function*(){C.loading=!0,C.contacts=yield C.apiService.getContacts(!0),C.filteredContacts=C.contacts,c&&c.target.complete(),C.loading=!1})()}onSearch(c){let C=c.detail.value.toLowerCase();this.filteredContacts=""===C?this.contacts:this.contacts.filter(L=>-1!=L.name_1.toLowerCase().indexOf(C)||L.name_2&&-1!=L.name_2.toLowerCase().indexOf(C))}getContact(c){var C=this;return(0,i.Z)(function*(){return new Promise(function(){var L=(0,i.Z)(function*(P){let A=C.nativeContacts.create(),N=!1,M=[["emails","mail"],["phoneNumbers","phone_mobile"],["phoneNumbers","phone_fixed"],["displayName","calculated_name"]];for(var D=0;D<M.length;D++){if("displayName"===M[M[D][0]])return void P({isUpdate:N,contact:A});null!==c[M[D][1]]&&c[M[D][1]].length>0&&(D=M.length+1)}let j=new a.OM,k=[];for(c.calculated_name=(c?.name_2?.trim()+" "+c?.name_1?.trim()).trim(),D=0;D<M.length;D++)null!==c[M[D][1]]&&c[M[D][1]].length>0&&(console.log("set filter to "+c[M[D][1]]),j.filter=c[M[D][1]],j.multiple=!1,k=yield C.nativeContacts.find([M[D][0]],j),console.log("result",k),1===k.length&&(N=!0,A=k[0],D=M.length+1));P({isUpdate:N,contact:A})});return function(P){return L.apply(this,arguments)}}())})()}export(c){var C=this;return(0,i.Z)(function*(){let L=yield C.getContact(c),P=L.contact;console.log("name",c),P.name=new a.Kd(null,c?.name_1?.trim(),c?.name_2?.trim()),P.addresses=[new a.g7(!0,"work",null,c.address,c.city,null,c.postcode+"")],P.note=c.remarks,P.birthday=c.birthday;let A=[];c.phone_mobile&&A.push(new a.xj("mobile",c.phone_mobile)),c.phone_fixed&&A.push(new a.xj("work",c.phone_fixed)),c.phone_fixed_second&&A.push(new a.xj("home",c.phone_fixed_second)),A.length>0&&(P.phoneNumbers=A);let N=[];c.mail&&N.push(new a.xj("work",c.mail)),c.mail_second&&N.push(new a.xj("private",c.mail_second)),N.length>0&&(P.emails=N),P.save().then(()=>{C.utils.showToast(L.isUpdate?"Updated":"Created")},M=>{C.utils.showToast("Export failed")})})()}}return v.\u0275fac=function(c){return new(c||v)(t.\u0275\u0275directiveInject(a.zB),t.\u0275\u0275directiveInject(e.s),t.\u0275\u0275directiveInject(_.F))},v.\u0275cmp=t.\u0275\u0275defineComponent({type:v,selectors:[["app-contacts"]],decls:11,vars:5,consts:[["color","primary"],["debounce","500",3,"ionChange"],[4,"ngIf"],["approxItemHeight","40px",3,"items"],[4,"virtualItem"],[4,"ngFor","ngForOf"],["slot","start"],["animated",""],["animated","",2,"width","60%"],["slot","start","name","business-outline",4,"ngIf"],["slot","start","name","person-outline",4,"ngIf"],["side","end"],[3,"click"],["slot","start","name","business-outline"],["slot","start","name","person-outline"]],template:function(c,C){1&c&&(t.\u0275\u0275elementStart(0,"ion-header",0)(1,"ion-toolbar",0)(2,"ion-title"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(5,"ion-content")(6,"ion-searchbar",1),t.\u0275\u0275listener("ionChange",function(P){return C.onSearch(P)}),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(7,f,2,1,"ion-list",2),t.\u0275\u0275elementStart(8,"ion-list")(9,"ion-virtual-scroll",3),t.\u0275\u0275template(10,O,18,13,"ion-item-sliding",4),t.\u0275\u0275elementEnd()()()),2&c&&(t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(4,3,"Contacts")," "),t.\u0275\u0275advance(4),t.\u0275\u0275property("ngIf",C.loading),t.\u0275\u0275advance(2),t.\u0275\u0275property("items",C.filteredContacts))},dependencies:[r.NgForOf,r.NgIf,s.IonAvatar,s.IonContent,s.IonHeader,s.IonIcon,s.IonItem,s.IonItemOption,s.IonItemOptions,s.IonItemSliding,s.IonLabel,s.IonList,s.IonSearchbar,s.IonSkeletonText,s.IonTitle,s.IonToolbar,s.TextValueAccessor,s.VirtualItem,s.IonVirtualScroll,m.X$]}),v})()}];let b=(()=>{class v{}return v.\u0275fac=function(c){return new(c||v)},v.\u0275mod=t.\u0275\u0275defineNgModule({type:v}),v.\u0275inj=t.\u0275\u0275defineInjector({imports:[n.Bz.forChild(B),n.Bz]}),v})(),U=(()=>{class v{}return v.\u0275fac=function(c){return new(c||v)},v.\u0275mod=t.\u0275\u0275defineNgModule({type:v}),v.\u0275inj=t.\u0275\u0275defineInjector({imports:[r.CommonModule,d.FormsModule,s.IonicModule,m.aw,b]}),v})()},5503:(T,p,o)=>{"use strict";o.d(p,{D:()=>d});var r=o(8274);let d=(()=>{class s{}return s.\u0275fac=function(i){return new(i||s)},s.\u0275mod=r.\u0275\u0275defineNgModule({type:s}),s.\u0275inj=r.\u0275\u0275defineInjector({}),s})()},3212:(T,p,o)=>{"use strict";o.d(p,{N:()=>s});var r=o(9265),d=o(8274);let s=(()=>{class n{transform(a,...t){const e=(a+"").split("."),_=parseInt(e[0]),m=Math.round(60*parseFloat("0."+e[1]));return r.F.pad(_)+":"+r.F.pad(m)}}return n.\u0275fac=function(a){return new(a||n)},n.\u0275pipe=d.\u0275\u0275definePipe({name:"toDuration",type:n,pure:!0}),n})()},3018:(T,p,o)=>{"use strict";o.d(p,{W:()=>t});var r=o(5861),d=o(4707),s=o(7579),n=o(7432),i=o(8274),a=o(6578);let t=(()=>{class e{constructor(m){this.storage=m,this.internalStopwatches=[],this.stopwatches=new d.t,this.currentStopwatch=new s.x,this.init()}init(){var m=this;return(0,r.Z)(function*(){m.internalStopwatches=JSON.parse(yield m.storage.getString(n.P_.STOPWATCHES,n.Of.STOPWATCHES)),m.sendUpdate()})()}setCurrentStopwatch(m){this.currentStopwatch.next(m)}getCurrentStopwatch(){return this.currentStopwatch}sendUpdate(){this.internalStopwatches=this.internalStopwatches.sort((m,u)=>m.title>u.title?1:-1),this.stopwatches.next(this.internalStopwatches)}add(m){var u=this;return(0,r.Z)(function*(){return new Promise(function(){var f=(0,r.Z)(function*(h){yield u.delete(m,!1),u.internalStopwatches.push(m),yield u.storage.setItem(n.P_.STOPWATCHES,JSON.stringify(u.internalStopwatches)),u.sendUpdate(),h()});return function(h){return f.apply(this,arguments)}}())})()}get(m){var u=this;return(0,r.Z)(function*(){return new Promise(function(){var f=(0,r.Z)(function*(h){let E=u.internalStopwatches.filter(x=>x.id===m);if(1===E.length){let x=E[0];for(var w=0;w<n.P_.STOPWATCHES_FIELDS.length;w++)x[n.P_.STOPWATCHES_FIELDS[w]]=yield u.storage.getString(x.id+"_"+n.P_.STOPWATCHES_FIELDS[w]);h(x)}else h(null)});return function(h){return f.apply(this,arguments)}}())})()}delete(m,u=!0){var f=this;return(0,r.Z)(function*(){return new Promise(function(){var h=(0,r.Z)(function*(E){if(f.internalStopwatches=f.internalStopwatches.filter(x=>x.id!==m.id),yield f.storage.setItem(n.P_.STOPWATCHES,JSON.stringify(f.internalStopwatches)),u)for(var w=0;w<n.P_.STOPWATCHES_FIELDS.length;w++)f.storage.removeItem(m.id+"_"+n.P_.STOPWATCHES_FIELDS[w]);f.sendUpdate(),E()});return function(E){return h.apply(this,arguments)}}())})()}}return e.\u0275fac=function(m){return new(m||e)(i.\u0275\u0275inject(a.V))},e.\u0275prov=i.\u0275\u0275defineInjectable({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},6578:(T,p,o)=>{"use strict";o.d(p,{V:()=>n});var r=o(5861),d=o(8274),s=o(5146);let n=(()=>{class i{constructor(t){this.apiService=t,this.isInit=!1,this.prefix="_storage_"}init(){var t=this;return(0,r.Z)(function*(){t.isInit||(t.prefix=(yield t.apiService.getUser()).id+t.prefix,t.isInit=!0)})()}removeItem(t){var e=this;return new Promise(function(){var _=(0,r.Z)(function*(m,u){yield e.init(),localStorage.removeItem(e.prefix+t),m()});return function(m,u){return _.apply(this,arguments)}}())}setItem(t,e){var _=this;return new Promise(function(){var m=(0,r.Z)(function*(u,f){yield _.init(),localStorage.setItem(_.prefix+t,e),u()});return function(u,f){return m.apply(this,arguments)}}())}getString(t,e=null){var _=this;return new Promise(function(){var m=(0,r.Z)(function*(u,f){yield _.init();let h=yield localStorage.getItem(_.prefix+t);u(null!=e&&null==h?e:h)});return function(u,f){return m.apply(this,arguments)}}())}getDate(t,e=null){var _=this;return new Promise(function(){var m=(0,r.Z)(function*(u,f){yield _.init();let h=yield _.getString(t);u(null==h?e:new Date(h))});return function(u,f){return m.apply(this,arguments)}}())}getNumber(t,e=null){var _=this;return new Promise(function(){var m=(0,r.Z)(function*(u,f){yield _.init();let h=yield _.getString(t);u(null!=e&&null==h?e:parseFloat(h))});return function(u,f){return m.apply(this,arguments)}}())}getBoolean(t,e=null){var _=this;return new Promise(function(){var m=(0,r.Z)(function*(u,f){yield _.init();let h=yield _.getString(t);u(null!=e&&null==h?e:"true"===h)});return function(u,f){return m.apply(this,arguments)}}())}}return i.\u0275fac=function(t){return new(t||i)(d.\u0275\u0275inject(s.s))},i.\u0275prov=d.\u0275\u0275defineInjectable({token:i,factory:i.\u0275fac,providedIn:"root"}),i})()},9444:(T,p,o)=>{var r=o(4542),d=o(6926),s=d;s.v1=r,s.v4=d,T.exports=s},7805:T=>{for(var p=[],o=0;o<256;++o)p[o]=(o+256).toString(16).substr(1);T.exports=function r(d,s){var n=s||0;return[p[d[n++]],p[d[n++]],p[d[n++]],p[d[n++]],"-",p[d[n++]],p[d[n++]],"-",p[d[n++]],p[d[n++]],"-",p[d[n++]],p[d[n++]],"-",p[d[n++]],p[d[n++]],p[d[n++]],p[d[n++]],p[d[n++]],p[d[n++]]].join("")}},7142:T=>{var p=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(p){var o=new Uint8Array(16);T.exports=function(){return p(o),o}}else{var r=new Array(16);T.exports=function(){for(var n,s=0;s<16;s++)3&s||(n=4294967296*Math.random()),r[s]=n>>>((3&s)<<3)&255;return r}}},4542:(T,p,o)=>{var s,n,r=o(7142),d=o(7805),i=0,a=0;T.exports=function t(e,_,m){var u=_&&m||0,f=_||[],h=(e=e||{}).node||s,E=void 0!==e.clockseq?e.clockseq:n;if(null==h||null==E){var w=r();null==h&&(h=s=[1|w[0],w[1],w[2],w[3],w[4],w[5]]),null==E&&(E=n=16383&(w[6]<<8|w[7]))}var x=void 0!==e.msecs?e.msecs:(new Date).getTime(),g=void 0!==e.nsecs?e.nsecs:a+1,S=x-i+(g-a)/1e4;if(S<0&&void 0===e.clockseq&&(E=E+1&16383),(S<0||x>i)&&void 0===e.nsecs&&(g=0),g>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");i=x,a=g,n=E;var l=(1e4*(268435455&(x+=122192928e5))+g)%4294967296;f[u++]=l>>>24&255,f[u++]=l>>>16&255,f[u++]=l>>>8&255,f[u++]=255&l;var y=x/4294967296*1e4&268435455;f[u++]=y>>>8&255,f[u++]=255&y,f[u++]=y>>>24&15|16,f[u++]=y>>>16&255,f[u++]=E>>>8|128,f[u++]=255&E;for(var O=0;O<6;++O)f[u+O]=h[O];return _||d(f)}},6926:(T,p,o)=>{var r=o(7142),d=o(7805);T.exports=function s(n,i,a){var t=i&&a||0;"string"==typeof n&&(i="binary"===n?new Array(16):null,n=null);var e=(n=n||{}).random||(n.rng||r)();if(e[6]=15&e[6]|64,e[8]=63&e[8]|128,i)for(var _=0;_<16;++_)i[t+_]=e[_];return i||d(e)}}}]);