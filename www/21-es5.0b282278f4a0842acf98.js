!function(){function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{"2FS5":function(n,i,a){"use strict";a.r(i),a.d(i,"NotificationSettingsPageModule",(function(){return C}));var r,o,s,l=a("ofXK"),c=a("3Pt+"),d=a("TEn/"),u=a("tyNb"),m=a("mrSG"),p=a("gcOT"),g=a("LvDl"),h=a("TCge"),f=a("fXoL"),I=a("HPR3"),S=a("E2f4"),y=a("sYmb"),v=p.Plugins.LocalNotifications,E=[{path:"",component:(r=function(){function n(t,i,a){var r=this;e(this,n),this.utils=t,this.storage=i,this.translateService=a,this.time=h.a.NOTIFICATION_TIME,this.weekdays=h.a.NOTIFICATION_WEEKDAYS,this.notificationsChanged=g.debounce((function(){return Object(m.a)(r,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.utils.requestNotificationPermission(),e.next=3,this.storeConfiguration();case 3:return e.next=5,this.cancelNotifications();case 5:this.scheduleNotifications();case 6:case"end":return e.stop()}}),e,this)})))}),2e3),this.init()}var i,a,r;return i=n,(a=[{key:"init",value:function(){return Object(m.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.storage.getString(h.b.SETTINGS_NOTIFICATIONS_TIME,h.a.NOTIFICATION_TIME);case 2:return this.time=e.sent,e.t0=JSON,e.next=6,this.storage.getString(h.b.SETTINGS_NOTIFICATIONS_WEEKDAYS,JSON.stringify(h.a.NOTIFICATION_WEEKDAYS));case 6:e.t1=e.sent,this.weekdays=e.t0.parse.call(e.t0,e.t1);case 8:case"end":return e.stop()}}),e,this)})))}},{key:"storeConfiguration",value:function(){return Object(m.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.storage.setItem(h.b.SETTINGS_NOTIFICATIONS_TIME,this.time);case 2:return e.next=4,this.storage.setItem(h.b.SETTINGS_NOTIFICATIONS_WEEKDAYS,JSON.stringify(this.weekdays));case 4:this.utils.showToast("Updated");case 5:case"end":return e.stop()}}),e,this)})))}},{key:"cancelNotifications",value:function(){return Object(m.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.getPending();case 2:t=e.sent,v.cancel(t);case 4:case"end":return e.stop()}}),e)})))}},{key:"scheduleNotifications",value:function(){return Object(m.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t,n,i,a,r,o,s,l,c,d;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=parseInt(this.time.split(":")[0]),n=parseInt(this.time.split(":")[1]),i=[],a=1,e.next=4,this.translateService.get("BexTrack").toPromise();case 4:return r=e.sent,e.next=7,this.translateService.get("Did you track your time for today?").toPromise();case 7:for(o=e.sent,s=0,l=Object.keys(this.weekdays);s<l.length;s++)c=l[s],this.weekdays[c]&&(d=parseInt(c.substring(1)),i.push({id:a,title:r,text:o,foreground:!0,trigger:{every:{weekday:d,hour:t,minute:n}}}),a++);if(i.length>0)try{cordova.plugins.notification.local.schedule(i)}catch(u){console.error("Schedule Notifications",u)}case 10:case"end":return e.stop()}}),e,this)})))}}])&&t(i.prototype,a),r&&t(i,r),n}(),r.\u0275fac=function(e){return new(e||r)(f["\u0275\u0275directiveInject"](I.a),f["\u0275\u0275directiveInject"](S.a),f["\u0275\u0275directiveInject"](y.d))},r.\u0275cmp=f["\u0275\u0275defineComponent"]({type:r,selectors:[["app-notification-settings"]],decls:52,vars:38,consts:[["color","primary"],["slot","start"],["mode","md","defaultHref","/tabs/settings"],["displayFormat","HH:mm",3,"ngModel","ngModelChange","ionChange"],["slot","end",3,"ngModel","ngModelChange","ionChange"]],template:function(e,t){1&e&&(f["\u0275\u0275elementStart"](0,"ion-header"),f["\u0275\u0275elementStart"](1,"ion-toolbar",0),f["\u0275\u0275elementStart"](2,"ion-buttons",1),f["\u0275\u0275element"](3,"ion-back-button",2),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](4,"ion-title"),f["\u0275\u0275text"](5),f["\u0275\u0275pipe"](6,"translate"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](7,"ion-content"),f["\u0275\u0275elementStart"](8,"ion-list"),f["\u0275\u0275elementStart"](9,"ion-list-header"),f["\u0275\u0275text"](10),f["\u0275\u0275pipe"](11,"translate"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](12,"ion-item"),f["\u0275\u0275elementStart"](13,"ion-label"),f["\u0275\u0275text"](14),f["\u0275\u0275pipe"](15,"translate"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](16,"ion-datetime",3),f["\u0275\u0275listener"]("ngModelChange",(function(e){return t.time=e}))("ionChange",(function(){return t.notificationsChanged()})),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](17,"ion-item"),f["\u0275\u0275elementStart"](18,"ion-label"),f["\u0275\u0275text"](19),f["\u0275\u0275pipe"](20,"translate"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](21,"ion-checkbox",4),f["\u0275\u0275listener"]("ngModelChange",(function(e){return t.weekdays.d1=e}))("ionChange",(function(){return t.notificationsChanged()})),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](22,"ion-item"),f["\u0275\u0275elementStart"](23,"ion-label"),f["\u0275\u0275text"](24),f["\u0275\u0275pipe"](25,"translate"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](26,"ion-checkbox",4),f["\u0275\u0275listener"]("ngModelChange",(function(e){return t.weekdays.d2=e}))("ionChange",(function(){return t.notificationsChanged()})),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](27,"ion-item"),f["\u0275\u0275elementStart"](28,"ion-label"),f["\u0275\u0275text"](29),f["\u0275\u0275pipe"](30,"translate"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](31,"ion-checkbox",4),f["\u0275\u0275listener"]("ngModelChange",(function(e){return t.weekdays.d3=e}))("ionChange",(function(){return t.notificationsChanged()})),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](32,"ion-item"),f["\u0275\u0275elementStart"](33,"ion-label"),f["\u0275\u0275text"](34),f["\u0275\u0275pipe"](35,"translate"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](36,"ion-checkbox",4),f["\u0275\u0275listener"]("ngModelChange",(function(e){return t.weekdays.d4=e}))("ionChange",(function(){return t.notificationsChanged()})),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](37,"ion-item"),f["\u0275\u0275elementStart"](38,"ion-label"),f["\u0275\u0275text"](39),f["\u0275\u0275pipe"](40,"translate"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](41,"ion-checkbox",4),f["\u0275\u0275listener"]("ngModelChange",(function(e){return t.weekdays.d5=e}))("ionChange",(function(){return t.notificationsChanged()})),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](42,"ion-item"),f["\u0275\u0275elementStart"](43,"ion-label"),f["\u0275\u0275text"](44),f["\u0275\u0275pipe"](45,"translate"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](46,"ion-checkbox",4),f["\u0275\u0275listener"]("ngModelChange",(function(e){return t.weekdays.d6=e}))("ionChange",(function(){return t.notificationsChanged()})),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](47,"ion-item"),f["\u0275\u0275elementStart"](48,"ion-label"),f["\u0275\u0275text"](49),f["\u0275\u0275pipe"](50,"translate"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](51,"ion-checkbox",4),f["\u0275\u0275listener"]("ngModelChange",(function(e){return t.weekdays.d0=e}))("ionChange",(function(){return t.notificationsChanged()})),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"]()),2&e&&(f["\u0275\u0275advance"](5),f["\u0275\u0275textInterpolate1"](" ",f["\u0275\u0275pipeBind1"](6,18,"Notification settings")," "),f["\u0275\u0275advance"](5),f["\u0275\u0275textInterpolate"](f["\u0275\u0275pipeBind1"](11,20,"Time tracking reminder")),f["\u0275\u0275advance"](4),f["\u0275\u0275textInterpolate"](f["\u0275\u0275pipeBind1"](15,22,"Reminder time")),f["\u0275\u0275advance"](2),f["\u0275\u0275property"]("ngModel",t.time),f["\u0275\u0275advance"](3),f["\u0275\u0275textInterpolate"](f["\u0275\u0275pipeBind1"](20,24,"Monday")),f["\u0275\u0275advance"](2),f["\u0275\u0275property"]("ngModel",t.weekdays.d1),f["\u0275\u0275advance"](3),f["\u0275\u0275textInterpolate"](f["\u0275\u0275pipeBind1"](25,26,"Tuesday")),f["\u0275\u0275advance"](2),f["\u0275\u0275property"]("ngModel",t.weekdays.d2),f["\u0275\u0275advance"](3),f["\u0275\u0275textInterpolate"](f["\u0275\u0275pipeBind1"](30,28,"Wednesday")),f["\u0275\u0275advance"](2),f["\u0275\u0275property"]("ngModel",t.weekdays.d3),f["\u0275\u0275advance"](3),f["\u0275\u0275textInterpolate"](f["\u0275\u0275pipeBind1"](35,30,"Thursday")),f["\u0275\u0275advance"](2),f["\u0275\u0275property"]("ngModel",t.weekdays.d4),f["\u0275\u0275advance"](3),f["\u0275\u0275textInterpolate"](f["\u0275\u0275pipeBind1"](40,32,"Friday")),f["\u0275\u0275advance"](2),f["\u0275\u0275property"]("ngModel",t.weekdays.d5),f["\u0275\u0275advance"](3),f["\u0275\u0275textInterpolate"](f["\u0275\u0275pipeBind1"](45,34,"Saturday")),f["\u0275\u0275advance"](2),f["\u0275\u0275property"]("ngModel",t.weekdays.d6),f["\u0275\u0275advance"](3),f["\u0275\u0275textInterpolate"](f["\u0275\u0275pipeBind1"](50,36,"Sunday")),f["\u0275\u0275advance"](2),f["\u0275\u0275property"]("ngModel",t.weekdays.d0))},directives:[d.IonHeader,d.IonToolbar,d.IonButtons,d.IonBackButton,d.IonBackButtonDelegate,d.IonTitle,d.IonContent,d.IonList,d.IonListHeader,d.IonItem,d.IonLabel,d.IonDatetime,d.SelectValueAccessor,c.NgControlStatus,c.NgModel,d.IonCheckbox,d.BooleanValueAccessor],pipes:[y.c],styles:[""]}),r)}],k=((s=function t(){e(this,t)}).\u0275mod=f["\u0275\u0275defineNgModule"]({type:s}),s.\u0275inj=f["\u0275\u0275defineInjector"]({factory:function(e){return new(e||s)},imports:[[u.i.forChild(E)],u.i]}),s),C=((o=function t(){e(this,t)}).\u0275mod=f["\u0275\u0275defineNgModule"]({type:o}),o.\u0275inj=f["\u0275\u0275defineInjector"]({factory:function(e){return new(e||o)},imports:[[l.CommonModule,c.FormsModule,d.IonicModule,y.b,k]]}),o)}}])}();