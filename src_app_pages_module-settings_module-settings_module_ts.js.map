{"version":3,"file":"src_app_pages_module-settings_module-settings_module_ts.js","mappings":"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","sources":["./src/app/pages/module-settings/module-settings-routing.module.ts","./src/app/pages/module-settings/module-settings.module.ts","./src/app/pages/module-settings/module-settings.page.ts","./src/app/pages/module-settings/module-settings.page.html"],"sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { ModuleSettingsPage } from './module-settings.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: ModuleSettingsPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class ModuleSettingsPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { ModuleSettingsPageRoutingModule } from './module-settings-routing.module';\n\nimport { TranslateModule } from '@ngx-translate/core';\nimport { ModuleSettingsPage } from './module-settings.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    TranslateModule,\n    ModuleSettingsPageRoutingModule\n  ],\n  declarations: [ModuleSettingsPage]\n})\nexport class NotificationSettingsPageModule {}\n","import { Component } from '@angular/core';\nimport { Plugins } from '@capacitor/core';\nimport { TranslateService } from '@ngx-translate/core';\nimport * as _ from 'lodash';\nimport { DEFAULTS, STORAGE } from 'src/app/models/constants';\nimport { StorageService } from 'src/app/services/storage/storage.service';\nimport { UtilsService } from 'src/app/services/utils/utils.service';\nconst { LocalNotifications } = Plugins;\ndeclare var cordova: any;\n\n@Component({\n  selector: 'app-module-settings',\n  templateUrl: './module-settings.page.html',\n  styleUrls: ['./module-settings.page.scss'],\n})\nexport class ModuleSettingsPage {\n\n  public time = DEFAULTS.NOTIFICATION_TIME\n  public modules = DEFAULTS.MODULES\n\n  constructor(\n    private utils: UtilsService,\n    private storage: StorageService,\n    private translateService: TranslateService,\n  ) {\n    this.init()\n  }\n\n  async init() {\n    this.time = await this.storage.getString(STORAGE.SETTINGS_NOTIFICATIONS_TIME, DEFAULTS.NOTIFICATION_TIME)\n    this.modules = JSON.parse(await this.storage.getString(STORAGE.SETTINGS_MODULES, JSON.stringify(DEFAULTS.MODULES)))\n  }\n\n  private async storeConfiguration() {\n    await this.storage.setItem(STORAGE.SETTINGS_MODULES, JSON.stringify(this.modules))\n    location.reload()\n    this.utils.showToast('Updated')\n  }\n\n  notificationsChanged = _.debounce(async () => {\n    this.utils.requestNotificationPermission()\n    await this.storeConfiguration()\n  }, 2000);\n\n}\n","<ion-header>\n  <ion-toolbar color=\"primary\">\n    <ion-buttons slot=\"start\">\n      <ion-back-button mode=\"md\" defaultHref=\"/tabs/settings\"></ion-back-button>\n    </ion-buttons>\n    <ion-title>\n      {{ 'Module settings' | translate }}\n    </ion-title>\n  </ion-toolbar>\n</ion-header>\n\n<ion-content>\n  <ion-list>\n    <ion-list-header>{{ 'Activate or deactivate modules' | translate }}</ion-list-header>\n    <ion-item>\n      <ion-label>{{ 'Dashboard' | translate }}</ion-label>\n      <ion-checkbox slot=\"end\" [(ngModel)]=\"modules.dashboard\" (ionChange)=\"notificationsChanged()\"></ion-checkbox>\n    </ion-item>\n    <!-- <ion-item>\n      <ion-label>{{ 'Contacts' | translate }}</ion-label>\n      <ion-checkbox slot=\"end\" [(ngModel)]=\"modules.contacts\" (ionChange)=\"notificationsChanged()\"></ion-checkbox>\n    </ion-item> -->\n    <ion-item>\n      <ion-label>{{ 'Stopwatches' | translate }}</ion-label>\n      <ion-checkbox slot=\"end\" [(ngModel)]=\"modules.stopwatches\" (ionChange)=\"notificationsChanged()\"></ion-checkbox>\n    </ion-item>\n    <ion-item>\n      <ion-label>{{ 'Times' | translate }}</ion-label>\n      <ion-checkbox slot=\"end\" [(ngModel)]=\"modules.times\" (ionChange)=\"notificationsChanged()\"></ion-checkbox>\n    </ion-item>\n    <ion-item>\n      <ion-label>{{ 'Projects' | translate }}</ion-label>\n      <ion-checkbox slot=\"end\" [(ngModel)]=\"modules.projects\" (ionChange)=\"notificationsChanged()\"></ion-checkbox>\n    </ion-item>\n  </ion-list>\n</ion-content>"],"names":["RouterModule","ModuleSettingsPage","routes","path","component","ModuleSettingsPageRoutingModule","forChild","imports","exports","CommonModule","FormsModule","IonicModule","TranslateModule","NotificationSettingsPageModule","declarations","Plugins","_","DEFAULTS","STORAGE","LocalNotifications","constructor","utils","storage","translateService","NOTIFICATION_TIME","MODULES","debounce","_this","requestNotificationPermission","storeConfiguration","init","_this2","time","getString","SETTINGS_NOTIFICATIONS_TIME","modules","JSON","parse","SETTINGS_MODULES","stringify","_this3","setItem","location","reload","showToast","selectors","decls","vars","consts","template","i0","ctx"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}