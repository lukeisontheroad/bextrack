!function(){function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function n(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{dLgr:function(t,r,i){"use strict";i.r(r),i.d(r,"StopwatchesPageModule",(function(){return A}));var a=i("ofXK"),o=i("3Pt+"),s=i("TEn/"),c=i("tyNb"),l=i("mrSG"),u=i("fXoL"),p=i("gcOT"),h=i("mYOz"),d=i("TCge"),m=i("sYmb"),f=i("E2f4"),v=i("HPR3"),w=i("SdGS"),g=i("oZWX");function x(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"ion-avatar",11),u["\u0275\u0275element"](1,"img",12),u["\u0275\u0275elementEnd"]())}function I(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"ion-avatar",11),u["\u0275\u0275element"](1,"img",13),u["\u0275\u0275elementEnd"]())}function S(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"p"),u["\u0275\u0275text"](1),u["\u0275\u0275pipe"](2,"translate"),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"]();u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate2"]("",u["\u0275\u0275pipeBind1"](2,2,"Project"),": ",null==n.stopwatch?null:n.stopwatch.selectedProjectText,"")}}function b(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"p"),u["\u0275\u0275text"](1),u["\u0275\u0275pipe"](2,"translate"),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"]();u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate2"]("",u["\u0275\u0275pipeBind1"](2,2,"Package"),": ",null==n.stopwatch?null:n.stopwatch.selectedPackageText,"")}}function k(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"p"),u["\u0275\u0275text"](1),u["\u0275\u0275pipe"](2,"translate"),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"]();u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate2"]("",u["\u0275\u0275pipeBind1"](2,2,"Service"),": ",null==n.stopwatch?null:n.stopwatch.selectedClientServiceText,"")}}function T(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"p"),u["\u0275\u0275text"](1),u["\u0275\u0275pipe"](2,"translate"),u["\u0275\u0275elementEnd"]()),2&e){var n=u["\u0275\u0275nextContext"]();u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate2"]("",u["\u0275\u0275pipeBind1"](2,2,"Status"),": ",null==n.stopwatch?null:n.stopwatch.selectedStatusText,"")}}function y(e,t){if(1&e){var n=u["\u0275\u0275getCurrentView"]();u["\u0275\u0275elementStart"](0,"ion-button",14),u["\u0275\u0275listener"]("click",(function(){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]().startTimer()})),u["\u0275\u0275element"](1,"ion-icon",15),u["\u0275\u0275text"](2),u["\u0275\u0275pipe"](3,"translate"),u["\u0275\u0275elementEnd"]()}2&e&&(u["\u0275\u0275advance"](2),u["\u0275\u0275textInterpolate1"]("\xa0",u["\u0275\u0275pipeBind1"](3,1,"Start"),""))}function E(e,t){if(1&e){var n=u["\u0275\u0275getCurrentView"]();u["\u0275\u0275elementStart"](0,"ion-button",14),u["\u0275\u0275listener"]("click",(function(){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]().startTimer()})),u["\u0275\u0275element"](1,"ion-icon",15),u["\u0275\u0275text"](2),u["\u0275\u0275pipe"](3,"translate"),u["\u0275\u0275elementEnd"]()}2&e&&(u["\u0275\u0275advance"](2),u["\u0275\u0275textInterpolate1"]("\xa0",u["\u0275\u0275pipeBind1"](3,1,"Continue"),""))}function C(e,t){if(1&e){var n=u["\u0275\u0275getCurrentView"]();u["\u0275\u0275elementStart"](0,"ion-button",16),u["\u0275\u0275listener"]("click",(function(){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]().pauseTimer()})),u["\u0275\u0275element"](1,"ion-icon",17),u["\u0275\u0275text"](2),u["\u0275\u0275pipe"](3,"translate"),u["\u0275\u0275elementEnd"]()}2&e&&(u["\u0275\u0275advance"](2),u["\u0275\u0275textInterpolate1"]("\xa0",u["\u0275\u0275pipeBind1"](3,1,"Pause"),""))}var R,j=p.Plugins.LocalNotifications,O=((R=function(){function t(n,r,i,a,o,s,c){e(this,t),this.translateService=n,this.storage=r,this.utils=i,this.stopwatchesService=a,this.apiService=o,this.alertController=s,this.navController=c,this.onEdit=new u.EventEmitter,this.onDelete=new u.EventEmitter,this.timerDisplay="00:00:00",this.difference=0,this.savedTime=0,this.paused=0,this.running=0,this.resolution=100}return n(t,[{key:"ngOnInit",value:function(){return Object(l.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadCurrentState();case 2:1===this.running&&0===this.paused&&(this.tInterval=setInterval((function(){t.getShowTime()}),this.resolution));case 3:case"end":return e.stop()}}),e,this)})))}},{key:"edit",value:function(){return Object(l.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.onEdit.emit(this.stopwatch.id);case 1:case"end":return e.stop()}}),e,this)})))}},{key:"delete",value:function(){return Object(l.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.utils.confirm("Are you sure?","Delete "+this.stopwatch.title);case 2:if(!e.sent){e.next=9;break}return e.next=5,this.stopwatchesService.delete(this.stopwatch);case 5:this.utils.showToast("Deleted"),this.onDelete.emit(!0),e.next=10;break;case 9:this.onDelete.emit(!1);case 10:case"end":return e.stop()}}),e,this)})))}},{key:"startTimer",value:function(){var e=this;this.startTime=(new Date).getTime(),this.tInterval=setInterval((function(){e.getShowTime()}),this.resolution),this.paused=0,this.running=1,this.saveCurrentState(),this.startNotification(),this.stopwatchesService.setCurrentStopwatch(this.stopwatch)}},{key:"loadItem",value:function(e){var t=this;return new Promise((function(n){return Object(l.a)(t,void 0,void 0,regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.storage.getString(this.stopwatch.id+"_"+e,null);case 2:null!=(r=t.sent)&&(this[e+""]="number"==typeof this[e+""]?parseFloat(r):r),n();case 4:case"end":return t.stop()}}),t,this)})))}))}},{key:"saveItem",value:function(e,t){return this.storage.setItem(this.stopwatch.id+"_"+e,t)}},{key:"loadCurrentState",value:function(){return Object(l.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){return Object(l.a)(t,void 0,void 0,regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(n=[],r=0;r<d.b.STOPWATCHES_FIELDS.length;r++)n.push(this.loadItem(d.b.STOPWATCHES_FIELDS[r]));return t.next=4,Promise.all(n);case 4:e();case 5:case"end":return t.stop()}}),t,this)})))})));case 1:case"end":return e.stop()}}),e)})))}},{key:"saveCurrentState",value:function(){return Object(l.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t,n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t=[],n=0;n<d.b.STOPWATCHES_FIELDS.length;n++)r=d.b.STOPWATCHES_FIELDS[n],t.push(this.saveItem(r,this[r]));return e.next=4,Promise.all(t);case 4:case"end":return e.stop()}}),e,this)})))}},{key:"pauseTimer",value:function(){this.difference&&(this.paused||(clearInterval(this.tInterval),this.savedTime=this.difference,this.paused=1,this.running=0,this.saveCurrentState(),this.stopNotification()))}},{key:"processTimesheet",value:function(){return Object(l.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){return Object(l.a)(t,void 0,void 0,regeneratorRuntime.mark((function t(){var n=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(0!==this.difference){t.next=4;break}e(!0),this.navController.navigateRoot("/create-time/stopwatch/"+this.stopwatch.id),t.next=18;break;case 4:if(0!==this.stopwatch.strategy){t.next=11;break}return this.pauseTimer(),t.next=8,this.alertController.create({header:"Create time",message:"Do you want to edit the timeentry before creating it?",buttons:[{text:"Edit before create",handler:function(){return Object(l.a)(n,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e(!0),this.navController.navigateRoot("/create-time/stopwatch/"+this.stopwatch.id);case 1:case"end":return t.stop()}}),t,this)})))}},{text:"Create without edit",handler:function(){e(!0),n.createTimesheet()}},{text:"Continue stopwatch",role:"cancel",handler:function(){n.startTimer()}},{text:"Reset stopwatch",cssClass:"secondary",handler:function(){e(!0)}}]});case 8:t.sent.present(),t.next=18;break;case 11:if(1!==this.stopwatch.strategy){t.next=17;break}return t.next=14,this.createTimesheet();case 14:e(!0),t.next=18;break;case 17:2===this.stopwatch.strategy?(this.navController.navigateRoot("/create-time/stopwatch/"+this.stopwatch.id),e(!0)):(console.error("Strategy not implemented"),e(!1));case 18:case"end":return t.stop()}}),t,this)})))})));case 1:case"end":return e.stop()}}),e)})))}},{key:"createTimesheet",value:function(){var e=this;return new Promise((function(t){return Object(l.a)(e,void 0,void 0,regeneratorRuntime.mark((function e(){var n,r,i,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.stopwatchesService.get(this.stopwatch.id);case 2:return n=e.sent,n=Object.assign(new h.a,this.stopwatch),e.t0=n,e.next=7,this.apiService.getUser();case 7:return e.t1=e.sent.id,e.next=10,e.t0.toTimesheet.call(e.t0,e.t1);case 10:return r=e.sent,e.next=13,this.storage.getNumber(d.b.SETTINGS_STEPS);case 13:if(e.t2=e.sent,i=60*e.t2,!((a=n.timerDisplay.split(":").map((function(e){return parseInt(e)})))[0]>0||a[1]>=i/60)){e.next=23;break}return e.next=19,this.apiService.postTimesheet(r);case 19:this.utils.showToast("Time entry created"),t(!0),e.next=24;break;case 23:this.utils.showToast("Duration below minimum tracking time of "+i/60+"min"),t(!1);case 24:case"end":return e.stop()}}),e,this)})))}))}},{key:"stopTimer",value:function(){return Object(l.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.processTimesheet();case 2:if(!e.sent){e.next=6;break}clearInterval(this.tInterval),this.savedTime=0,this.difference=0,this.paused=0,this.running=0,this.timerDisplay="00:00:00",this.stopNotification(),setTimeout((function(){t.saveCurrentState()}),1e3),e.next=7;break;case 6:this.pauseTimer();case 7:case"end":return e.stop()}}),e,this)})))}},{key:"getShowTime",value:function(){this.updatedTime=(new Date).getTime(),this.difference=this.savedTime?this.updatedTime-this.startTime+this.savedTime:this.updatedTime-this.startTime;var e=Math.floor(this.difference%864e5/36e5),t=Math.floor(this.difference%36e5/6e4),n=Math.floor(this.difference%6e4/1e3);Math.floor(this.difference%6e4/100),this.timerDisplay=(e<10?"0"+e:e)+":"+(t<10?"0"+t:t)+":"+(n<10?"0"+n:n)}},{key:"startNotification",value:function(){return Object(l.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Start notification"),e.next=3,j.requestPermission();case 3:if(!e.sent){e.next=25;break}return e.prev=4,e.t0=cordova.plugins.notification.local,e.t1=parseInt("0x"+this.stopwatch.id.substring(0,8)),e.next=9,this.translateService.get("BexTrack").toPromise();case 9:return e.t2=e.sent,e.next=12,this.translateService.get("timewatch-is-running").toPromise();case 12:e.t3=e.sent,e.t4=!0,e.t5=!0,e.t6=!1,e.t7={id:e.t1,title:e.t2,text:e.t3,sticky:e.t4,ongoing:e.t5,autoClear:e.t6},e.t0.schedule.call(e.t0,e.t7),e.next=23;break;case 20:e.prev=20,e.t8=e.catch(4),console.error("Notificaiton error",e.t8);case 23:e.next=26;break;case 25:console.warn("No notification permission");case 26:case"end":return e.stop()}}),e,this,[[4,20]])})))}},{key:"stopNotification",value:function(){return Object(l.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("Stop notification");try{cordova.plugins.notification.local.cancel(parseInt("0x"+this.stopwatch.id.substring(0,8)))}catch(t){console.error("Notificaiton error",t)}case 2:case"end":return e.stop()}}),e,this)})))}}]),t}()).\u0275fac=function(e){return new(e||R)(u["\u0275\u0275directiveInject"](m.d),u["\u0275\u0275directiveInject"](f.a),u["\u0275\u0275directiveInject"](v.a),u["\u0275\u0275directiveInject"](w.a),u["\u0275\u0275directiveInject"](g.a),u["\u0275\u0275directiveInject"](s.AlertController),u["\u0275\u0275directiveInject"](s.NavController))},R.\u0275cmp=u["\u0275\u0275defineComponent"]({type:R,selectors:[["app-stopwatch-template"]],inputs:{stopwatch:"stopwatch"},outputs:{onEdit:"onEdit",onDelete:"onDelete"},decls:33,vars:24,consts:[["slot","start",4,"ngIf"],[4,"ngIf"],["slot","end",1,"controls"],["slot","end",3,"click",4,"ngIf"],["slot","end","color","warning",3,"click",4,"ngIf"],["fill","clear","slot","end"],["color","secondary","slot","end","slot","end",3,"click"],["name","create-outline"],["side","end"],["color","warning",3,"click"],["color","danger",3,"click"],["slot","start"],["src","/assets/paid.png"],["src","/assets/free.png"],["slot","end",3,"click"],["name","play-outline"],["slot","end","color","warning",3,"click"],["name","pause-outline"]],template:function(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"ion-item-sliding"),u["\u0275\u0275elementStart"](1,"ion-item"),u["\u0275\u0275template"](2,x,2,0,"ion-avatar",0),u["\u0275\u0275template"](3,I,2,0,"ion-avatar",0),u["\u0275\u0275elementStart"](4,"ion-label"),u["\u0275\u0275elementStart"](5,"h2"),u["\u0275\u0275text"](6),u["\u0275\u0275elementEnd"](),u["\u0275\u0275template"](7,S,3,4,"p",1),u["\u0275\u0275template"](8,b,3,4,"p",1),u["\u0275\u0275template"](9,k,3,4,"p",1),u["\u0275\u0275template"](10,T,3,4,"p",1),u["\u0275\u0275elementStart"](11,"p"),u["\u0275\u0275text"](12),u["\u0275\u0275pipe"](13,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](14,"div",2),u["\u0275\u0275template"](15,y,4,3,"ion-button",3),u["\u0275\u0275template"](16,E,4,3,"ion-button",3),u["\u0275\u0275template"](17,C,4,3,"ion-button",4),u["\u0275\u0275element"](18,"br"),u["\u0275\u0275elementStart"](19,"ion-button",5),u["\u0275\u0275text"](20),u["\u0275\u0275elementEnd"](),u["\u0275\u0275element"](21,"br"),u["\u0275\u0275elementStart"](22,"ion-button",6),u["\u0275\u0275listener"]("click",(function(){return t.stopTimer()})),u["\u0275\u0275element"](23,"ion-icon",7),u["\u0275\u0275text"](24),u["\u0275\u0275pipe"](25,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](26,"ion-item-options",8),u["\u0275\u0275elementStart"](27,"ion-item-option",9),u["\u0275\u0275listener"]("click",(function(){return t.edit()})),u["\u0275\u0275text"](28),u["\u0275\u0275pipe"](29,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](30,"ion-item-option",10),u["\u0275\u0275listener"]("click",(function(){return t.delete()})),u["\u0275\u0275text"](31),u["\u0275\u0275pipe"](32,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"]()),2&e&&(u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("ngIf",t.stopwatch.allowable_bill),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",!t.stopwatch.allowable_bill),u["\u0275\u0275advance"](3),u["\u0275\u0275textInterpolate"](null==t.stopwatch?null:t.stopwatch.title),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",null==t.stopwatch?null:t.stopwatch.selectedProjectText),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",null==t.stopwatch?null:t.stopwatch.selectedPackageText),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",null==t.stopwatch?null:t.stopwatch.selectedClientServiceText),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",null==t.stopwatch?null:t.stopwatch.selectedStatusText),u["\u0275\u0275advance"](2),u["\u0275\u0275textInterpolate2"]("",u["\u0275\u0275pipeBind1"](13,16,"Description"),": ",null==t.stopwatch?null:t.stopwatch.text,""),u["\u0275\u0275advance"](3),u["\u0275\u0275property"]("ngIf",0==t.difference&&(0==t.running||1==t.paused)),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",t.difference>0&&(0==t.running||1==t.paused)),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",1==t.running&&1!=t.paused),u["\u0275\u0275advance"](3),u["\u0275\u0275textInterpolate"](t.timerDisplay),u["\u0275\u0275advance"](4),u["\u0275\u0275textInterpolate1"]("\xa0",u["\u0275\u0275pipeBind1"](25,18,"Create"),""),u["\u0275\u0275advance"](4),u["\u0275\u0275textInterpolate"](u["\u0275\u0275pipeBind1"](29,20,"Edit")),u["\u0275\u0275advance"](3),u["\u0275\u0275textInterpolate"](u["\u0275\u0275pipeBind1"](32,22,"Delete")))},directives:[s.IonItemSliding,s.IonItem,a.NgIf,s.IonLabel,s.IonButton,s.IonIcon,s.IonItemOptions,s.IonItemOption,s.IonAvatar],pipes:[m.c],styles:["ion-button[_ngcontent-%COMP%]{width:110px;height:30px}h2[_ngcontent-%COMP%]{font-weight:700}"]}),R);function P(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"div",7),u["\u0275\u0275elementStart"](1,"ion-grid"),u["\u0275\u0275elementStart"](2,"ion-row"),u["\u0275\u0275element"](3,"ion-icon",8),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](4,"ion-row"),u["\u0275\u0275elementStart"](5,"h1"),u["\u0275\u0275text"](6),u["\u0275\u0275pipe"](7,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"]()),2&e&&(u["\u0275\u0275advance"](6),u["\u0275\u0275textInterpolate"](u["\u0275\u0275pipeBind1"](7,1,"No stopwatches found")))}function D(e,t){if(1&e){var n=u["\u0275\u0275getCurrentView"]();u["\u0275\u0275elementStart"](0,"app-stopwatch-template",9),u["\u0275\u0275listener"]("onDelete",(function(e){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]().delete(e)}))("onEdit",(function(e){return u["\u0275\u0275restoreView"](n),u["\u0275\u0275nextContext"]().edit(e)})),u["\u0275\u0275elementEnd"]()}2&e&&u["\u0275\u0275property"]("stopwatch",t.$implicit)}var N,B,L,_=[{path:"",component:(N=function(){function t(n,r,i){var a=this;e(this,t),this.navController=n,this.stopwatchesService=r,this.storage=i,this.stopwatches=[],this.loading=!1,this.stopwatchesService.stopwatches.subscribe((function(e){return a.stopwatches=e})),this.stopwatchesService.getCurrentStopwatch().subscribe((function(e){return Object(l.a)(a,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.storage.getBoolean(d.b.SETTINGS_STOPWATCH_SINGULAR,d.a.STOPWATCH_SINGULAR);case 2:if(t.t0=t.sent,!t.t0){t.next=5;break}this.stopwatchComponents.filter((function(t){return t.stopwatch.id!=e.id})).map((function(e){return e.pauseTimer()}));case 5:case"end":return t.stop()}}),t,this)})))}))}return n(t,[{key:"doRefresh",value:function(e){return Object(l.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var n=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.loading=!0,e&&e.target.complete(),setTimeout((function(){n.loading=!1}),1e3);case 1:case"end":return t.stop()}}),t,this)})))}},{key:"delete",value:function(e){return Object(l.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e||this.list.closeSlidingItems();case 1:case"end":return t.stop()}}),t,this)})))}},{key:"edit",value:function(e){return Object(l.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.navController.navigateRoot("/stopwatch/"+e);case 1:case"end":return t.stop()}}),t,this)})))}}]),t}(),N.\u0275fac=function(e){return new(e||N)(u["\u0275\u0275directiveInject"](s.NavController),u["\u0275\u0275directiveInject"](w.a),u["\u0275\u0275directiveInject"](f.a))},N.\u0275cmp=u["\u0275\u0275defineComponent"]({type:N,selectors:[["app-stopwatches"]],viewQuery:function(e,t){var n;1&e&&(u["\u0275\u0275staticViewQuery"](s.IonList,!0),u["\u0275\u0275viewQuery"](O,!0)),2&e&&(u["\u0275\u0275queryRefresh"](n=u["\u0275\u0275loadQuery"]())&&(t.list=n.first),u["\u0275\u0275queryRefresh"](n=u["\u0275\u0275loadQuery"]())&&(t.stopwatchComponents=n))},decls:14,vars:5,consts:[["color","primary"],["slot","fixed",3,"ionRefresh"],["class","no-items",4,"ngIf"],[3,"stopwatch","onDelete","onEdit",4,"ngFor","ngForOf"],["vertical","bottom","horizontal","end","slot","fixed"],["routerLink","/stopwatch/","color","secondary"],["name","add"],[1,"no-items"],["name","stopwatch-outline"],[3,"stopwatch","onDelete","onEdit"]],template:function(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"ion-header"),u["\u0275\u0275elementStart"](1,"ion-toolbar",0),u["\u0275\u0275elementStart"](2,"ion-title"),u["\u0275\u0275text"](3),u["\u0275\u0275pipe"](4,"translate"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](5,"ion-content"),u["\u0275\u0275elementStart"](6,"ion-refresher",1),u["\u0275\u0275listener"]("ionRefresh",(function(e){return t.doRefresh(e)})),u["\u0275\u0275element"](7,"ion-refresher-content"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275template"](8,P,8,3,"div",2),u["\u0275\u0275elementStart"](9,"ion-list"),u["\u0275\u0275template"](10,D,1,1,"app-stopwatch-template",3),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](11,"ion-fab",4),u["\u0275\u0275elementStart"](12,"ion-fab-button",5),u["\u0275\u0275element"](13,"ion-icon",6),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"]()),2&e&&(u["\u0275\u0275advance"](3),u["\u0275\u0275textInterpolate1"](" ",u["\u0275\u0275pipeBind1"](4,3,"Stopwatches")," "),u["\u0275\u0275advance"](5),u["\u0275\u0275property"]("ngIf",0===t.stopwatches.length&&!t.loading),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("ngForOf",t.stopwatches))},directives:[s.IonHeader,s.IonToolbar,s.IonTitle,s.IonContent,s.IonRefresher,s.IonRefresherContent,a.NgIf,s.IonList,a.NgForOf,s.IonFab,s.IonFabButton,s.RouterLinkDelegate,c.h,s.IonIcon,s.IonGrid,s.IonRow,O],pipes:[m.c],styles:[""]}),N)}],F=((B=function t(){e(this,t)}).\u0275mod=u["\u0275\u0275defineNgModule"]({type:B}),B.\u0275inj=u["\u0275\u0275defineInjector"]({factory:function(e){return new(e||B)},imports:[[c.i.forChild(_)],c.i]}),B),M=i("j1ZV"),A=((L=function t(){e(this,t)}).\u0275mod=u["\u0275\u0275defineNgModule"]({type:L}),L.\u0275inj=u["\u0275\u0275defineInjector"]({factory:function(e){return new(e||L)},imports:[[a.CommonModule,o.FormsModule,s.IonicModule,M.a,m.b,F]]}),L)}}])}();