{"version":3,"file":"default-src_app_pages_contacts_contacts_module_ts.js","mappings":"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","sources":["./src/app/pages/contacts/contacts-routing.module.ts","./src/app/pages/contacts/contacts.module.ts","./src/app/pages/contacts/contacts.page.ts","./src/app/pages/contacts/contacts.page.html"],"sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { ContactsPage } from './contacts.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: ContactsPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class ContactsPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { ContactsPageRoutingModule } from './contacts-routing.module';\n\nimport { ContactsPage } from './contacts.page';\nimport { TranslateModule } from '@ngx-translate/core';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    TranslateModule,\n    ContactsPageRoutingModule\n  ],\n  declarations: [ContactsPage]\n})\nexport class ContactsPageModule {}\n","import { Component, OnInit } from '@angular/core';\nimport { Contact } from 'src/app/models/contact';\nimport { ApiService } from 'src/app/services/api/api.service';\nimport { Contacts, Contact as NativeContact, ContactField, ContactName, ContactAddress, ContactFindOptions } from '@ionic-native/contacts/ngx';\nimport { UtilsService } from 'src/app/services/utils/utils.service';\ntype ContactResult = {isUpdate: boolean, contact: NativeContact};\n\n@Component({\n  selector: 'app-contacts',\n  templateUrl: './contacts.page.html',\n  styleUrls: ['./contacts.page.scss'],\n})\nexport class ContactsPage implements OnInit {\n\n  public skeletons = new Array(12);\n  public loading = true;\n\n  private contacts: Contact[] = []\n  public filteredContacts: Contact[] = []\n\n  constructor(\n    private nativeContacts: Contacts,\n    private apiService: ApiService,\n    private utils: UtilsService\n  ) { }\n\n  ngOnInit() {\n    this.init()\n  }\n\n  private async init() {\n    this.doRefresh();\n    this.apiService.projectsUpdated.subscribe(() => this.doRefresh())\n  }\n\n  public async doRefresh(event?: any) {\n    this.loading = true\n    this.contacts = await this.apiService.getContacts(true)\n    this.filteredContacts = this.contacts\n\n    if (event) {\n      event.target.complete();\n    }\n    this.loading = false\n  }\n\n  onSearch($event) {\n    let value = $event.detail.value.toLowerCase()\n    if (value === '') {\n      this.filteredContacts = this.contacts\n    } else {\n      this.filteredContacts = this.contacts.filter(contact => {\n        return contact.name_1.toLowerCase().indexOf(value) != -1 || (contact.name_2 && contact.name_2.toLowerCase().indexOf(value) != -1)\n      })\n    }\n  }\n\n\n  async getContact(contact: Contact): Promise<ContactResult> {\n    return new Promise(async resolve => {\n      let nativeContact = this.nativeContacts.create();\n      let isUpdate = false\n      let fields = [['emails', 'mail'], ['phoneNumbers', 'phone_mobile'], ['phoneNumbers', 'phone_fixed'], ['displayName', 'calculated_name']]\n      for(var i = 0; i < fields.length; i++){\n        if(fields[fields[i][0]] === 'displayName'){\n          // abort\n          resolve({isUpdate: isUpdate, contact: nativeContact})\n          return\n        }else if(contact[fields[i][1]] !== null && contact[fields[i][1]].length > 0){\n          i = fields.length + 1\n        }\n      }\n      let options = new ContactFindOptions();\n      let results: NativeContact[] = []\n      contact.calculated_name = (contact?.name_2?.trim() + ' ' + contact?.name_1?.trim()).trim()\n      for(var i = 0; i < fields.length; i++){\n        if(contact[fields[i][1]] !== null && contact[fields[i][1]].length > 0){\n          console.log('set filter to ' + contact[fields[i][1]])\n          options.filter = contact[fields[i][1]];\n          options.multiple = false;\n          results = await this.nativeContacts.find([fields[i][0] as any], options);\n          console.log('result', results)\n          if (results.length === 1) {\n            isUpdate = true\n            nativeContact = results[0]\n            i = fields.length + 1\n          }\n        }\n      }\n      resolve({isUpdate: isUpdate, contact: nativeContact})\n    })\n  }\n\n  async export(contact: Contact) {\n    let contactResult = await this.getContact(contact)\n    let nativeContact = contactResult.contact\n    // let nativeContact: NativeContact = this.nativeContacts.create();\n    console.log('name', contact)\n    // let formattedName = (contact.name_2) ? contact.name_2 + ' ' + contact.name_1 : contact.name_1\n    nativeContact.name = new ContactName(null, contact?.name_1?.trim(), contact?.name_2?.trim());\n    nativeContact.addresses = [new ContactAddress(true, 'work', null, contact.address, contact.city, null, contact.postcode + '')];\n    nativeContact.note = contact.remarks\n    nativeContact.birthday = contact.birthday\n\n    // Emails\n    let phoneNumbers = []\n    if (contact.phone_mobile) phoneNumbers.push(new ContactField('mobile', contact.phone_mobile))\n    if (contact.phone_fixed) phoneNumbers.push(new ContactField('work', contact.phone_fixed))\n    if (contact.phone_fixed_second) phoneNumbers.push(new ContactField('home', contact.phone_fixed_second))\n    if (phoneNumbers.length > 0) nativeContact.phoneNumbers = phoneNumbers\n\n    // Emails\n    let emails = []\n    if (contact.mail) emails.push(new ContactField('work', contact.mail))\n    if (contact.mail_second) emails.push(new ContactField('private', contact.mail_second))\n    if (emails.length > 0) nativeContact.emails = emails\n\n    nativeContact.save().then(\n      () => {\n        if (contactResult.isUpdate) {\n          this.utils.showToast('Updated')\n        } else {\n          this.utils.showToast('Created')\n        }\n      },\n      (error: any) => {\n        this.utils.showToast('Export failed')\n      }\n    );\n  }\n\n}\n","<ion-header color=\"primary\">\n  <ion-toolbar color=\"primary\">\n    <ion-title>\n      {{ 'Contacts' | translate }}\n    </ion-title>\n  </ion-toolbar>\n</ion-header>\n\n<ion-content>\n  <ion-searchbar debounce=\"500\" (ionChange)=\"onSearch($event)\"></ion-searchbar>\n\n  <ion-list *ngIf=\"loading\">\n    <div *ngFor=\"let n of skeletons\">\n      <ion-item>\n        <ion-avatar slot=\"start\">\n          <ion-skeleton-text animated></ion-skeleton-text>\n        </ion-avatar>\n        <ion-label>\n          <ion-skeleton-text animated style=\"width: 60%\"></ion-skeleton-text>\n        </ion-label>\n      </ion-item>\n    </div>\n  </ion-list>\n\n  <ion-list>\n    <ion-virtual-scroll [items]=\"filteredContacts\" approxItemHeight=\"40px\">\n\n    <ion-item-sliding *virtualItem=\"let contact;\">\n      <ion-item>\n\n        <ion-icon slot=\"start\" *ngIf=\"contact.contact_type_id == 1\" name=\"business-outline\"></ion-icon>\n        <ion-icon slot=\"start\" *ngIf=\"contact.contact_type_id != 1\" name=\"person-outline\"></ion-icon>\n        <ion-label>\n          <h2>{{ contact?.name_1 }}<span *ngIf=\"contact.name_2\">,</span> {{ contact?.name_2 }}</h2>\n          <p *ngIf=\"contact.phone_mobile\">{{ contact.phone_mobile }}</p>\n          <p *ngIf=\"contact.phone_fixed\">{{ contact.phone_fixed }}</p>\n          <p *ngIf=\"contact.mail\">{{ contact.mail }}</p>\n          <p *ngIf=\"contact.address\">{{ contact.address }}</p>\n          <p *ngIf=\"contact.postcode || contact.city\">{{ contact.postcode }} {{ contact.city }}</p>\n          <!-- <p>Exists: {{ (getContact(contact) | async).isUpdate }}</p> -->\n        </ion-label>\n      </ion-item>\n      <ion-item-options side=\"end\">\n        <ion-item-option (click)=\"export(contact)\">{{ 'Export' | translate }}</ion-item-option>\n        <!-- <ion-item-option color=\"danger\" (click)=\"delete(time)\">{{ 'Delete' | translate }}</ion-item-option> -->\n      </ion-item-options>\n    </ion-item-sliding>\n  </ion-virtual-scroll>\n\n  </ion-list>\n</ion-content>"],"names":["RouterModule","ContactsPage","routes","path","component","ContactsPageRoutingModule","forChild","imports","exports","CommonModule","FormsModule","IonicModule","TranslateModule","ContactsPageModule","declarations","ContactField","ContactName","ContactAddress","ContactFindOptions","i0","constructor","nativeContacts","apiService","utils","Array","ngOnInit","init","_this","doRefresh","projectsUpdated","subscribe","event","_this2","loading","contacts","getContacts","filteredContacts","target","complete","onSearch","$event","value","detail","toLowerCase","filter","contact","name_1","indexOf","name_2","getContact","Promise","resolve","nativeContact","_this3","create","isUpdate","fields","i","length","options","results","calculated_name","trim","console","log","multiple","find","export","contactResult","_this4","name","addresses","address","city","postcode","note","remarks","birthday","phoneNumbers","phone_mobile","push","phone_fixed","phone_fixed_second","emails","mail","mail_second","save","then","showToast","error","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}